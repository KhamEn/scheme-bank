var uk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var UJ=uk((Wt,Qt)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ck(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),hk=Symbol.for("react.portal"),dk=Symbol.for("react.fragment"),fk=Symbol.for("react.strict_mode"),pk=Symbol.for("react.profiler"),gk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),vk=Symbol.for("react.forward_ref"),yk=Symbol.for("react.suspense"),wk=Symbol.for("react.memo"),bk=Symbol.for("react.lazy"),N0=Symbol.iterator;function Sk(t){return t===null||typeof t!="object"?null:(t=N0&&t[N0]||t["@@iterator"],typeof t=="function"?t:null)}var qb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kb=Object.assign,Wb={};function vo(t,e,n){this.props=t,this.context=e,this.refs=Wb,this.updater=n||qb}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qb(){}Qb.prototype=vo.prototype;function _g(t,e,n){this.props=t,this.context=e,this.refs=Wb,this.updater=n||qb}var Cg=_g.prototype=new Qb;Cg.constructor=_g;Kb(Cg,vo.prototype);Cg.isPureReactComponent=!0;var P0=Array.isArray,Yb=Object.prototype.hasOwnProperty,Tg={current:null},Xb={key:!0,ref:!0,__self:!0,__source:!0};function Jb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Yb.call(e,r)&&!Xb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hl,type:t,key:s,ref:o,props:i,_owner:Tg.current}}function Ek(t,e){return{$$typeof:hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ig(t){return typeof t=="object"&&t!==null&&t.$$typeof===hl}function xk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D0=/\/+/g;function Td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xk(""+t.key):e.toString(36)}function Au(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hl:case hk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Td(o,0):r,P0(i)?(n="",t!=null&&(n=t.replace(D0,"$&/")+"/"),Au(i,e,n,"",function(u){return u})):i!=null&&(Ig(i)&&(i=Ek(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",P0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Td(s,a);o+=Au(s,e,n,l,i)}else if(l=Sk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Td(s,a++),o+=Au(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zl(t,e,n){if(t==null)return t;var r=[],i=0;return Au(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},$u={transition:null},Ck={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:$u,ReactCurrentOwner:Tg};se.Children={map:Zl,forEach:function(t,e,n){Zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zl(t,function(){e++}),e},toArray:function(t){return Zl(t,function(e){return e})||[]},only:function(t){if(!Ig(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=vo;se.Fragment=dk;se.Profiler=pk;se.PureComponent=_g;se.StrictMode=fk;se.Suspense=yk;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Yb.call(e,l)&&!Xb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hl,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:mk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gk,_context:t},t.Consumer=t};se.createElement=Jb;se.createFactory=function(t){var e=Jb.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:vk,render:t}};se.isValidElement=Ig;se.lazy=function(t){return{$$typeof:bk,_payload:{_status:-1,_result:t},_init:_k}};se.memo=function(t,e){return{$$typeof:wk,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=$u.transition;$u.transition={};try{t()}finally{$u.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return Rt.current.useCallback(t,e)};se.useContext=function(t){return Rt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Rt.current.useEffect(t,e)};se.useId=function(){return Rt.current.useId()};se.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Rt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};se.useRef=function(t){return Rt.current.useRef(t)};se.useState=function(t){return Rt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Rt.current.useTransition()};se.version="18.2.0";(function(t){t.exports=se})(x);const le=ck(x.exports);var Pf={},kg={exports:{}},en={},Zb={exports:{}},eS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,G){var F=M.length;M.push(G);e:for(;0<F;){var ve=F-1>>>1,ce=M[ve];if(0<i(ce,G))M[ve]=G,M[F]=ce,F=ve;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var G=M[0],F=M.pop();if(F!==G){M[0]=F;e:for(var ve=0,ce=M.length,ts=ce>>>1;ve<ts;){var qn=2*(ve+1)-1,Tt=M[qn],Gt=qn+1,ci=M[Gt];if(0>i(Tt,F))Gt<ce&&0>i(ci,Tt)?(M[ve]=ci,M[Gt]=F,ve=Gt):(M[ve]=Tt,M[qn]=F,ve=qn);else if(Gt<ce&&0>i(ci,F))M[ve]=ci,M[Gt]=F,ve=Gt;else break e}}return G}function i(M,G){var F=M.sortIndex-G.sortIndex;return F!==0?F:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=M)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function _(M){if(w=!1,y(M),!v)if(n(l)!==null)v=!0,ht(I);else{var G=n(u);G!==null&&me(_,G.startTime-M)}}function I(M,G){v=!1,w&&(w=!1,m(A),A=-1),f=!0;var F=d;try{for(y(G),h=n(l);h!==null&&(!(h.expirationTime>G)||M&&!L());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,d=h.priorityLevel;var ce=ve(h.expirationTime<=G);G=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(l)&&r(l),y(G)}else r(l);h=n(l)}if(h!==null)var ts=!0;else{var qn=n(u);qn!==null&&me(_,qn.startTime-G),ts=!1}return ts}finally{h=null,d=F,f=!1}}var T=!1,k=null,A=-1,H=5,z=-1;function L(){return!(t.unstable_now()-z<H)}function te(){if(k!==null){var M=t.unstable_now();z=M;var G=!0;try{G=k(!0,M)}finally{G?he():(T=!1,k=null)}}else T=!1}var he;if(typeof g=="function")he=function(){g(te)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ct=rt.port2;rt.port1.onmessage=te,he=function(){ct.postMessage(null)}}else he=function(){E(te,0)};function ht(M){k=M,T||(T=!0,he())}function me(M,G){A=E(function(){M(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,ht(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var F=d;d=G;try{return M()}finally{d=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=d;d=M;try{return G()}finally{d=F}},t.unstable_scheduleCallback=function(M,G,F){var ve=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ve+F:ve):F=ve,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=F+ce,M={id:c++,callback:G,priorityLevel:M,startTime:F,expirationTime:ce,sortIndex:-1},F>ve?(M.sortIndex=F,e(u,M),n(l)===null&&M===n(u)&&(w?(m(A),A=-1):w=!0,me(_,F-ve))):(M.sortIndex=ce,e(l,M),v||f||(v=!0,ht(I))),M},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(M){var G=d;return function(){var F=d;d=G;try{return M.apply(this,arguments)}finally{d=F}}}})(eS);(function(t){t.exports=eS})(Zb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=x.exports,Xt=Zb.exports;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nS=new Set,ka={};function ji(t,e){Ys(t,e),Ys(t+"Capture",e)}function Ys(t,e){for(ka[t]=e,t=0;t<e.length;t++)nS.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,Tk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L0={},M0={};function Ik(t){return Df.call(M0,t)?!0:Df.call(L0,t)?!1:Tk.test(t)?M0[t]=!0:(L0[t]=!0,!1)}function kk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ak(t,e,n,r){if(e===null||typeof e>"u"||kk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ag=/[\-:]([a-z])/g;function $g(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ag,$g);lt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ag,$g);lt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ag,$g);lt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rg(t,e,n,r){var i=lt.hasOwnProperty(e)?lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ak(e,n,i,r)&&(n=null),r||i===null?Ik(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gr=tS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),_s=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),iS=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Pg=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),sS=Symbol.for("react.offscreen"),F0=Symbol.iterator;function Bo(t){return t===null||typeof t!="object"?null:(t=F0&&t[F0]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Id;function Zo(t){if(Id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Id=e&&e[1]||""}return`
`+Id+t}var kd=!1;function Ad(t,e){if(!t||kd)return"";kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zo(t):""}function $k(t){switch(t.tag){case 5:return Zo(t.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return t=Ad(t.type,!1),t;case 11:return t=Ad(t.type.render,!1),t;case 1:return t=Ad(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case _s:return"Portal";case Lf:return"Profiler";case Og:return"StrictMode";case Mf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iS:return(t.displayName||"Context")+".Consumer";case rS:return(t._context.displayName||"Context")+".Provider";case Ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pg:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function Rk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ok(t){var e=oS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tu(t){t._valueTracker||(t._valueTracker=Ok(t))}function aS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bf(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function U0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lS(t,e){e=e.checked,e!=null&&Rg(t,"checked",e,!1)}function jf(t,e){lS(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hf(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hf(t,e,n){(e!=="number"||Xu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ea=Array.isArray;function Us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(ea(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function uS(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function H0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nu,hS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nu=nu||document.createElement("div"),nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nk=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(t){Nk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),da[e]=da[t]})});function dS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||da.hasOwnProperty(t)&&da[t]?(""+e).trim():e+"px"}function fS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Pk=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gf(t,e){if(e){if(Pk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function qf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=null;function Dg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,Bs=null,js=null;function V0(t){if(t=pl(t)){if(typeof Wf!="function")throw Error(O(280));var e=t.stateNode;e&&(e=oh(e),Wf(t.stateNode,t.type,e))}}function pS(t){Bs?js?js.push(t):js=[t]:Bs=t}function gS(){if(Bs){var t=Bs,e=js;if(js=Bs=null,V0(t),e)for(t=0;t<e.length;t++)V0(e[t])}}function mS(t,e){return t(e)}function vS(){}var $d=!1;function yS(t,e,n){if($d)return t(e,n);$d=!0;try{return mS(t,e,n)}finally{$d=!1,(Bs!==null||js!==null)&&(vS(),gS())}}function $a(t,e){var n=t.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Qf=!1;if(ir)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{Qf=!1}function Dk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var fa=!1,Ju=null,Zu=!1,Yf=null,Lk={onError:function(t){fa=!0,Ju=t}};function Mk(t,e,n,r,i,s,o,a,l){fa=!1,Ju=null,Dk.apply(Lk,arguments)}function Fk(t,e,n,r,i,s,o,a,l){if(Mk.apply(this,arguments),fa){if(fa){var u=Ju;fa=!1,Ju=null}else throw Error(O(198));Zu||(Zu=!0,Yf=u)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z0(t){if(Hi(t)!==t)throw Error(O(188))}function Uk(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return z0(i),t;if(s===r)return z0(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function bS(t){return t=Uk(t),t!==null?SS(t):null}function SS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SS(t);if(e!==null)return e;t=t.sibling}return null}var ES=Xt.unstable_scheduleCallback,G0=Xt.unstable_cancelCallback,Bk=Xt.unstable_shouldYield,jk=Xt.unstable_requestPaint,Fe=Xt.unstable_now,Hk=Xt.unstable_getCurrentPriorityLevel,Lg=Xt.unstable_ImmediatePriority,xS=Xt.unstable_UserBlockingPriority,ec=Xt.unstable_NormalPriority,Vk=Xt.unstable_LowPriority,_S=Xt.unstable_IdlePriority,nh=null,Dn=null;function zk(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(nh,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Kk,Gk=Math.log,qk=Math.LN2;function Kk(t){return t>>>=0,t===0?32:31-(Gk(t)/qk|0)|0}var ru=64,iu=4194304;function ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ta(a):(s&=o,s!==0&&(r=ta(s)))}else o=n&~i,o!==0?r=ta(o):s!==0&&(r=ta(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),i=1<<n,r|=t[n],e&=~i;return r}function Wk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=Wk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CS(){var t=ru;return ru<<=1,(ru&4194240)===0&&(ru=64),t}function Rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function Yk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function TS(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var IS,Fg,kS,AS,$S,Jf=!1,su=[],Mr=null,Fr=null,Ur=null,Ra=new Map,Oa=new Map,Ir=[],Xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(e.pointerId)}}function Ho(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pl(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jk(t,e,n,r,i){switch(e){case"focusin":return Mr=Ho(Mr,t,e,n,r,i),!0;case"dragenter":return Fr=Ho(Fr,t,e,n,r,i),!0;case"mouseover":return Ur=Ho(Ur,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ra.set(s,Ho(Ra.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Oa.set(s,Ho(Oa.get(s)||null,t,e,n,r,i)),!0}return!1}function RS(t){var e=mi(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=wS(n),e!==null){t.blockedOn=e,$S(t.priority,function(){kS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kf=r,n.target.dispatchEvent(r),Kf=null}else return e=pl(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function K0(t,e,n){Ru(t)&&n.delete(e)}function Zk(){Jf=!1,Mr!==null&&Ru(Mr)&&(Mr=null),Fr!==null&&Ru(Fr)&&(Fr=null),Ur!==null&&Ru(Ur)&&(Ur=null),Ra.forEach(K0),Oa.forEach(K0)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,Jf||(Jf=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Zk)))}function Na(t){function e(i){return Vo(i,t)}if(0<su.length){Vo(su[0],t);for(var n=1;n<su.length;n++){var r=su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&Vo(Mr,t),Fr!==null&&Vo(Fr,t),Ur!==null&&Vo(Ur,t),Ra.forEach(e),Oa.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)RS(n),n.blockedOn===null&&Ir.shift()}var Hs=gr.ReactCurrentBatchConfig,nc=!0;function eA(t,e,n,r){var i=ge,s=Hs.transition;Hs.transition=null;try{ge=1,Ug(t,e,n,r)}finally{ge=i,Hs.transition=s}}function tA(t,e,n,r){var i=ge,s=Hs.transition;Hs.transition=null;try{ge=4,Ug(t,e,n,r)}finally{ge=i,Hs.transition=s}}function Ug(t,e,n,r){if(nc){var i=Zf(t,e,n,r);if(i===null)jd(t,e,r,rc,n),q0(t,r);else if(Jk(i,t,e,n,r))r.stopPropagation();else if(q0(t,r),e&4&&-1<Xk.indexOf(t)){for(;i!==null;){var s=pl(i);if(s!==null&&IS(s),s=Zf(t,e,n,r),s===null&&jd(t,e,r,rc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jd(t,e,r,null,n)}}var rc=null;function Zf(t,e,n,r){if(rc=null,t=Dg(r),t=mi(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rc=t,null}function OS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hk()){case Lg:return 1;case xS:return 4;case ec:case Vk:return 16;case _S:return 536870912;default:return 16}default:return 16}}var Nr=null,Bg=null,Ou=null;function NS(){if(Ou)return Ou;var t,e=Bg,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ou=i.slice(t,1<r?1-r:void 0)}function Nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ou(){return!0}function W0(){return!1}function tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ou:W0,this.isPropagationStopped=W0,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),e}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=tn(yo),fl=Oe({},yo,{view:0,detail:0}),nA=tn(fl),Od,Nd,zo,rh=Oe({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(Od=t.screenX-zo.screenX,Nd=t.screenY-zo.screenY):Nd=Od=0,zo=t),Od)},movementY:function(t){return"movementY"in t?t.movementY:Nd}}),Q0=tn(rh),rA=Oe({},rh,{dataTransfer:0}),iA=tn(rA),sA=Oe({},fl,{relatedTarget:0}),Pd=tn(sA),oA=Oe({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),aA=tn(oA),lA=Oe({},yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uA=tn(lA),cA=Oe({},yo,{data:0}),Y0=tn(cA),hA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fA[t])?!!e[t]:!1}function Hg(){return pA}var gA=Oe({},fl,{key:function(t){if(t.key){var e=hA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hg,charCode:function(t){return t.type==="keypress"?Nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mA=tn(gA),vA=Oe({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=tn(vA),yA=Oe({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hg}),wA=tn(yA),bA=Oe({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),SA=tn(bA),EA=Oe({},rh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xA=tn(EA),_A=[9,13,27,32],Vg=ir&&"CompositionEvent"in window,pa=null;ir&&"documentMode"in document&&(pa=document.documentMode);var CA=ir&&"TextEvent"in window&&!pa,PS=ir&&(!Vg||pa&&8<pa&&11>=pa),J0=String.fromCharCode(32),Z0=!1;function DS(t,e){switch(t){case"keyup":return _A.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function TA(t,e){switch(t){case"compositionend":return LS(e);case"keypress":return e.which!==32?null:(Z0=!0,J0);case"textInput":return t=e.data,t===J0&&Z0?null:t;default:return null}}function IA(t,e){if(Ts)return t==="compositionend"||!Vg&&DS(t,e)?(t=NS(),Ou=Bg=Nr=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PS&&e.locale!=="ko"?null:e.data;default:return null}}var kA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kA[t.type]:e==="textarea"}function MS(t,e,n,r){pS(r),e=ic(e,"onChange"),0<e.length&&(n=new jg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,Pa=null;function AA(t){WS(t,0)}function ih(t){var e=As(t);if(aS(e))return t}function $A(t,e){if(t==="change")return e}var FS=!1;if(ir){var Dd;if(ir){var Ld="oninput"in document;if(!Ld){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Ld=typeof ty.oninput=="function"}Dd=Ld}else Dd=!1;FS=Dd&&(!document.documentMode||9<document.documentMode)}function ny(){ga&&(ga.detachEvent("onpropertychange",US),Pa=ga=null)}function US(t){if(t.propertyName==="value"&&ih(Pa)){var e=[];MS(e,Pa,t,Dg(t)),yS(AA,e)}}function RA(t,e,n){t==="focusin"?(ny(),ga=e,Pa=n,ga.attachEvent("onpropertychange",US)):t==="focusout"&&ny()}function OA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(Pa)}function NA(t,e){if(t==="click")return ih(e)}function PA(t,e){if(t==="input"||t==="change")return ih(e)}function DA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:DA;function Da(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Df.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iy(t,e){var n=ry(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ry(n)}}function BS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jS(){for(var t=window,e=Xu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xu(t.document)}return e}function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LA(t){var e=jS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BS(n.ownerDocument.documentElement,n)){if(r!==null&&zg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iy(n,s);var o=iy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MA=ir&&"documentMode"in document&&11>=document.documentMode,Is=null,ep=null,ma=null,tp=!1;function sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tp||Is==null||Is!==Xu(r)||(r=Is,"selectionStart"in r&&zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ma&&Da(ma,r)||(ma=r,r=ic(ep,"onSelect"),0<r.length&&(e=new jg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},Md={},HS={};ir&&(HS=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function sh(t){if(Md[t])return Md[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HS)return Md[t]=e[n];return t}var VS=sh("animationend"),zS=sh("animationiteration"),GS=sh("animationstart"),qS=sh("transitionend"),KS=new Map,oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){KS.set(t,e),ji(e,[t])}for(var Fd=0;Fd<oy.length;Fd++){var Ud=oy[Fd],FA=Ud.toLowerCase(),UA=Ud[0].toUpperCase()+Ud.slice(1);ni(FA,"on"+UA)}ni(VS,"onAnimationEnd");ni(zS,"onAnimationIteration");ni(GS,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(qS,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function ay(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Fk(r,e,void 0,t),t.currentTarget=null}function WS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ay(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ay(i,a,u),s=l}}}if(Zu)throw t=Yf,Zu=!1,Yf=null,t}function Se(t,e){var n=e[op];n===void 0&&(n=e[op]=new Set);var r=t+"__bubble";n.has(r)||(QS(e,t,2,!1),n.add(r))}function Bd(t,e,n){var r=0;e&&(r|=4),QS(n,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[lu]){t[lu]=!0,nS.forEach(function(n){n!=="selectionchange"&&(BA.has(n)||Bd(n,!1,t),Bd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,Bd("selectionchange",!1,e))}}function QS(t,e,n,r){switch(OS(e)){case 1:var i=eA;break;case 4:i=tA;break;default:i=Ug}n=i.bind(null,e,n,t),i=void 0,!Qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jd(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yS(function(){var u=s,c=Dg(n),h=[];e:{var d=KS.get(t);if(d!==void 0){var f=jg,v=t;switch(t){case"keypress":if(Nu(n)===0)break e;case"keydown":case"keyup":f=mA;break;case"focusin":v="focus",f=Pd;break;case"focusout":v="blur",f=Pd;break;case"beforeblur":case"afterblur":f=Pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wA;break;case VS:case zS:case GS:f=aA;break;case qS:f=SA;break;case"scroll":f=nA;break;case"wheel":f=xA;break;case"copy":case"cut":case"paste":f=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=X0}var w=(e&4)!==0,E=!w&&t==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var g=u,y;g!==null;){y=g;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,m!==null&&(_=$a(g,m),_!=null&&w.push(Ma(g,_,y)))),E)break;g=g.return}0<w.length&&(d=new f(d,v,null,n,c),h.push({event:d,listeners:w}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Kf&&(v=n.relatedTarget||n.fromElement)&&(mi(v)||v[sr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?mi(v):null,v!==null&&(E=Hi(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(w=Q0,_="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=X0,_="onPointerLeave",m="onPointerEnter",g="pointer"),E=f==null?d:As(f),y=v==null?d:As(v),d=new w(_,g+"leave",f,n,c),d.target=E,d.relatedTarget=y,_=null,mi(c)===u&&(w=new w(m,g+"enter",v,n,c),w.target=y,w.relatedTarget=E,_=w),E=_,f&&v)t:{for(w=f,m=v,g=0,y=w;y;y=ns(y))g++;for(y=0,_=m;_;_=ns(_))y++;for(;0<g-y;)w=ns(w),g--;for(;0<y-g;)m=ns(m),y--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=ns(w),m=ns(m)}w=null}else w=null;f!==null&&ly(h,d,f,w,!1),v!==null&&E!==null&&ly(h,E,v,w,!0)}}e:{if(d=u?As(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=$A;else if(ey(d))if(FS)I=PA;else{I=OA;var T=RA}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=NA);if(I&&(I=I(t,u))){MS(h,I,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Hf(d,"number",d.value)}switch(T=u?As(u):window,t){case"focusin":(ey(T)||T.contentEditable==="true")&&(Is=T,ep=u,ma=null);break;case"focusout":ma=ep=Is=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,sy(h,n,c);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":sy(h,n,c)}var k;if(Vg)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ts?DS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(PS&&n.locale!=="ko"&&(Ts||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ts&&(k=NS()):(Nr=c,Bg="value"in Nr?Nr.value:Nr.textContent,Ts=!0)),T=ic(u,A),0<T.length&&(A=new Y0(A,t,null,n,c),h.push({event:A,listeners:T}),k?A.data=k:(k=LS(n),k!==null&&(A.data=k)))),(k=CA?TA(t,n):IA(t,n))&&(u=ic(u,"onBeforeInput"),0<u.length&&(c=new Y0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}WS(h,e)})}function Ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ic(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$a(t,n),s!=null&&r.unshift(Ma(t,s,i)),s=$a(t,e),s!=null&&r.push(Ma(t,s,i))),t=t.return}return r}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ly(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=$a(n,s),l!=null&&o.unshift(Ma(n,l,a))):i||(l=$a(n,s),l!=null&&o.push(Ma(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function uy(t){return(typeof t=="string"?t:""+t).replace(jA,`
`).replace(HA,"")}function uu(t,e,n){if(e=uy(e),uy(t)!==e&&n)throw Error(O(425))}function sc(){}var np=null,rp=null;function ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,zA=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(t){return cy.resolve(null).then(t).catch(GA)}:sp;function GA(t){setTimeout(function(){throw t})}function Hd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Na(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Na(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),On="__reactFiber$"+wo,Fa="__reactProps$"+wo,sr="__reactContainer$"+wo,op="__reactEvents$"+wo,qA="__reactListeners$"+wo,KA="__reactHandles$"+wo;function mi(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hy(t);t!==null;){if(n=t[On])return n;t=hy(t)}return e}t=n,n=t.parentNode}return null}function pl(t){return t=t[On]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function As(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function oh(t){return t[Fa]||null}var ap=[],$s=-1;function ri(t){return{current:t}}function Ce(t){0>$s||(t.current=ap[$s],ap[$s]=null,$s--)}function we(t,e){$s++,ap[$s]=t.current,t.current=e}var Yr={},Et=ri(Yr),Mt=ri(!1),Ai=Yr;function Xs(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function oc(){Ce(Mt),Ce(Et)}function dy(t,e,n){if(Et.current!==Yr)throw Error(O(168));we(Et,e),we(Mt,n)}function YS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,Rk(t)||"Unknown",i));return Oe({},n,r)}function ac(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,Ai=Et.current,we(Et,t),we(Mt,Mt.current),!0}function fy(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=YS(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Ce(Mt),Ce(Et),we(Et,t)):Ce(Mt),we(Mt,n)}var Qn=null,ah=!1,Vd=!1;function XS(t){Qn===null?Qn=[t]:Qn.push(t)}function WA(t){ah=!0,XS(t)}function ii(){if(!Vd&&Qn!==null){Vd=!0;var t=0,e=ge;try{var n=Qn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,ah=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(t+1)),ES(Lg,ii),i}finally{ge=e,Vd=!1}}return null}var Rs=[],Os=0,lc=null,uc=0,sn=[],on=0,$i=null,Yn=1,Xn="";function hi(t,e){Rs[Os++]=uc,Rs[Os++]=lc,lc=t,uc=e}function JS(t,e,n){sn[on++]=Yn,sn[on++]=Xn,sn[on++]=$i,$i=t;var r=Yn;t=Xn;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yn=1<<32-xn(e)+i|n<<i|r,Xn=s+t}else Yn=1<<s|n<<i|r,Xn=t}function Gg(t){t.return!==null&&(hi(t,1),JS(t,1,0))}function qg(t){for(;t===lc;)lc=Rs[--Os],Rs[Os]=null,uc=Rs[--Os],Rs[Os]=null;for(;t===$i;)$i=sn[--on],sn[on]=null,Xn=sn[--on],sn[on]=null,Yn=sn[--on],sn[on]=null}var Yt=null,Kt=null,Te=!1,Sn=null;function ZS(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function py(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$i!==null?{id:Yn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Kt=null,!0):!1;default:return!1}}function lp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function up(t){if(Te){var e=Kt;if(e){var n=e;if(!py(t,e)){if(lp(t))throw Error(O(418));e=Br(n.nextSibling);var r=Yt;e&&py(t,e)?ZS(r,n):(t.flags=t.flags&-4097|2,Te=!1,Yt=t)}}else{if(lp(t))throw Error(O(418));t.flags=t.flags&-4097|2,Te=!1,Yt=t}}}function gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function cu(t){if(t!==Yt)return!1;if(!Te)return gy(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ip(t.type,t.memoizedProps)),e&&(e=Kt)){if(lp(t))throw eE(),Error(O(418));for(;e;)ZS(t,e),e=Br(e.nextSibling)}if(gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Yt?Br(t.stateNode.nextSibling):null;return!0}function eE(){for(var t=Kt;t;)t=Br(t.nextSibling)}function Js(){Kt=Yt=null,Te=!1}function Kg(t){Sn===null?Sn=[t]:Sn.push(t)}var QA=gr.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var cc=ri(null),hc=null,Ns=null,Wg=null;function Qg(){Wg=Ns=hc=null}function Yg(t){var e=cc.current;Ce(cc),t._currentValue=e}function cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vs(t,e){hc=t,Wg=Ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Dt=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Wg!==t)if(t={context:t,memoizedValue:e,next:null},Ns===null){if(hc===null)throw Error(O(308));Ns=t,hc.dependencies={lanes:0,firstContext:t}}else Ns=Ns.next=t;return e}var vi=null;function Xg(t){vi===null?vi=[t]:vi.push(t)}function tE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xg(e)):(n.next=i.next,i.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function Jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ue&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,or(t,n)}return i=r.interleaved,i===null?(e.next=e,Xg(r)):(e.next=i.next,i.next=e),r.interleaved=e,or(t,n)}function Pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}function my(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dc(t,e,n,r){var i=t.updateQueue;Cr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(d=e,f=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(f,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(f,h,d):v,d==null)break e;h=Oe({},h,d);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=h}}function vy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var rE=new tS.Component().refs;function hp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lh={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=At(),i=Vr(t),s=nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(_n(e,t,i,r),Pu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=At(),i=Vr(t),s=nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(_n(e,t,i,r),Pu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),r=Vr(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(_n(e,t,r,n),Pu(e,t,r))}};function yy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Da(n,r)||!Da(i,s):!0}function iE(t,e,n){var r=!1,i=Yr,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(i=Ft(e)?Ai:Et.current,r=e.contextTypes,s=(r=r!=null)?Xs(t,i):Yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function wy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lh.enqueueReplaceState(e,e.state,null)}function dp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=rE,Jg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fn(s):(s=Ft(e)?Ai:Et.current,i.context=Xs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lh.enqueueReplaceState(i,i.state,null),dc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===rE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function by(t){var e=t._init;return e(t._payload)}function sE(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=zr(m,g),m.index=0,m.sibling=null,m}function s(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,y,_){return g===null||g.tag!==6?(g=Yd(y,m.mode,_),g.return=m,g):(g=i(g,y),g.return=m,g)}function l(m,g,y,_){var I=y.type;return I===Cs?c(m,g,y.props.children,_,y.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_r&&by(I)===g.type)?(_=i(g,y.props),_.ref=Go(m,g,y),_.return=m,_):(_=Bu(y.type,y.key,y.props,null,m.mode,_),_.ref=Go(m,g,y),_.return=m,_)}function u(m,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Xd(y,m.mode,_),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function c(m,g,y,_,I){return g===null||g.tag!==7?(g=_i(y,m.mode,_,I),g.return=m,g):(g=i(g,y),g.return=m,g)}function h(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Yd(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case eu:return y=Bu(g.type,g.key,g.props,null,m.mode,y),y.ref=Go(m,null,g),y.return=m,y;case _s:return g=Xd(g,m.mode,y),g.return=m,g;case _r:var _=g._init;return h(m,_(g._payload),y)}if(ea(g)||Bo(g))return g=_i(g,m.mode,y,null),g.return=m,g;hu(m,g)}return null}function d(m,g,y,_){var I=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(m,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case eu:return y.key===I?l(m,g,y,_):null;case _s:return y.key===I?u(m,g,y,_):null;case _r:return I=y._init,d(m,g,I(y._payload),_)}if(ea(y)||Bo(y))return I!==null?null:c(m,g,y,_,null);hu(m,y)}return null}function f(m,g,y,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(y)||null,a(g,m,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eu:return m=m.get(_.key===null?y:_.key)||null,l(g,m,_,I);case _s:return m=m.get(_.key===null?y:_.key)||null,u(g,m,_,I);case _r:var T=_._init;return f(m,g,y,T(_._payload),I)}if(ea(_)||Bo(_))return m=m.get(y)||null,c(g,m,_,I,null);hu(g,_)}return null}function v(m,g,y,_){for(var I=null,T=null,k=g,A=g=0,H=null;k!==null&&A<y.length;A++){k.index>A?(H=k,k=null):H=k.sibling;var z=d(m,k,y[A],_);if(z===null){k===null&&(k=H);break}t&&k&&z.alternate===null&&e(m,k),g=s(z,g,A),T===null?I=z:T.sibling=z,T=z,k=H}if(A===y.length)return n(m,k),Te&&hi(m,A),I;if(k===null){for(;A<y.length;A++)k=h(m,y[A],_),k!==null&&(g=s(k,g,A),T===null?I=k:T.sibling=k,T=k);return Te&&hi(m,A),I}for(k=r(m,k);A<y.length;A++)H=f(k,m,A,y[A],_),H!==null&&(t&&H.alternate!==null&&k.delete(H.key===null?A:H.key),g=s(H,g,A),T===null?I=H:T.sibling=H,T=H);return t&&k.forEach(function(L){return e(m,L)}),Te&&hi(m,A),I}function w(m,g,y,_){var I=Bo(y);if(typeof I!="function")throw Error(O(150));if(y=I.call(y),y==null)throw Error(O(151));for(var T=I=null,k=g,A=g=0,H=null,z=y.next();k!==null&&!z.done;A++,z=y.next()){k.index>A?(H=k,k=null):H=k.sibling;var L=d(m,k,z.value,_);if(L===null){k===null&&(k=H);break}t&&k&&L.alternate===null&&e(m,k),g=s(L,g,A),T===null?I=L:T.sibling=L,T=L,k=H}if(z.done)return n(m,k),Te&&hi(m,A),I;if(k===null){for(;!z.done;A++,z=y.next())z=h(m,z.value,_),z!==null&&(g=s(z,g,A),T===null?I=z:T.sibling=z,T=z);return Te&&hi(m,A),I}for(k=r(m,k);!z.done;A++,z=y.next())z=f(k,m,A,z.value,_),z!==null&&(t&&z.alternate!==null&&k.delete(z.key===null?A:z.key),g=s(z,g,A),T===null?I=z:T.sibling=z,T=z);return t&&k.forEach(function(te){return e(m,te)}),Te&&hi(m,A),I}function E(m,g,y,_){if(typeof y=="object"&&y!==null&&y.type===Cs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case eu:e:{for(var I=y.key,T=g;T!==null;){if(T.key===I){if(I=y.type,I===Cs){if(T.tag===7){n(m,T.sibling),g=i(T,y.props.children),g.return=m,m=g;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_r&&by(I)===T.type){n(m,T.sibling),g=i(T,y.props),g.ref=Go(m,T,y),g.return=m,m=g;break e}n(m,T);break}else e(m,T);T=T.sibling}y.type===Cs?(g=_i(y.props.children,m.mode,_,y.key),g.return=m,m=g):(_=Bu(y.type,y.key,y.props,null,m.mode,_),_.ref=Go(m,g,y),_.return=m,m=_)}return o(m);case _s:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=Xd(y,m.mode,_),g.return=m,m=g}return o(m);case _r:return T=y._init,E(m,g,T(y._payload),_)}if(ea(y))return v(m,g,y,_);if(Bo(y))return w(m,g,y,_);hu(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,y),g.return=m,m=g):(n(m,g),g=Yd(y,m.mode,_),g.return=m,m=g),o(m)):n(m,g)}return E}var Zs=sE(!0),oE=sE(!1),gl={},Ln=ri(gl),Ua=ri(gl),Ba=ri(gl);function yi(t){if(t===gl)throw Error(O(174));return t}function Zg(t,e){switch(we(Ba,e),we(Ua,t),we(Ln,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zf(e,t)}Ce(Ln),we(Ln,e)}function eo(){Ce(Ln),Ce(Ua),Ce(Ba)}function aE(t){yi(Ba.current);var e=yi(Ln.current),n=zf(e,t.type);e!==n&&(we(Ua,t),we(Ln,n))}function em(t){Ua.current===t&&(Ce(Ln),Ce(Ua))}var $e=ri(0);function fc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zd=[];function tm(){for(var t=0;t<zd.length;t++)zd[t]._workInProgressVersionPrimary=null;zd.length=0}var Du=gr.ReactCurrentDispatcher,Gd=gr.ReactCurrentBatchConfig,Ri=0,Re=null,ze=null,et=null,pc=!1,va=!1,ja=0,YA=0;function dt(){throw Error(O(321))}function nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function rm(t,e,n,r,i,s){if(Ri=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Du.current=t===null||t.memoizedState===null?e$:t$,t=n(r,i),va){s=0;do{if(va=!1,ja=0,25<=s)throw Error(O(301));s+=1,et=ze=null,e.updateQueue=null,Du.current=n$,t=n(r,i)}while(va)}if(Du.current=gc,e=ze!==null&&ze.next!==null,Ri=0,et=ze=Re=null,pc=!1,e)throw Error(O(300));return t}function im(){var t=ja!==0;return ja=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Re.memoizedState=et=t:et=et.next=t,et}function pn(){if(ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=et===null?Re.memoizedState:et.next;if(e!==null)et=e,ze=t;else{if(t===null)throw Error(O(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},et===null?Re.memoizedState=et=t:et=et.next=t}return et}function Ha(t,e){return typeof e=="function"?e(t):e}function qd(t){var e=pn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ri&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Re.lanes|=c,Oi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Oi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kd(t){var e=pn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cn(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function lE(){}function uE(t,e){var n=Re,r=pn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,sm(dE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Va(9,hE.bind(null,n,r,i,e),void 0,null),tt===null)throw Error(O(349));(Ri&30)!==0||cE(n,e,i)}return i}function cE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hE(t,e,n,r){e.value=n,e.getSnapshot=r,fE(e)&&pE(t)}function dE(t,e,n){return n(function(){fE(e)&&pE(t)})}function fE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function pE(t){var e=or(t,1);e!==null&&_n(e,t,1,-1)}function Sy(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=ZA.bind(null,Re,t),[e.memoizedState,t]}function Va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gE(){return pn().memoizedState}function Lu(t,e,n,r){var i=Rn();Re.flags|=t,i.memoizedState=Va(1|e,n,void 0,r===void 0?null:r)}function uh(t,e,n,r){var i=pn();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&nm(r,o.deps)){i.memoizedState=Va(e,n,s,r);return}}Re.flags|=t,i.memoizedState=Va(1|e,n,s,r)}function Ey(t,e){return Lu(8390656,8,t,e)}function sm(t,e){return uh(2048,8,t,e)}function mE(t,e){return uh(4,2,t,e)}function vE(t,e){return uh(4,4,t,e)}function yE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wE(t,e,n){return n=n!=null?n.concat([t]):null,uh(4,4,yE.bind(null,e,t),n)}function om(){}function bE(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SE(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function EE(t,e,n){return(Ri&21)===0?(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n):(Cn(n,e)||(n=CS(),Re.lanes|=n,Oi|=n,t.baseState=!0),e)}function XA(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Gd.transition;Gd.transition={};try{t(!1),e()}finally{ge=n,Gd.transition=r}}function xE(){return pn().memoizedState}function JA(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_E(t))CE(e,n);else if(n=tE(t,e,n,r),n!==null){var i=At();_n(n,t,r,i),TE(n,e,r)}}function ZA(t,e,n){var r=Vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_E(t))CE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,o)){var l=e.interleaved;l===null?(i.next=i,Xg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=tE(t,e,i,r),n!==null&&(i=At(),_n(n,t,r,i),TE(n,e,r))}}function _E(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function CE(t,e){va=pc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TE(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}var gc={readContext:fn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},e$={readContext:fn,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:Ey,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lu(4194308,4,yE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lu(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JA.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:Sy,useDebugValue:om,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=Sy(!1),e=t[0];return t=XA.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=Rn();if(Te){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),tt===null)throw Error(O(349));(Ri&30)!==0||cE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ey(dE.bind(null,r,s,t),[t]),r.flags|=2048,Va(9,hE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rn(),e=tt.identifierPrefix;if(Te){var n=Xn,r=Yn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ja++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t$={readContext:fn,useCallback:bE,useContext:fn,useEffect:sm,useImperativeHandle:wE,useInsertionEffect:mE,useLayoutEffect:vE,useMemo:SE,useReducer:qd,useRef:gE,useState:function(){return qd(Ha)},useDebugValue:om,useDeferredValue:function(t){var e=pn();return EE(e,ze.memoizedState,t)},useTransition:function(){var t=qd(Ha)[0],e=pn().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:uE,useId:xE,unstable_isNewReconciler:!1},n$={readContext:fn,useCallback:bE,useContext:fn,useEffect:sm,useImperativeHandle:wE,useInsertionEffect:mE,useLayoutEffect:vE,useMemo:SE,useReducer:Kd,useRef:gE,useState:function(){return Kd(Ha)},useDebugValue:om,useDeferredValue:function(t){var e=pn();return ze===null?e.memoizedState=t:EE(e,ze.memoizedState,t)},useTransition:function(){var t=Kd(Ha)[0],e=pn().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:uE,useId:xE,unstable_isNewReconciler:!1};function to(t,e){try{var n="",r=e;do n+=$k(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Wd(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function fp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r$=typeof WeakMap=="function"?WeakMap:Map;function IE(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vc||(vc=!0,xp=r),fp(t,e)},n}function kE(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fp(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=v$.bind(null,t,e,n),e.then(t,t))}function _y(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cy(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var i$=gr.ReactCurrentOwner,Dt=!1;function It(t,e,n,r){e.child=t===null?oE(e,null,n,r):Zs(e,t.child,n,r)}function Ty(t,e,n,r,i){n=n.render;var s=e.ref;return Vs(e,i),r=rm(t,e,n,r,s,i),n=im(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Te&&n&&Gg(e),e.flags|=1,It(t,e,r,i),e.child)}function Iy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AE(t,e,s,r,i)):(t=Bu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(o,r)&&t.ref===e.ref)return ar(t,e,i)}return e.flags|=1,t=zr(s,r),t.ref=e.ref,t.return=e,e.child=t}function AE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Da(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Dt=!0);else return e.lanes=t.lanes,ar(t,e,i)}return pp(t,e,n,r,i)}function $E(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ds,qt),qt|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Ds,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Ds,qt),qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(Ds,qt),qt|=r;return It(t,e,i,n),e.child}function RE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pp(t,e,n,r,i){var s=Ft(n)?Ai:Et.current;return s=Xs(e,s),Vs(e,i),n=rm(t,e,n,r,s,i),r=im(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Te&&r&&Gg(e),e.flags|=1,It(t,e,n,i),e.child)}function ky(t,e,n,r,i){if(Ft(n)){var s=!0;ac(e)}else s=!1;if(Vs(e,i),e.stateNode===null)Mu(t,e),iE(e,n,r),dp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Ft(n)?Ai:Et.current,u=Xs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&wy(e,o,r,u),Cr=!1;var d=e.memoizedState;o.state=d,dc(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Mt.current||Cr?(typeof c=="function"&&(hp(e,n,c,r),l=e.memoizedState),(a=Cr||yy(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Ft(n)?Ai:Et.current,l=Xs(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&wy(e,o,r,l),Cr=!1,d=e.memoizedState,o.state=d,dc(e,r,o,i);var v=e.memoizedState;a!==h||d!==v||Mt.current||Cr?(typeof f=="function"&&(hp(e,n,f,r),v=e.memoizedState),(u=Cr||yy(e,n,u,r,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return gp(t,e,n,r,s,i)}function gp(t,e,n,r,i,s){RE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fy(e,n,!1),ar(t,e,s);r=e.stateNode,i$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zs(e,t.child,null,s),e.child=Zs(e,null,a,s)):It(t,e,a,s),e.memoizedState=r.state,i&&fy(e,n,!0),e.child}function OE(t){var e=t.stateNode;e.pendingContext?dy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dy(t,e.context,!1),Zg(t,e.containerInfo)}function Ay(t,e,n,r,i){return Js(),Kg(i),e.flags|=256,It(t,e,n,r),e.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function vp(t){return{baseLanes:t,cachePool:null,transitions:null}}function NE(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we($e,i&1),t===null)return up(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dh(o,r,0,null),t=_i(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vp(n),e.memoizedState=mp,t):am(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return s$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zr(a,s):(s=_i(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=mp,r}return s=t.child,t=s.sibling,r=zr(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function am(t,e){return e=dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function du(t,e,n,r){return r!==null&&Kg(r),Zs(e,t.child,null,n),t=am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function s$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Wd(Error(O(422))),du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dh({mode:"visible",children:r.children},i,0,null),s=_i(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Zs(e,t.child,null,o),e.child.memoizedState=vp(o),e.memoizedState=mp,s);if((e.mode&1)===0)return du(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Wd(s,r,void 0),du(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dt||a){if(r=tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,or(t,i),_n(r,t,i,-1))}return fm(),r=Wd(Error(O(421))),du(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=y$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=Br(i.nextSibling),Yt=e,Te=!0,Sn=null,t!==null&&(sn[on++]=Yn,sn[on++]=Xn,sn[on++]=$i,Yn=t.id,Xn=t.overflow,$i=e),e=am(e,r.children),e.flags|=4096,e)}function $y(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cp(t.return,e,n)}function Qd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(It(t,e,r.children,n),r=$e.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,n,e);else if(t.tag===19)$y(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we($e,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qd(e,!0,n,null,s);break;case"together":Qd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function o$(t,e,n){switch(e.tag){case 3:OE(e),Js();break;case 5:aE(e);break;case 1:Ft(e.type)&&ac(e);break;case 4:Zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(cc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we($e,$e.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?NE(t,e,n):(we($e,$e.current&1),t=ar(t,e,n),t!==null?t.sibling:null);we($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return PE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,$E(t,e,n)}return ar(t,e,n)}var DE,yp,LE,ME;DE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yp=function(){};LE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yi(Ln.current);var s=null;switch(n){case"input":i=Bf(t,i),r=Bf(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=Vf(t,i),r=Vf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sc)}Gf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ka.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ka.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ME=function(t,e,n,r){n!==r&&(e.flags|=4)};function qo(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a$(t,e,n){var r=e.pendingProps;switch(qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Ft(e.type)&&oc(),ft(e),null;case 3:return r=e.stateNode,eo(),Ce(Mt),Ce(Et),tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Sn!==null&&(Tp(Sn),Sn=null))),yp(t,e),ft(e),null;case 5:em(e);var i=yi(Ba.current);if(n=e.type,t!==null&&e.stateNode!=null)LE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return ft(e),null}if(t=yi(Ln.current),cu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[On]=e,r[Fa]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<na.length;i++)Se(na[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":U0(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":j0(r,s),Se("invalid",r)}Gf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uu(r.textContent,a,t),i=["children",""+a]):ka.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":tu(r),B0(r,s,!0);break;case"textarea":tu(r),H0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[On]=e,t[Fa]=r,DE(t,e,!1,!1),e.stateNode=t;e:{switch(o=qf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<na.length;i++)Se(na[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":U0(t,r),i=Bf(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Se("invalid",t);break;case"textarea":j0(t,r),i=Vf(t,r),Se("invalid",t);break;default:i=r}Gf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Aa(t,l):typeof l=="number"&&Aa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ka.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&Rg(t,s,l,o))}switch(n){case"input":tu(t),B0(t,r,!1);break;case"textarea":tu(t),H0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Us(t,!!r.multiple,s,!1):r.defaultValue!=null&&Us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)ME(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=yi(Ba.current),yi(Ln.current),cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return ft(e),null;case 13:if(Ce($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Kt!==null&&(e.mode&1)!==0&&(e.flags&128)===0)eE(),Js(),e.flags|=98560,s=!1;else if(s=cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[On]=e}else Js(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else Sn!==null&&(Tp(Sn),Sn=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||($e.current&1)!==0?qe===0&&(qe=3):fm())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return eo(),yp(t,e),t===null&&La(e.stateNode.containerInfo),ft(e),null;case 10:return Yg(e.type._context),ft(e),null;case 17:return Ft(e.type)&&oc(),ft(e),null;case 19:if(Ce($e),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qo(s,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=fc(t),o!==null){for(e.flags|=128,qo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>no&&(e.flags|=128,r=!0,qo(s,!1),e.lanes=4194304)}else{if(!r)if(t=fc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return ft(e),null}else 2*Fe()-s.renderingStartTime>no&&n!==1073741824&&(e.flags|=128,r=!0,qo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=$e.current,we($e,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(qt&1073741824)!==0&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function l$(t,e){switch(qg(e),e.tag){case 1:return Ft(e.type)&&oc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eo(),Ce(Mt),Ce(Et),tm(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return em(e),null;case 13:if(Ce($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce($e),null;case 4:return eo(),null;case 10:return Yg(e.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var fu=!1,gt=!1,u$=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function wp(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Ry=!1;function c$(t,e){if(np=nc,t=jS(),zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rp={focusedElem:t,selectionRange:n},nc=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,E=v.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:wn(e.type,w),E);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){Pe(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return v=Ry,Ry=!1,v}function ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wp(e,n,s)}i=i.next}while(i!==r)}}function ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FE(t){var e=t.alternate;e!==null&&(t.alternate=null,FE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Fa],delete e[op],delete e[qA],delete e[KA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UE(t){return t.tag===5||t.tag===3||t.tag===4}function Oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sc));else if(r!==4&&(t=t.child,t!==null))for(Sp(t,e,n),t=t.sibling;t!==null;)Sp(t,e,n),t=t.sibling}function Ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ep(t,e,n),t=t.sibling;t!==null;)Ep(t,e,n),t=t.sibling}var it=null,bn=!1;function Sr(t,e,n){for(n=n.child;n!==null;)BE(t,e,n),n=n.sibling}function BE(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(nh,n)}catch{}switch(n.tag){case 5:gt||Ps(n,e);case 6:var r=it,i=bn;it=null,Sr(t,e,n),it=r,bn=i,it!==null&&(bn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(bn?(t=it,n=n.stateNode,t.nodeType===8?Hd(t.parentNode,n):t.nodeType===1&&Hd(t,n),Na(t)):Hd(it,n.stateNode));break;case 4:r=it,i=bn,it=n.stateNode.containerInfo,bn=!0,Sr(t,e,n),it=r,bn=i;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&wp(n,e,o),i=i.next}while(i!==r)}Sr(t,e,n);break;case 1:if(!gt&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,Sr(t,e,n),gt=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function Ny(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u$),e.forEach(function(r){var i=w$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,bn=!1;break e;case 3:it=a.stateNode.containerInfo,bn=!0;break e;case 4:it=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(it===null)throw Error(O(160));BE(s,o,i),it=null,bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jE(e,t),e=e.sibling}function jE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),$n(t),r&4){try{ya(3,t,t.return),ch(3,t)}catch(w){Pe(t,t.return,w)}try{ya(5,t,t.return)}catch(w){Pe(t,t.return,w)}}break;case 1:yn(e,t),$n(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(yn(e,t),$n(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{Aa(i,"")}catch(w){Pe(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lS(i,s),qf(a,o);var u=qf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?fS(i,h):c==="dangerouslySetInnerHTML"?hS(i,h):c==="children"?Aa(i,h):Rg(i,c,h,u)}switch(a){case"input":jf(i,s);break;case"textarea":uS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Us(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Us(i,!!s.multiple,s.defaultValue,!0):Us(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fa]=s}catch(w){Pe(t,t.return,w)}}break;case 6:if(yn(e,t),$n(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Pe(t,t.return,w)}}break;case 3:if(yn(e,t),$n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(e.containerInfo)}catch(w){Pe(t,t.return,w)}break;case 4:yn(e,t),$n(t);break;case 13:yn(e,t),$n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cm=Fe())),r&4&&Ny(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(u=gt)||c,yn(e,t),gt=u):yn(e,t),$n(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(B=t,c=t.child;c!==null;){for(h=B=c;B!==null;){switch(d=B,f=d.child,d.tag){case 0:case 11:case 14:case 15:ya(4,d,d.return);break;case 1:Ps(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Pe(r,n,w)}}break;case 5:Ps(d,d.return);break;case 22:if(d.memoizedState!==null){Dy(h);continue}}f!==null?(f.return=d,B=f):Dy(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dS("display",o))}catch(w){Pe(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Pe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,t),$n(t),r&4&&Ny(t);break;case 21:break;default:yn(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UE(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Aa(i,""),r.flags&=-33);var s=Oy(t);Ep(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Oy(t);Sp(t,a,o);break;default:throw Error(O(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h$(t,e,n){B=t,HE(t)}function HE(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gt;a=fu;var u=gt;if(fu=o,(gt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?Ly(i):l!==null?(l.return=o,B=l):Ly(i);for(;s!==null;)B=s,HE(s),s=s.sibling;B=i,fu=a,gt=u}Py(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,B=s):Py(t)}}function Py(t){for(;B!==null;){var e=B;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:gt||ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Na(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}gt||e.flags&512&&bp(e)}catch(d){Pe(e,e.return,d)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Dy(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Ly(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ch(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pe(e,i,l)}}var s=e.return;try{bp(e)}catch(l){Pe(e,s,l)}break;case 5:var o=e.return;try{bp(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var d$=Math.ceil,mc=gr.ReactCurrentDispatcher,lm=gr.ReactCurrentOwner,cn=gr.ReactCurrentBatchConfig,ue=0,tt=null,He=null,ot=0,qt=0,Ds=ri(0),qe=0,za=null,Oi=0,hh=0,um=0,wa=null,Nt=null,cm=0,no=1/0,Wn=null,vc=!1,xp=null,Hr=null,pu=!1,Pr=null,yc=0,ba=0,_p=null,Fu=-1,Uu=0;function At(){return(ue&6)!==0?Fe():Fu!==-1?Fu:Fu=Fe()}function Vr(t){return(t.mode&1)===0?1:(ue&2)!==0&&ot!==0?ot&-ot:QA.transition!==null?(Uu===0&&(Uu=CS()),Uu):(t=ge,t!==0||(t=window.event,t=t===void 0?16:OS(t.type)),t)}function _n(t,e,n,r){if(50<ba)throw ba=0,_p=null,Error(O(185));dl(t,n,r),((ue&2)===0||t!==tt)&&(t===tt&&((ue&2)===0&&(hh|=n),qe===4&&kr(t,ot)),Ut(t,r),n===1&&ue===0&&(e.mode&1)===0&&(no=Fe()+500,ah&&ii()))}function Ut(t,e){var n=t.callbackNode;Qk(t,e);var r=tc(t,t===tt?ot:0);if(r===0)n!==null&&G0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&G0(n),e===1)t.tag===0?WA(My.bind(null,t)):XS(My.bind(null,t)),zA(function(){(ue&6)===0&&ii()}),n=null;else{switch(TS(r)){case 1:n=Lg;break;case 4:n=xS;break;case 16:n=ec;break;case 536870912:n=_S;break;default:n=ec}n=YE(n,VE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VE(t,e){if(Fu=-1,Uu=0,(ue&6)!==0)throw Error(O(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=tc(t,t===tt?ot:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=wc(t,r);else{e=r;var i=ue;ue|=2;var s=GE();(tt!==t||ot!==e)&&(Wn=null,no=Fe()+500,xi(t,e));do try{g$();break}catch(a){zE(t,a)}while(1);Qg(),mc.current=s,ue=i,He!==null?e=0:(tt=null,ot=0,e=qe)}if(e!==0){if(e===2&&(i=Xf(t),i!==0&&(r=i,e=Cp(t,i))),e===1)throw n=za,xi(t,0),kr(t,r),Ut(t,Fe()),n;if(e===6)kr(t,r);else{if(i=t.current.alternate,(r&30)===0&&!f$(i)&&(e=wc(t,r),e===2&&(s=Xf(t),s!==0&&(r=s,e=Cp(t,s))),e===1))throw n=za,xi(t,0),kr(t,r),Ut(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:di(t,Nt,Wn);break;case 3:if(kr(t,r),(r&130023424)===r&&(e=cm+500-Fe(),10<e)){if(tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){At(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sp(di.bind(null,t,Nt,Wn),e);break}di(t,Nt,Wn);break;case 4:if(kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d$(r/1960))-r,10<r){t.timeoutHandle=sp(di.bind(null,t,Nt,Wn),r);break}di(t,Nt,Wn);break;case 5:di(t,Nt,Wn);break;default:throw Error(O(329))}}}return Ut(t,Fe()),t.callbackNode===n?VE.bind(null,t):null}function Cp(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(xi(t,e).flags|=256),t=wc(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&Tp(e)),t}function Tp(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function f$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kr(t,e){for(e&=~um,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function My(t){if((ue&6)!==0)throw Error(O(327));zs();var e=tc(t,0);if((e&1)===0)return Ut(t,Fe()),null;var n=wc(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=Cp(t,r))}if(n===1)throw n=za,xi(t,0),kr(t,e),Ut(t,Fe()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Nt,Wn),Ut(t,Fe()),null}function hm(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(no=Fe()+500,ah&&ii())}}function Ni(t){Pr!==null&&Pr.tag===0&&(ue&6)===0&&zs();var e=ue;ue|=1;var n=cn.transition,r=ge;try{if(cn.transition=null,ge=1,t)return t()}finally{ge=r,cn.transition=n,ue=e,(ue&6)===0&&ii()}}function dm(){qt=Ds.current,Ce(Ds)}function xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VA(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oc();break;case 3:eo(),Ce(Mt),Ce(Et),tm();break;case 5:em(r);break;case 4:eo();break;case 13:Ce($e);break;case 19:Ce($e);break;case 10:Yg(r.type._context);break;case 22:case 23:dm()}n=n.return}if(tt=t,He=t=zr(t.current,null),ot=qt=e,qe=0,za=null,um=hh=Oi=0,Nt=wa=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vi=null}return t}function zE(t,e){do{var n=He;try{if(Qg(),Du.current=gc,pc){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pc=!1}if(Ri=0,et=ze=Re=null,va=!1,ja=0,lm.current=null,n===null||n.return===null){qe=1,za=e,He=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=_y(o);if(f!==null){f.flags&=-257,Cy(f,o,a,s,e),f.mode&1&&xy(s,u,e),e=f,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if((e&1)===0){xy(s,u,e),fm();break e}l=Error(O(426))}}else if(Te&&a.mode&1){var E=_y(o);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),Cy(E,o,a,s,e),Kg(to(l,a));break e}}s=l=to(l,a),qe!==4&&(qe=2),wa===null?wa=[s]:wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=IE(s,l,e);my(s,m);break e;case 1:a=l;var g=s.type,y=s.stateNode;if((s.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hr===null||!Hr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=kE(s,a,e);my(s,_);break e}}s=s.return}while(s!==null)}KE(n)}catch(I){e=I,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function GE(){var t=mc.current;return mc.current=gc,t===null?gc:t}function fm(){(qe===0||qe===3||qe===2)&&(qe=4),tt===null||(Oi&268435455)===0&&(hh&268435455)===0||kr(tt,ot)}function wc(t,e){var n=ue;ue|=2;var r=GE();(tt!==t||ot!==e)&&(Wn=null,xi(t,e));do try{p$();break}catch(i){zE(t,i)}while(1);if(Qg(),ue=n,mc.current=r,He!==null)throw Error(O(261));return tt=null,ot=0,qe}function p$(){for(;He!==null;)qE(He)}function g$(){for(;He!==null&&!Bk();)qE(He)}function qE(t){var e=QE(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?KE(t):He=e,lm.current=null}function KE(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=a$(n,e,qt),n!==null){He=n;return}}else{if(n=l$(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,He=null;return}}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);qe===0&&(qe=5)}function di(t,e,n){var r=ge,i=cn.transition;try{cn.transition=null,ge=1,m$(t,e,n,r)}finally{cn.transition=i,ge=r}return null}function m$(t,e,n,r){do zs();while(Pr!==null);if((ue&6)!==0)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Yk(t,s),t===tt&&(He=tt=null,ot=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||pu||(pu=!0,YE(ec,function(){return zs(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=cn.transition,cn.transition=null;var o=ge;ge=1;var a=ue;ue|=4,lm.current=null,c$(t,n),jE(n,t),LA(rp),nc=!!np,rp=np=null,t.current=n,h$(n),jk(),ue=a,ge=o,cn.transition=s}else t.current=n;if(pu&&(pu=!1,Pr=t,yc=i),s=t.pendingLanes,s===0&&(Hr=null),zk(n.stateNode),Ut(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vc)throw vc=!1,t=xp,xp=null,t;return(yc&1)!==0&&t.tag!==0&&zs(),s=t.pendingLanes,(s&1)!==0?t===_p?ba++:(ba=0,_p=t):ba=0,ii(),null}function zs(){if(Pr!==null){var t=TS(yc),e=cn.transition,n=ge;try{if(cn.transition=null,ge=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,yc=0,(ue&6)!==0)throw Error(O(331));var i=ue;for(ue|=4,B=t.current;B!==null;){var s=B,o=s.child;if((B.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:ya(8,c,s)}var h=c.child;if(h!==null)h.return=c,B=h;else for(;B!==null;){c=B;var d=c.sibling,f=c.return;if(FE(c),c===u){B=null;break}if(d!==null){d.return=f,B=d;break}B=f}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}B=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,B=m;break e}B=s.return}}var g=t.current;for(B=g;B!==null;){o=B;var y=o.child;if((o.subtreeFlags&2064)!==0&&y!==null)y.return=o,B=y;else e:for(o=g;B!==null;){if(a=B,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:ch(9,a)}}catch(I){Pe(a,a.return,I)}if(a===o){B=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,B=_;break e}B=a.return}}if(ue=i,ii(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(nh,t)}catch{}r=!0}return r}finally{ge=n,cn.transition=e}}return!1}function Fy(t,e,n){e=to(n,e),e=IE(t,e,1),t=jr(t,e,1),e=At(),t!==null&&(dl(t,1,e),Ut(t,e))}function Pe(t,e,n){if(t.tag===3)Fy(t,t,n);else for(;e!==null;){if(e.tag===3){Fy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=to(n,t),t=kE(e,t,1),e=jr(e,t,1),t=At(),e!==null&&(dl(e,1,t),Ut(e,t));break}}e=e.return}}function v$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(ot&n)===n&&(qe===4||qe===3&&(ot&130023424)===ot&&500>Fe()-cm?xi(t,0):um|=n),Ut(t,e)}function WE(t,e){e===0&&((t.mode&1)===0?e=1:(e=iu,iu<<=1,(iu&130023424)===0&&(iu=4194304)));var n=At();t=or(t,e),t!==null&&(dl(t,e,n),Ut(t,n))}function y$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WE(t,n)}function w$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),WE(t,n)}var QE;QE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Dt=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Dt=!1,o$(t,e,n);Dt=(t.flags&131072)!==0}else Dt=!1,Te&&(e.flags&1048576)!==0&&JS(e,uc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mu(t,e),t=e.pendingProps;var i=Xs(e,Et.current);Vs(e,n),i=rm(null,e,r,t,i,n);var s=im();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,ac(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jg(e),i.updater=lh,e.stateNode=i,i._reactInternals=e,dp(e,r,t,n),e=gp(null,e,r,!0,s,n)):(e.tag=0,Te&&s&&Gg(e),It(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S$(r),t=wn(r,t),i){case 0:e=pp(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Ty(null,e,r,t,n);break e;case 14:e=Iy(null,e,r,wn(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),pp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),ky(t,e,r,i,n);case 3:e:{if(OE(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nE(t,e),dc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=to(Error(O(423)),e),e=Ay(t,e,r,n,i);break e}else if(r!==i){i=to(Error(O(424)),e),e=Ay(t,e,r,n,i);break e}else for(Kt=Br(e.stateNode.containerInfo.firstChild),Yt=e,Te=!0,Sn=null,n=oE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===i){e=ar(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return aE(e),t===null&&up(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ip(r,i)?o=null:s!==null&&ip(r,s)&&(e.flags|=32),RE(t,e),It(t,e,o,n),e.child;case 6:return t===null&&up(e),null;case 13:return NE(t,e,n);case 4:return Zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zs(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ty(t,e,r,i,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(cc,r._currentValue),r._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===i.children&&!Mt.current){e=ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=nr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vs(e,n),i=fn(i),r=r(i),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),Iy(t,e,r,i,n);case 15:return AE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Mu(t,e),e.tag=1,Ft(r)?(t=!0,ac(e)):t=!1,Vs(e,n),iE(e,r,i),dp(e,r,i,n),gp(null,e,r,!0,t,n);case 19:return PE(t,e,n);case 22:return $E(t,e,n)}throw Error(O(156,e.tag))};function YE(t,e){return ES(t,e)}function b$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new b$(t,e,n,r)}function pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S$(t){if(typeof t=="function")return pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ng)return 11;if(t===Pg)return 14}return 2}function zr(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cs:return _i(n.children,i,s,e);case Og:o=8,i|=8;break;case Lf:return t=ln(12,n,e,i|2),t.elementType=Lf,t.lanes=s,t;case Mf:return t=ln(13,n,e,i),t.elementType=Mf,t.lanes=s,t;case Ff:return t=ln(19,n,e,i),t.elementType=Ff,t.lanes=s,t;case sS:return dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rS:o=10;break e;case iS:o=9;break e;case Ng:o=11;break e;case Pg:o=14;break e;case _r:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=ln(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _i(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function dh(t,e,n,r){return t=ln(22,t,r,e),t.elementType=sS,t.lanes=n,t.stateNode={isHidden:!1},t}function Yd(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function Xd(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function E$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gm(t,e,n,r,i,s,o,a,l){return t=new E$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(s),t}function x$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XE(t){if(!t)return Yr;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Ft(n))return YS(t,n,e)}return e}function JE(t,e,n,r,i,s,o,a,l){return t=gm(n,r,!0,t,i,s,o,a,l),t.context=XE(null),n=t.current,r=At(),i=Vr(n),s=nr(r,i),s.callback=e!=null?e:null,jr(n,s,i),t.current.lanes=i,dl(t,i,r),Ut(t,r),t}function fh(t,e,n,r){var i=e.current,s=At(),o=Vr(i);return n=XE(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,o),t!==null&&(_n(t,i,o,s),Pu(t,i,o)),o}function bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){Uy(t,e),(t=t.alternate)&&Uy(t,e)}function _$(){return null}var ZE=typeof reportError=="function"?reportError:function(t){console.error(t)};function vm(t){this._internalRoot=t}ph.prototype.render=vm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));fh(t,e,null,null)};ph.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){fh(null,t,null,null)}),e[sr]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=AS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&RS(t)}};function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function By(){}function C$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bc(o);s.call(u)}}var o=JE(e,r,t,0,null,!1,!1,"",By);return t._reactRootContainer=o,t[sr]=o.current,La(t.nodeType===8?t.parentNode:t),Ni(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=bc(l);a.call(u)}}var l=gm(t,0,!1,null,null,!1,!1,"",By);return t._reactRootContainer=l,t[sr]=l.current,La(t.nodeType===8?t.parentNode:t),Ni(function(){fh(e,l,n,r)}),l}function mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=bc(o);a.call(l)}}fh(e,o,t,i)}else o=C$(n,e,t,i,r);return bc(o)}IS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ta(e.pendingLanes);n!==0&&(Mg(e,n|1),Ut(e,Fe()),(ue&6)===0&&(no=Fe()+500,ii()))}break;case 13:Ni(function(){var r=or(t,1);if(r!==null){var i=At();_n(r,t,1,i)}}),mm(t,1)}};Fg=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=At();_n(e,t,134217728,n)}mm(t,134217728)}};kS=function(t){if(t.tag===13){var e=Vr(t),n=or(t,e);if(n!==null){var r=At();_n(n,t,e,r)}mm(t,e)}};AS=function(){return ge};$S=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Wf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oh(r);if(!i)throw Error(O(90));aS(r),jf(r,i)}}}break;case"textarea":uS(t,n);break;case"select":e=n.value,e!=null&&Us(t,!!n.multiple,e,!1)}};mS=hm;vS=Ni;var T$={usingClientEntryPoint:!1,Events:[pl,As,oh,pS,gS,hm]},Ko={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},I$={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||_$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{nh=gu.inject(I$),Dn=gu}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(e))throw Error(O(200));return x$(t,e,null,n)};en.createRoot=function(t,e){if(!ym(t))throw Error(O(299));var n=!1,r="",i=ZE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gm(t,1,!1,null,null,n,!1,r,i),t[sr]=e.current,La(t.nodeType===8?t.parentNode:t),new vm(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=bS(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return Ni(t)};en.hydrate=function(t,e,n){if(!gh(e))throw Error(O(200));return mh(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!ym(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ZE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JE(e,null,t,1,n!=null?n:null,i,!1,s,o),t[sr]=e.current,La(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ph(e)};en.render=function(t,e,n){if(!gh(e))throw Error(O(200));return mh(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!gh(t))throw Error(O(40));return t._reactRootContainer?(Ni(function(){mh(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};en.unstable_batchedUpdates=hm;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gh(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return mh(t,e,n,!1,r)};en.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=en})(kg);var jy=kg.exports;Pf.createRoot=jy.createRoot,Pf.hydrateRoot=jy.hydrateRoot;class bo{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const Ga=typeof window>"u"||"Deno"in window;function rn(){}function k$(t,e){return typeof t=="function"?t(e):t}function Ip(t){return typeof t=="number"&&t>=0&&t!==1/0}function ex(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ra(t,e,n){return ml(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function A$(t,e,n){return ml(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Tr(t,e,n){return ml(t)?[{...e,queryKey:t},n]:[t||{},e]}function Hy(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(ml(o)){if(r){if(e.queryHash!==wm(o,e.options))return!1}else if(!Sc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Vy(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(ml(s)){if(!e.options.mutationKey)return!1;if(n){if(wi(e.options.mutationKey)!==wi(s))return!1}else if(!Sc(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function wm(t,e){return((e==null?void 0:e.queryKeyHashFn)||wi)(t)}function wi(t){return JSON.stringify(t,(e,n)=>Ap(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Sc(t,e){return tx(t,e)}function tx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!tx(t[n],e[n])):!1}function nx(t,e){if(t===e)return t;const n=zy(t)&&zy(e);if(n||Ap(t)&&Ap(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const u=n?l:i[l];o[u]=nx(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function kp(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ap(t){if(!Gy(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Gy(n)||!n.hasOwnProperty("isPrototypeOf"))}function Gy(t){return Object.prototype.toString.call(t)==="[object Object]"}function ml(t){return Array.isArray(t)}function rx(t){return new Promise(e=>{setTimeout(e,t)})}function qy(t){rx(0).then(t)}function $$(){if(typeof AbortController=="function")return new AbortController}function $p(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nx(t,e):e}class R$ extends bo{constructor(){super(),this.setup=e=>{if(!Ga&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Ec=new R$;class O$ extends bo{constructor(){super(),this.setup=e=>{if(!Ga&&window.addEventListener){const n=()=>e();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const xc=new O$;function N$(t){return Math.min(1e3*2**t,3e4)}function vh(t){return(t!=null?t:"online")==="online"?xc.isOnline():!0}class ix{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function ju(t){return t instanceof ix}function sx(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((E,m)=>{s=E,o=m}),l=E=>{r||(f(new ix(E)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},h=()=>!Ec.isFocused()||t.networkMode!=="always"&&!xc.isOnline(),d=E=>{r||(r=!0,t.onSuccess==null||t.onSuccess(E),i==null||i(),s(E))},f=E=>{r||(r=!0,t.onError==null||t.onError(E),i==null||i(),o(E))},v=()=>new Promise(E=>{i=m=>{if(r||!h())return E(m)},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),w=()=>{if(r)return;let E;try{E=t.fn()}catch(m){E=Promise.reject(m)}Promise.resolve(E).then(d).catch(m=>{var g,y;if(r)return;const _=(g=t.retry)!=null?g:3,I=(y=t.retryDelay)!=null?y:N$,T=typeof I=="function"?I(n,m):I,k=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,m);if(e||!k){f(m);return}n++,t.onFail==null||t.onFail(n,m),rx(T).then(()=>{if(h())return v()}).then(()=>{e?f(m):w()})})};return vh(t.networkMode)?w():v().then(w),{promise:a,cancel:l,continue:()=>{i==null||i()},cancelRetry:u,continueRetry:c}}const bm=console;function P$(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const i=c=>{let h;e++;try{h=c()}finally{e--,e||a()}return h},s=c=>{e?t.push(c):qy(()=>{n(c)})},o=c=>(...h)=>{s(()=>{c(...h)})},a=()=>{const c=t;t=[],c.length&&qy(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const De=P$();class ox{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ip(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e!=null?e:Ga?1/0:5*60*1e3)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class D$ extends ox{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||bm,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||L$(this.options),this.state=this.initialState}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=$p(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ex(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}Array.isArray(this.options.queryKey);const o=$$(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta})}const d=f=>{if(ju(f)&&f.silent||this.dispatch({type:"error",error:f}),!ju(f)){var v,w;(v=(w=this.cache.config).onError)==null||v.call(w,f,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=sx({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:f=>{var v,w;if(typeof f>"u"){d(new Error("undefined"));return}this.setData(f),(v=(w=this.cache.config).onSuccess)==null||v.call(w,f,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(f,v)=>{this.dispatch({type:"failed",failureCount:f,error:v})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:vh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return ju(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),De.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function L$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r!=null?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class M$ extends bo{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:wm(s,n);let a=this.get(o);return a||(a=new D$({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){De.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Tr(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Hy(r,i))}findAll(e,n){const[r]=Tr(e,n);return Object.keys(r).length>0?this.queries.filter(i=>Hy(r,i)):this.queries}notify(e){De.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){De.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){De.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class F$ extends ox{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||bm,this.observers=[],this.state=e.state||ax(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const e=()=>{var y;return this.retryer=sx({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(_,I)=>{this.dispatch({type:"failed",failureCount:_,error:I})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(y=this.options.retry)!=null?y:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l;if(!n){var u,c,h,d;this.dispatch({type:"loading",variables:this.options.variables}),await((u=(c=this.mutationCache.config).onMutate)==null?void 0:u.call(c,this.state.variables,this));const _=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,this.state.variables));_!==this.state.context&&this.dispatch({type:"loading",context:_,variables:this.state.variables})}const y=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,y,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,y,this.state.variables,this.state.context)),await((a=(l=this.options).onSettled)==null?void 0:a.call(l,y,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:y}),y}catch(y){try{var f,v,w,E,m,g;throw await((f=(v=this.mutationCache.config).onError)==null?void 0:f.call(v,y,this.state.variables,this.state.context,this)),await((w=(E=this.options).onError)==null?void 0:w.call(E,y,this.state.variables,this.state.context)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,void 0,y,this.state.variables,this.state.context)),y}finally{this.dispatch({type:"error",error:y})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!vh(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),De.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function ax(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class U$ extends bo{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new F$({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){De.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>Vy(e,n))}findAll(e){return this.mutations.filter(n=>Vy(e,n))}notify(e){De.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.mutations.filter(n=>n.state.isPaused);return De.batch(()=>e.reduce((n,r)=>n.then(()=>r.continue().catch(rn)),Promise.resolve()))}}function B$(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",h=(l==null?void 0:l.direction)==="backward",d=((s=t.state.data)==null?void 0:s.pages)||[],f=((o=t.state.data)==null?void 0:o.pageParams)||[];let v=f,w=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>{var k;if((k=t.signal)!=null&&k.aborted)w=!0;else{var A;(A=t.signal)==null||A.addEventListener("abort",()=>{w=!0})}return t.signal}})},m=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),g=(T,k,A,H)=>(v=H?[k,...v]:[...v,k],H?[A,...T]:[...T,A]),y=(T,k,A,H)=>{if(w)return Promise.reject("Cancelled");if(typeof A>"u"&&!k&&T.length)return Promise.resolve(T);const z={queryKey:t.queryKey,pageParam:A,meta:t.options.meta};E(z);const L=m(z);return Promise.resolve(L).then(he=>g(T,A,he,H))};let _;if(!d.length)_=y([]);else if(c){const T=typeof u<"u",k=T?u:Ky(t.options,d);_=y(d,T,k)}else if(h){const T=typeof u<"u",k=T?u:j$(t.options,d);_=y(d,T,k,!0)}else{v=[];const T=typeof t.options.getNextPageParam>"u";_=(a&&d[0]?a(d[0],0,d):!0)?y([],T,f[0]):Promise.resolve(g([],f[0],d[0]));for(let A=1;A<d.length;A++)_=_.then(H=>{if(a&&d[A]?a(d[A],A,d):!0){const L=T?f[A]:Ky(t.options,H);return y(H,T,L)}return Promise.resolve(g(H,f[A],d[A]))})}return _.then(T=>({pages:T,pageParams:v}))}}}}function Ky(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function j$(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class H${constructor(e={}){this.queryCache=e.queryCache||new M$,this.mutationCache=e.mutationCache||new U$,this.logger=e.logger||bm,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}mount(){this.unsubscribeFocus=Ec.subscribe(()=>{Ec.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=xc.subscribe(()=>{xc.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})}unmount(){var e,n;(e=this.unsubscribeFocus)==null||e.call(this),(n=this.unsubscribeOnline)==null||n.call(this)}isFetching(e,n){const[r]=Tr(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=ra(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=k$(n,s);if(typeof o>"u")return;const a=ra(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return De.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Tr(e,n),i=this.queryCache;De.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=Tr(e,n,r),o=this.queryCache,a={type:"active",...i};return De.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=Tr(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=De.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(rn).catch(rn)}invalidateQueries(e,n,r){const[i,s]=Tr(e,n,r);return De.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=Tr(e,n,r),o=De.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...s,cancelRefetch:(u=s==null?void 0:s.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(rn);return s!=null&&s.throwOnError||(a=a.catch(rn)),a}fetchQuery(e,n,r){const i=ra(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(rn).catch(rn)}fetchInfiniteQuery(e,n,r){const i=ra(e,n,r);return i.behavior=B$(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(rn).catch(rn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>wi(e)===wi(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>Sc(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>wi(e)===wi(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>Sc(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=wm(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class V$ extends bo{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Wy(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Rp(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rp(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),kp(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&Qy(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e);return this.createResult(n,e)}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Ga||this.currentResult.isStale||!Ip(this.options.staleTime))return;const n=ex(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Ga||this.options.enabled===!1||!Ip(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ec.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:d,error:f,errorUpdatedAt:v,fetchStatus:w,status:E}=h,m=!1,g=!1,y;if(n._optimisticResults){const A=this.hasListeners(),H=!A&&Wy(e,n),z=A&&Qy(e,r,n,i);(H||z)&&(w=vh(e.options.networkMode)?"fetching":"paused",d||(E="loading")),n._optimisticResults==="isRestoring"&&(w="idle")}if(n.keepPreviousData&&!h.dataUpdatedAt&&c!=null&&c.isSuccess&&E!=="error")y=c.data,d=c.dataUpdatedAt,E=c.status,m=!0;else if(n.select&&typeof h.data<"u")if(s&&h.data===(o==null?void 0:o.data)&&n.select===this.selectFn)y=this.selectResult;else try{this.selectFn=n.select,y=n.select(h.data),y=$p(s==null?void 0:s.data,y,n),this.selectResult=y,this.selectError=null}catch(A){this.selectError=A}else y=h.data;if(typeof n.placeholderData<"u"&&typeof y>"u"&&E==="loading"){let A;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))A=s.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof A<"u")try{A=n.select(A),this.selectError=null}catch(H){this.selectError=H}typeof A<"u"&&(E="success",y=$p(s==null?void 0:s.data,A,n),g=!0)}this.selectError&&(f=this.selectError,y=this.selectResult,v=Date.now(),E="error");const _=w==="fetching",I=E==="loading",T=E==="error";return{status:E,fetchStatus:w,isLoading:I,isSuccess:E==="success",isError:T,isInitialLoading:I&&_,data:y,dataUpdatedAt:d,error:f,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!I,isLoadingError:T&&h.dataUpdatedAt===0,isPaused:w==="paused",isPlaceholderData:g,isPreviousData:m,isRefetchError:T&&h.dataUpdatedAt!==0,isStale:Sm(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,kp(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o!=null?o:this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==n[u]&&a.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!ju(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){De.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(c=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function z$(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Wy(t,e){return z$(t,e)||t.state.dataUpdatedAt>0&&Rp(t,e,e.refetchOnMount)}function Rp(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Sm(t,e)}return!1}function Qy(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Sm(t,n)}function Sm(t,e){return t.isStaleByTime(e.staleTime)}class G$ extends bo{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.client.defaultMutationOptions(e),kp(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:ax(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){De.batch(()=>{if(this.mutateOptions){if(e.onSuccess){var n,r,i,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,u;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(c=>{c(this.currentResult)})})}}var lx={exports:{}},ux={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=x.exports;function q$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var K$=typeof Object.is=="function"?Object.is:q$,W$=ro.useState,Q$=ro.useEffect,Y$=ro.useLayoutEffect,X$=ro.useDebugValue;function J$(t,e){var n=e(),r=W$({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Y$(function(){i.value=n,i.getSnapshot=e,Jd(i)&&s({inst:i})},[t,n,e]),Q$(function(){return Jd(i)&&s({inst:i}),t(function(){Jd(i)&&s({inst:i})})},[t]),X$(n),n}function Jd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!K$(t,n)}catch{return!0}}function Z$(t,e){return e()}var eR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Z$:J$;ux.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:eR;(function(t){t.exports=ux})(lx);const cx=lx.exports.useSyncExternalStore;var yh={exports:{}},wh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR=x.exports,nR=Symbol.for("react.element"),rR=Symbol.for("react.fragment"),iR=Object.prototype.hasOwnProperty,sR=tR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oR={key:!0,ref:!0,__self:!0,__source:!0};function hx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iR.call(e,r)&&!oR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nR,type:t,key:s,ref:o,props:i,_owner:sR.current}}wh.Fragment=rR;wh.jsx=hx;wh.jsxs=hx;(function(t){t.exports=wh})(yh);const vl=yh.exports.Fragment,p=yh.exports.jsx,$=yh.exports.jsxs,Yy=x.exports.createContext(void 0),dx=x.exports.createContext(!1);function fx(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Yy),window.ReactQueryClientContext):Yy)}const Ht=({context:t}={})=>{const e=x.exports.useContext(fx(t,x.exports.useContext(dx)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},aR=({client:t,children:e,context:n,contextSharing:r=!1})=>{x.exports.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=fx(n,r);return p(dx.Provider,{value:!n&&r,children:p(i.Provider,{value:t,children:e})})},px=x.exports.createContext(!1),lR=()=>x.exports.useContext(px);px.Provider;function uR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const cR=x.exports.createContext(uR()),hR=()=>x.exports.useContext(cR);function gx(t,e){return typeof t=="function"?t(...e):!!t}const dR=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},fR=t=>{x.exports.useEffect(()=>{t.clearReset()},[t])},pR=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&gx(n,[t.error,r]),gR=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},mR=(t,e)=>t.isLoading&&t.isFetching&&!e,vR=(t,e,n)=>(t==null?void 0:t.suspense)&&mR(e,n),yR=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function wR(t,e){const n=Ht({context:t.context}),r=lR(),i=hR(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=De.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=De.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=De.batchCalls(s.onSettled)),gR(s),dR(s,i),fR(i);const[o]=x.exports.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(cx(x.exports.useCallback(l=>r?()=>{}:o.subscribe(De.batchCalls(l)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.exports.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),vR(s,a,r))throw yR(s,o,i);if(pR({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function bh(t,e,n){const r=ra(t,e,n);return wR(r,V$)}function zn(t,e,n){const r=A$(t,e,n),i=Ht({context:r.context}),[s]=x.exports.useState(()=>new G$(i,r));x.exports.useEffect(()=>{s.setOptions(r)},[s,r]);const o=cx(x.exports.useCallback(l=>s.subscribe(De.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=x.exports.useCallback((l,u)=>{s.mutate(l,u).catch(bR)},[s]);if(o.error&&gx(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function bR(){}const SR=function(){return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ER=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ER(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xR=function(t){const e=mx(t);return vx.encodeByteArray(e,!0)},_c=function(t){return xR(t).replace(/\./g,"")},yx=function(t){try{return vx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function CR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IR(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kR(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>$R().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yx(t[1]);return e&&JSON.parse(e)},Em=()=>{try{return RR()||OR()||NR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wx=t=>{var e,n;return(n=(e=Em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PR=t=>{const e=wx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DR=()=>{var t;return(t=Em())===null||t===void 0?void 0:t.config},bx=t=>{var e;return(e=Em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[_c(JSON.stringify(n)),_c(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FR,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mr(i,a,r)}}function UR(t,e){return t.replace(BR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BR=/\{\$([^}]+)}/g;function jR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Xy(s)&&Xy(o)){if(!Cc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HR(t,e){const n=new VR(t,e);return n.subscribe.bind(n)}class VR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zd),i.error===void 0&&(i.error=Zd),i.complete===void 0&&(i.complete=Zd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qR(t){return t===fi?void 0:t}function KR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const QR={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},YR=fe.INFO,XR={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},JR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=YR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const ZR=(t,e)=>e.some(n=>t instanceof n);let Jy,Zy;function eO(){return Jy||(Jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tO(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sx=new WeakMap,Op=new WeakMap,Ex=new WeakMap,ef=new WeakMap,_m=new WeakMap;function nO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sx.set(n,t)}).catch(()=>{}),_m.set(e,t),e}function rO(t){if(Op.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Op.set(t,e)}let Np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ex.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iO(t){Np=t(Np)}function sO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tf(this),e,...n);return Ex.set(r,e.sort?e.sort():[e]),Gr(r)}:tO().includes(t)?function(...e){return t.apply(tf(this),e),Gr(Sx.get(this))}:function(...e){return Gr(t.apply(tf(this),e))}}function oO(t){return typeof t=="function"?sO(t):(t instanceof IDBTransaction&&rO(t),ZR(t,eO())?new Proxy(t,Np):t)}function Gr(t){if(t instanceof IDBRequest)return nO(t);if(ef.has(t))return ef.get(t);const e=oO(t);return e!==t&&(ef.set(t,e),_m.set(e,t)),e}const tf=t=>_m.get(t);function aO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gr(o.result),l.oldVersion,l.newVersion,Gr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const lO=["get","getKey","getAll","getAllKeys","count"],uO=["put","add","delete","clear"],nf=new Map;function e1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nf.get(e))return nf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return nf.set(e,s),s}iO(t=>({...t,get:(e,n,r)=>e1(e,n)||t.get(e,n,r),has:(e,n)=>!!e1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pp="@firebase/app",t1="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new xm("@firebase/app"),dO="@firebase/app-compat",fO="@firebase/analytics-compat",pO="@firebase/analytics",gO="@firebase/app-check-compat",mO="@firebase/app-check",vO="@firebase/auth",yO="@firebase/auth-compat",wO="@firebase/database",bO="@firebase/database-compat",SO="@firebase/functions",EO="@firebase/functions-compat",xO="@firebase/installations",_O="@firebase/installations-compat",CO="@firebase/messaging",TO="@firebase/messaging-compat",IO="@firebase/performance",kO="@firebase/performance-compat",AO="@firebase/remote-config",$O="@firebase/remote-config-compat",RO="@firebase/storage",OO="@firebase/storage-compat",NO="@firebase/firestore",PO="@firebase/firestore-compat",DO="firebase",LO="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",MO={[Pp]:"fire-core",[dO]:"fire-core-compat",[pO]:"fire-analytics",[fO]:"fire-analytics-compat",[mO]:"fire-app-check",[gO]:"fire-app-check-compat",[vO]:"fire-auth",[yO]:"fire-auth-compat",[wO]:"fire-rtdb",[bO]:"fire-rtdb-compat",[SO]:"fire-fn",[EO]:"fire-fn-compat",[xO]:"fire-iid",[_O]:"fire-iid-compat",[CO]:"fire-fcm",[TO]:"fire-fcm-compat",[IO]:"fire-perf",[kO]:"fire-perf-compat",[AO]:"fire-rc",[$O]:"fire-rc-compat",[RO]:"fire-gcs",[OO]:"fire-gcs-compat",[NO]:"fire-fst",[PO]:"fire-fst-compat","fire-js":"fire-js",[DO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,Lp=new Map;function FO(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function io(t){const e=t.name;if(Lp.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(const n of Tc.values())FO(n,t);return!0}function Cm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qr=new yl("app","Firebase",UO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=LO;function xx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=DR()),!n)throw qr.create("no-options");const s=Tc.get(i);if(s){if(Cc(n,s.options)&&Cc(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new WR(i);for(const l of Lp.values())o.addComponent(l);const a=new BO(n,r,o);return Tc.set(i,a),a}function _x(t=Dp){const e=Tc.get(t);if(!e&&t===Dp)return xx();if(!e)throw qr.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=MO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}io(new Pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="firebase-heartbeat-database",HO=1,qa="firebase-heartbeat-store";let rf=null;function Cx(){return rf||(rf=aO(jO,HO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qa)}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),rf}async function VO(t){try{return(await Cx()).transaction(qa).objectStore(qa).get(Tx(t))}catch(e){if(e instanceof mr)Di.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function n1(t,e){try{const r=(await Cx()).transaction(qa,"readwrite");return await r.objectStore(qa).put(e,Tx(t)),r.done}catch(n){if(n instanceof mr)Di.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(r.message)}}}function Tx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1024,GO=30*24*60*60*1e3;class qO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=r1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=GO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r1(),{heartbeatsToSend:n,unsentEntries:r}=KO(this._heartbeatsCache.heartbeats),i=_c(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function r1(){return new Date().toISOString().substring(0,10)}function KO(t,e=zO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),i1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),i1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kR()?AR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function i1(t){return _c(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){io(new Pi("platform-logger",e=>new cO(e),"PRIVATE")),io(new Pi("heartbeat",e=>new qO(e),"PRIVATE")),Kr(Pp,t1,t),Kr(Pp,t1,"esm2017"),Kr("fire-js","")}QO("");function Tm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ix(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YO=Ix,kx=new yl("auth","Firebase",Ix()),sf={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new xm("@firebase/auth");function Hu(t,...e){s1.logLevel<=fe.ERROR&&s1.error(`Auth (${bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw Im(t,...e)}function Mn(t,...e){return Im(t,...e)}function XO(t,e,n){const r=Object.assign(Object.assign({},YO()),{[e]:n});return new yl("auth","Firebase",r).create(e,{appName:t.name})}function Im(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kx.create(t,...e)}function Q(t,e,...n){if(!t)throw Im(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hu(e),new Error(e)}function lr(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map;function Zn(t){lr(t instanceof Function,"Expected a class definition");let e=o1.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o1.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e){const n=Cm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Cc(s,e!=null?e:{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function ZO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function e2(){return a1()==="http:"||a1()==="https:"}function a1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e2()||CR()||"connection"in navigator)?navigator.onLine:!0}function n2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=_R()||TR()}get(){return t2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Sl(3e4,6e4);function El(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xl(t,e,n,r,i={}){return $x(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ax.fetch()(Rx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $x(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r2),e);try{const i=new s2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw XO(t,c,u);Tn(t,c)}}catch(i){if(i instanceof mr)throw i;Tn(t,"network-request-failed")}}async function _l(t,e,n,r,i={}){const s=await xl(t,e,n,r,i);return"mfaPendingCredential"in s&&Tn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Rx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?km(t.config,i):`${t.config.apiScheme}://${i}`}class s2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),i2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,e){return xl(t,"POST","/v1/accounts:delete",e)}async function a2(t,e){return xl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l2(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=Am(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sa(of(i.auth_time)),issuedAtTime:Sa(of(i.iat)),expirationTime:Sa(of(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function of(t){return Number(t)*1e3}function Am(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const i=yx(n);return i?JSON.parse(i):(Hu("Failed to decode base64 JWT payload"),null)}catch(i){return Hu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function u2(t){const e=Am(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&c2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sa(this.lastLoginAt),this.creationTime=Sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ka(t,a2(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?p2(s.providerUserInfo):[],a=f2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ox(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function d2(t){const e=_t(t);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p2(t){return t.map(e=>{var{providerId:n}=e,r=Tm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(t,e){const n=await $x(t,{},async()=>{const r=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Rx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ax.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await g2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wa;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Tm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ox(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l2(this,e)}reload(){return d2(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ka(this,o2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:_,isAnonymous:I,providerData:T,stsTokenManager:k}=n;Q(y&&k,e,"internal-error");const A=Wa.fromJSON(this.name,k);Q(typeof y=="string",e,"internal-error"),Er(h,e.name),Er(d,e.name),Q(typeof _=="boolean",e,"internal-error"),Q(typeof I=="boolean",e,"internal-error"),Er(f,e.name),Er(v,e.name),Er(w,e.name),Er(E,e.name),Er(m,e.name),Er(g,e.name);const H=new Ci({uid:y,auth:e,email:d,emailVerified:_,displayName:h,isAnonymous:I,photoURL:v,phoneNumber:f,tenantId:w,stsTokenManager:A,createdAt:m,lastLoginAt:g});return T&&Array.isArray(T)&&(H.providerData=T.map(z=>Object.assign({},z))),E&&(H._redirectEventId=E),H}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wa;i.updateFromServerResponse(n);const s=new Ci({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ic(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nx.type="NONE";const l1=Nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,n){return`firebase:${t}:${e}:${n}`}class Gs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gs(Zn(l1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Zn(l1);const o=Vu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Ci._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Gs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Gs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fx(e))return"Blackberry";if(Ux(e))return"Webos";if($m(e))return"Safari";if((e.includes("chrome/")||Dx(e))&&!e.includes("edge/"))return"Chrome";if(Mx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Px(t=xt()){return/firefox\//i.test(t)}function $m(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dx(t=xt()){return/crios\//i.test(t)}function Lx(t=xt()){return/iemobile/i.test(t)}function Mx(t=xt()){return/android/i.test(t)}function Fx(t=xt()){return/blackberry/i.test(t)}function Ux(t=xt()){return/webos/i.test(t)}function Sh(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m2(t=xt()){var e;return Sh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v2(){return IR()&&document.documentMode===10}function Bx(t=xt()){return Sh(t)||Mx(t)||Ux(t)||Fx(t)||/windows phone/i.test(t)||Lx(t)}function y2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t,e=[]){let n;switch(t){case"Browser":n=u1(xt());break;case"Worker":n=`${u1(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c1(this),this.idTokenSubscription=new c1(this),this.beforeStateQueue=new w2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Gs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_t(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Gs.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function So(t){return _t(t)}class c1{constructor(e){this.auth=e,this.observer=null,this.addObserver=HR(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function S2(t,e,n){const r=So(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Hx(e),{host:o,port:a}=E2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||x2()}function Hx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E2(t){const e=Hx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:h1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:h1(o)}}}function h1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function _2(t,e){return xl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e){return _l(t,"POST","/v1/accounts:signInWithPassword",El(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",El(t,e))}async function I2(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",El(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Rm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return C2(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return T2(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return _2(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return I2(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return _l(t,"POST","/v1/accounts:signInWithIdp",El(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="http://localhost";class Li extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Tm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Li(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:k2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $2(t){const e=ia(sa(t)).link,n=e?ia(sa(e)).deep_link_id:null,r=ia(sa(t)).deep_link_id;return(r?ia(sa(r)).link:null)||r||n||e||t}class Om{constructor(e){var n,r,i,s,o,a;const l=ia(sa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=A2((i=l.mode)!==null&&i!==void 0?i:null);Q(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$2(e);try{return new Om(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Om.parseLink(n);return Q(r,"argument-error"),Qa._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Vx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Cl{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Cl{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Cl{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(t,e){return _l(t,"POST","/v1/accounts:signUp",El(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ci._fromIdTokenResponse(e,r,i),o=d1(r);return new ur({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=d1(r);return new ur({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function d1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t){var e;const n=So(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ur({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await zx(n,{returnSecureToken:!0}),i=await ur._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kc(e,n,r,i)}}function Gx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(t,s,e,r):s})}async function O2(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ur._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ka(t,Gx(r,i,e,t),n);Q(s.idToken,r,"internal-error");const o=Am(s.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),ur._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e,n=!1){const r="signIn",i=await Gx(t,r,e),s=await ur._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function P2(t,e){return qx(So(t),e)}async function D2(t,e,n){const r=So(t),i=await zx(r,{returnSecureToken:!0,email:e,password:n}),s=await ur._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function L2(t,e,n){return P2(_t(t),Eo.credential(e,n))}function M2(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function F2(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function Kx(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}const Ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ac,"1"),this.storage.removeItem(Ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){const t=xt();return $m(t)||Sh(t)}const B2=1e3,j2=10;class Qx extends Wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=U2()&&y2(),this.fallbackToPolling=Bx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);v2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qx.type="LOCAL";const H2=Qx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yx.type="SESSION";const Xx=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await V2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Nm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function G2(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function q2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function W2(){return Jx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebaseLocalStorageDb",Q2=1,$c="firebaseLocalStorage",e_="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(t,e){return t.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function Y2(){const t=indexedDB.deleteDatabase(Zx);return new Tl(t).toPromise()}function Fp(){const t=indexedDB.open(Zx,Q2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($c,{keyPath:e_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($c)?e(r):(r.close(),await Y2(),e(await Fp()))})})}async function f1(t,e,n){const r=xh(t,!0).put({[e_]:e,value:n});return new Tl(r).toPromise()}async function X2(t,e){const n=xh(t,!1).get(e),r=await new Tl(n).toPromise();return r===void 0?null:r.value}function p1(t,e){const n=xh(t,!0).delete(e);return new Tl(n).toPromise()}const J2=800,Z2=3;class t_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(W2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q2(),!this.activeServiceWorker)return;this.sender=new z2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await f1(e,Ac,"1"),await p1(e,Ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>f1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=xh(i,!1).getAll();return new Tl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t_.type="LOCAL";const eN=t_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function nN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tN().appendChild(r)})}function rN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e){return e?Zn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sN(t){return qx(t.auth,new Pm(t),t.bypassAuthState)}function oN(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),N2(n,new Pm(t),t.bypassAuthState)}async function aN(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),O2(n,new Pm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sN;case"linkViaPopup":case"linkViaRedirect":return aN;case"reauthViaPopup":case"reauthViaRedirect":return oN;default:Tn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Sl(2e3,1e4);class Ls extends n_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,lN.get())};e()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="pendingRedirect",zu=new Map;class cN extends n_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await hN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hN(t,e){const n=pN(e),r=fN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dN(t,e){zu.set(t._key(),e)}function fN(t){return Zn(t._redirectPersistence)}function pN(t){return Vu(uN,t.config.apiKey,t.name)}async function gN(t,e,n=!1){const r=So(t),i=iN(r,e),o=await new cN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=10*60*1e3;class vN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!r_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mN&&this.cachedEventUids.clear(),this.cachedEventUids.has(g1(e))}saveEventToCache(e){this.cachedEventUids.add(g1(e)),this.lastProcessedEventTime=Date.now()}}function g1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e={}){return xl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function EN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wN(t);for(const n of e)try{if(xN(n))return}catch{}Tn(t,"unauthorized-domain")}function xN(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SN.test(n))return!1;if(bN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Sl(3e4,6e4);function m1(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CN(t){return new Promise((e,n)=>{var r,i,s;function o(){m1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m1(),n(Mn(t,"network-request-failed"))},timeout:_N.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{const a=rN("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(Mn(t,"network-request-failed"))},nN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function TN(t){return Gu=Gu||CN(t),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Sl(5e3,15e3),kN="__/auth/iframe",AN="emulator/auth/iframe",$N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ON(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?km(e,AN):`https://${t.config.authDomain}/${kN}`,r={apiKey:e.apiKey,appName:t.name,v:bl},i=RN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wl(r).slice(1)}`}async function NN(t){const e=await TN(t),n=Fn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:ON(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$N,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},IN.get());function l(){Fn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,LN=600,MN="_blank",FN="http://localhost";class v1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UN(t,e,n,r=DN,i=LN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},PN),{width:r.toString(),height:i.toString(),top:s,left:o}),u=xt().toLowerCase();n&&(a=Dx(u)?MN:n),Px(u)&&(e=e||FN,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,v])=>`${d}${f}=${v},`,"");if(m2(u)&&a!=="_self")return BN(e||"",a),new v1(null);const h=window.open(e||"",a,c);Q(h,t,"popup-blocked");try{h.focus()}catch{}return new v1(h)}function BN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",HN="emulator/auth/handler";function y1(t,e,n,r,i,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bl,eventId:i};if(e instanceof Vx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Cl){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${VN(t)}?${wl(a).slice(1)}`}function VN({config:t}){return t.emulator?km(t,HN):`https://${t.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="webStorageSupport";class zN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xx,this._completeRedirectFn=gN,this._overrideRedirectResult=dN}async _openPopup(e,n,r,i){var s;lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=y1(e,n,r,Mp(),i);return UN(e,o,Nm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),G2(y1(e,n,r,Mp(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NN(e),r=new vN(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(af,{type:af},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[af];o!==void 0&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bx()||$m()||Sh()}}const GN=zN;var w1="@firebase/auth",b1="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function WN(t){io(new Pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Q(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Q(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jx(t)},c=new b2(a,l,u);return ZO(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),io(new Pi("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new qN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(w1,b1,KN(t)),Kr(w1,b1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=5*60,YN=bx("authIdTokenMaxAge")||QN;let S1=null;const XN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YN)return;const i=n==null?void 0:n.token;S1!==i&&(S1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JN(t=_x()){const e=Cm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JO(t,{popupRedirectResolver:GN,persistence:[eN,H2,Xx]}),r=bx("authTokenSyncURL");if(r){const s=XN(r);F2(n,s,()=>s(n.currentUser)),M2(n,o=>s(o))}const i=wx("auth");return i&&S2(n,`http://${i}`),n}WN("Browser");var ZN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Dm=Dm||{},J=ZN||self;function Rc(){}function _h(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Il(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eP(t){return Object.prototype.hasOwnProperty.call(t,lf)&&t[lf]||(t[lf]=++tP)}var lf="closure_uid_"+(1e9*Math.random()>>>0),tP=0;function nP(t,e,n){return t.call.apply(t.bind,arguments)}function rP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=nP:wt=rP,wt.apply(null,arguments)}function vu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function si(){this.s=this.s,this.o=this.o}var iP=0;si.prototype.s=!1;si.prototype.na=function(){!this.s&&(this.s=!0,this.M(),iP!=0)&&eP(this)};si.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const i_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function E1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_h(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var sP=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",Rc,e),J.removeEventListener("test",Rc,e)}catch{}return t}();function Oc(t){return/^[\s\xa0]*$/.test(t)}var x1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function uf(t,e){return t<e?-1:t>e?1:0}function Ch(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Nn(t){return Ch().indexOf(t)!=-1}function Mm(t){return Mm[" "](t),t}Mm[" "]=Rc;function oP(t){var e=uP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var aP=Nn("Opera"),so=Nn("Trident")||Nn("MSIE"),s_=Nn("Edge"),Up=s_||so,o_=Nn("Gecko")&&!(Ch().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),lP=Ch().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function a_(){var t=J.document;return t?t.documentMode:void 0}var Nc;e:{var cf="",hf=function(){var t=Ch();if(o_)return/rv:([^\);]+)(\)|;)/.exec(t);if(s_)return/Edge\/([\d\.]+)/.exec(t);if(so)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lP)return/WebKit\/(\S+)/.exec(t);if(aP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(hf&&(cf=hf?hf[1]:""),so){var df=a_();if(df!=null&&df>parseFloat(cf)){Nc=String(df);break e}}Nc=cf}var uP={};function cP(){return oP(function(){let t=0;const e=x1(String(Nc)).split("."),n=x1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=uf(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||uf(i[2].length==0,s[2].length==0)||uf(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Bp;if(J.document&&so){var _1=a_();Bp=_1||parseInt(Nc,10)||void 0}else Bp=void 0;var hP=Bp;function Ya(t,e){if(bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(o_){e:{try{Mm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:dP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ya.X.h.call(this)}}ut(Ya,bt);var dP={2:"touch",3:"pen",4:"mouse"};Ya.prototype.h=function(){Ya.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kl="closure_listenable_"+(1e6*Math.random()|0),fP=0;function pP(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++fP,this.ba=this.ea=!1}function Th(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Fm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function l_(t){const e={};for(const n in t)e[n]=t[n];return e}const C1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u_(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<C1.length;s++)n=C1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ih(t){this.src=t,this.g={},this.h=0}Ih.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Hp(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new pP(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function jp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=i_(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Th(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Hp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Um="closure_lm_"+(1e6*Math.random()|0),ff={};function c_(t,e,n,r,i){if(r&&r.once)return d_(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)c_(t,e[s],n,r,i);return null}return n=Hm(n),t&&t[kl]?t.N(e,n,Il(r)?!!r.capture:!!r,i):h_(t,e,n,!1,r,i)}function h_(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Il(i)?!!i.capture:!!i,a=jm(t);if(a||(t[Um]=a=new Ih(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=gP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sP||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(p_(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gP(){function t(n){return e.call(t.src,t.listener,n)}const e=mP;return t}function d_(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)d_(t,e[s],n,r,i);return null}return n=Hm(n),t&&t[kl]?t.O(e,n,Il(r)?!!r.capture:!!r,i):h_(t,e,n,!0,r,i)}function f_(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)f_(t,e[s],n,r,i);else r=Il(r)?!!r.capture:!!r,n=Hm(n),t&&t[kl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Hp(s,n,r,i),-1<n&&(Th(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=jm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Hp(e,n,r,i)),(n=-1<t?e[t]:null)&&Bm(n))}function Bm(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[kl])jp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(p_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jm(e))?(jp(n,t),n.h==0&&(n.src=null,e[Um]=null)):Th(t)}}}function p_(t){return t in ff?ff[t]:ff[t]="on"+t}function mP(t,e){if(t.ba)t=!0;else{e=new Ya(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Bm(t),t=n.call(r,e)}return t}function jm(t){return t=t[Um],t instanceof Ih?t:null}var pf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hm(t){return typeof t=="function"?t:(t[pf]||(t[pf]=function(e){return t.handleEvent(e)}),t[pf])}function nt(){si.call(this),this.i=new Ih(this),this.P=this,this.I=null}ut(nt,si);nt.prototype[kl]=!0;nt.prototype.removeEventListener=function(t,e,n,r){f_(this,t,e,n,r)};function at(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new bt(e,t);else if(e instanceof bt)e.target=e.target||t;else{var i=e;e=new bt(r,t),u_(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yu(o,r,!0,e)&&i}if(o=e.g=t,i=yu(o,r,!0,e)&&i,i=yu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=yu(o,r,!1,e)&&i}nt.prototype.M=function(){if(nt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Th(n[r]);delete t.g[e],t.h--}}this.I=null};nt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&jp(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vm=J.JSON.stringify;function vP(){var t=v_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class yP{constructor(){this.h=this.g=null}add(e,n){const r=g_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var g_=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new wP,t=>t.reset());class wP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bP(t){J.setTimeout(()=>{throw t},0)}function m_(t,e){Vp||SP(),zp||(Vp(),zp=!0),v_.add(t,e)}var Vp;function SP(){var t=J.Promise.resolve(void 0);Vp=function(){t.then(EP)}}var zp=!1,v_=new yP;function EP(){for(var t;t=vP();){try{t.h.call(t.g)}catch(n){bP(n)}var e=g_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zp=!1}function kh(t,e){nt.call(this),this.h=t||1,this.g=e||J,this.j=wt(this.lb,this),this.l=Date.now()}ut(kh,nt);V=kh.prototype;V.ca=!1;V.R=null;V.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),at(this,"tick"),this.ca&&(zm(this),this.start()))}};V.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zm(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}V.M=function(){kh.X.M.call(this),zm(this),delete this.g};function Gm(t,e,n){if(typeof t=="function")n&&(t=wt(t,n));else if(t&&typeof t.handleEvent=="function")t=wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function y_(t){t.g=Gm(()=>{t.g=null,t.i&&(t.i=!1,y_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class xP extends si{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:y_(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xa(t){si.call(this),this.h=t,this.g={}}ut(Xa,si);var T1=[];function w_(t,e,n,r){Array.isArray(n)||(n&&(T1[0]=n.toString()),n=T1);for(var i=0;i<n.length;i++){var s=c_(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function b_(t){Fm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bm(e)},t),t.g={}}Xa.prototype.M=function(){Xa.X.M.call(this),b_(this)};Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ah(){this.g=!0}Ah.prototype.Aa=function(){this.g=!1};function _P(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function CP(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ms(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IP(t,n)+(r?" "+r:"")})}function TP(t,e){t.info(function(){return"TIMEOUT: "+e})}Ah.prototype.info=function(){};function IP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Vm(n)}catch{return e}}var Vi={},I1=null;function $h(){return I1=I1||new nt}Vi.Pa="serverreachability";function S_(t){bt.call(this,Vi.Pa,t)}ut(S_,bt);function Ja(t){const e=$h();at(e,new S_(e))}Vi.STAT_EVENT="statevent";function E_(t,e){bt.call(this,Vi.STAT_EVENT,t),this.stat=e}ut(E_,bt);function kt(t){const e=$h();at(e,new E_(e,t))}Vi.Qa="timingevent";function x_(t,e){bt.call(this,Vi.Qa,t),this.size=e}ut(x_,bt);function Al(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var Rh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},__={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qm(){}qm.prototype.h=null;function k1(t){return t.h||(t.h=t.i())}function C_(){}var $l={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Km(){bt.call(this,"d")}ut(Km,bt);function Wm(){bt.call(this,"c")}ut(Wm,bt);var Gp;function Oh(){}ut(Oh,qm);Oh.prototype.g=function(){return new XMLHttpRequest};Oh.prototype.i=function(){return{}};Gp=new Oh;function Rl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Xa(this),this.O=kP,t=Up?125:void 0,this.T=new kh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new T_}function T_(){this.i=null,this.g="",this.h=!1}var kP=45e3,qp={},Pc={};V=Rl.prototype;V.setTimeout=function(t){this.O=t};function Kp(t,e,n){t.K=1,t.v=Ph(cr(e)),t.s=n,t.P=!0,I_(t,null)}function I_(t,e){t.F=Date.now(),Ol(t),t.A=cr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),D_(n.i,"t",r),t.C=0,n=t.l.H,t.h=new T_,t.g=nC(t.l,n?e:null,!t.s),0<t.N&&(t.L=new xP(wt(t.La,t,t.g),t.N)),w_(t.S,t.g,"readystatechange",t.ib),e=t.H?l_(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ja(),_P(t.j,t.u,t.A,t.m,t.U,t.s)}V.ib=function(t){t=t.target;const e=this.L;e&&er(t)==3?e.l():this.La(t)};V.La=function(t){try{if(t==this.g)e:{const c=er(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Up||this.g&&(this.h.h||this.g.fa()||O1(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Ja(3):Ja(2)),Nh(this);var n=this.g.aa();this.Y=n;t:if(k_(this)){var r=O1(this.g);t="";var i=r.length,s=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),Ea(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,CP(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oc(a)){var u=a;break t}}u=null}if(n=u)Ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wp(this,n);else{this.i=!1,this.o=3,kt(12),bi(this),Ea(this);break e}}this.P?(A_(this,c,o),Up&&this.i&&c==3&&(w_(this.S,this.T,"tick",this.hb),this.T.start())):(Ms(this.j,this.m,o,null),Wp(this,o)),c==4&&bi(this),this.i&&!this.I&&(c==4?J_(this.l,this):(this.i=!1,Ol(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,kt(12)):(this.o=0,kt(13)),bi(this),Ea(this)}}}catch{}finally{}};function k_(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function A_(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=AP(t,n),i==Pc){e==4&&(t.o=4,kt(14),r=!1),Ms(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qp){t.o=4,kt(15),Ms(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ms(t.j,t.m,i,null),Wp(t,i);k_(t)&&i!=Pc&&i!=qp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,kt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tv(e),e.K=!0,kt(11))):(Ms(t.j,t.m,n,"[Invalid Chunked Response]"),bi(t),Ea(t))}V.hb=function(){if(this.g){var t=er(this.g),e=this.g.fa();this.C<e.length&&(Nh(this),A_(this,t,e),this.i&&t!=4&&Ol(this))}};function AP(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Pc:(n=Number(e.substring(n,r)),isNaN(n)?qp:(r+=1,r+n>e.length?Pc:(e=e.substr(r,n),t.C=r+n,e)))}V.cancel=function(){this.I=!0,bi(this)};function Ol(t){t.V=Date.now()+t.O,$_(t,t.O)}function $_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Al(wt(t.gb,t),e)}function Nh(t){t.B&&(J.clearTimeout(t.B),t.B=null)}V.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(TP(this.j,this.A),this.K!=2&&(Ja(),kt(17)),bi(this),this.o=2,Ea(this)):$_(this,this.V-t)};function Ea(t){t.l.G==0||t.I||J_(t.l,t)}function bi(t){Nh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,zm(t.T),b_(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Qp(n.h,t))){if(!t.J&&Qp(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Mc(n),Mh(n);else break e;ev(n),kt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Al(wt(n.cb,n),6e3));if(1>=F_(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Si(n,11)}else if((t.J||n.g==t)&&Mc(n),!Oc(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Qm(s,s.h),s.h=null))}if(r.D){const w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,Ie(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=tC(r,r.H?r.ka:null,r.V),o.J){U_(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Nh(a),Ol(a)),r.g=o}else Y_(r);0<n.i.length&&Fh(n)}else u[0]!="stop"&&u[0]!="close"||Si(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Si(n,7):Zm(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Ja(4)}catch{}}function $P(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RP(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_h(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function R_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_h(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RP(t),r=$P(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ti(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ti){this.h=e!==void 0?e:t.h,Dc(this,t.j),this.s=t.s,this.g=t.g,Lc(this,t.m),this.l=t.l,e=t.i;var n=new Za;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),A1(this,n),this.o=t.o}else t&&(n=String(t).match(O_))?(this.h=!!e,Dc(this,n[1]||"",!0),this.s=oa(n[2]||""),this.g=oa(n[3]||"",!0),Lc(this,n[4]),this.l=oa(n[5]||"",!0),A1(this,n[6]||"",!0),this.o=oa(n[7]||"")):(this.h=!!e,this.i=new Za(null,this.h))}Ti.prototype.toString=function(){var t=[],e=this.j;e&&t.push(aa(e,$1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(aa(e,$1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(aa(n,n.charAt(0)=="/"?DP:PP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",aa(n,MP)),t.join("")};function cr(t){return new Ti(t)}function Dc(t,e,n){t.j=n?oa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function A1(t,e,n){e instanceof Za?(t.i=e,FP(t.i,t.h)):(n||(e=aa(e,LP)),t.i=new Za(e,t.h))}function Ie(t,e,n){t.i.set(e,n)}function Ph(t){return Ie(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function aa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,NP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function NP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $1=/[#\/\?@]/g,PP=/[#\?:]/g,DP=/[#\?]/g,LP=/[#\?@]/g,MP=/#/g;function Za(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function oi(t){t.g||(t.g=new Map,t.h=0,t.i&&OP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=Za.prototype;V.add=function(t,e){oi(this),this.i=null,t=xo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function N_(t,e){oi(t),e=xo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function P_(t,e){return oi(t),e=xo(t,e),t.g.has(e)}V.forEach=function(t,e){oi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.oa=function(){oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};V.W=function(t){oi(this);let e=[];if(typeof t=="string")P_(this,t)&&(e=e.concat(this.g.get(xo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return oi(this),this.i=null,t=xo(this,t),P_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function D_(t,e,n){N_(t,e),0<n.length&&(t.i=null,t.g.set(xo(t,e),Lm(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function xo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FP(t,e){e&&!t.j&&(oi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(N_(this,r),D_(this,i,n))},t)),t.j=e}var UP=class{constructor(t,e){this.h=t,this.g=e}};function L_(t){this.l=t||BP,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ga&&J.g.Ga()&&J.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var BP=10;function M_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function F_(t){return t.h?1:t.g?t.g.size:0}function Qp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qm(t,e){t.g?t.g.add(e):t.h=e}function U_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}L_.prototype.cancel=function(){if(this.i=B_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function B_(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Lm(t.i)}function Ym(){}Ym.prototype.stringify=function(t){return J.JSON.stringify(t,void 0)};Ym.prototype.parse=function(t){return J.JSON.parse(t,void 0)};function jP(){this.g=new Ym}function HP(t,e,n){const r=n||"";try{R_(t,function(i,s){let o=i;Il(i)&&(o=Vm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function VP(t,e){const n=new Ah;if(J.Image){const r=new Image;r.onload=vu(wu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vu(wu,n,r,"TestLoadImage: error",!1,e),r.onabort=vu(wu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vu(wu,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function wu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Nl(t){this.l=t.ac||null,this.j=t.jb||!1}ut(Nl,qm);Nl.prototype.g=function(){return new Dh(this.l,this.j)};Nl.prototype.i=function(t){return function(){return t}}({});function Dh(t,e){nt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Xm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(Dh,nt);var Xm=0;V=Dh.prototype;V.open=function(t,e){if(this.readyState!=Xm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,el(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||J).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pl(this)),this.readyState=Xm};V.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j_(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function j_(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}V.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pl(this):el(this),this.readyState==3&&j_(this)}};V.Va=function(t){this.g&&(this.response=this.responseText=t,Pl(this))};V.Ua=function(t){this.g&&(this.response=t,Pl(this))};V.ga=function(){this.g&&Pl(this)};function Pl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,el(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function el(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zP=J.JSON.parse;function Le(t){nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=H_,this.K=this.L=!1}ut(Le,nt);var H_="",GP=/^https?$/i,qP=["POST","PUT"];V=Le.prototype;V.Ka=function(t){this.L=t};V.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gp.g(),this.C=this.u?k1(this.u):k1(Gp),this.g.onreadystatechange=wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){R1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=i_(qP,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{G_(this),0<this.B&&((this.K=KP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.qa,this)):this.A=Gm(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){R1(this,s)}};function KP(t){return so&&cP()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.qa=function(){typeof Dm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,at(this,"timeout"),this.abort(8))};function R1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,V_(t),Lh(t)}function V_(t){t.D||(t.D=!0,at(t,"complete"),at(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,at(this,"complete"),at(this,"abort"),Lh(this))};V.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lh(this,!0)),Le.X.M.call(this)};V.Ha=function(){this.s||(this.F||this.v||this.l?z_(this):this.fb())};V.fb=function(){z_(this)};function z_(t){if(t.h&&typeof Dm<"u"&&(!t.C[1]||er(t)!=4||t.aa()!=2)){if(t.v&&er(t)==4)Gm(t.Ha,0,t);else if(at(t,"readystatechange"),er(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(O_)[1]||null;if(!i&&J.self&&J.self.location){var s=J.self.location.protocol;i=s.substr(0,s.length-1)}r=!GP.test(i?i.toLowerCase():"")}n=r}if(n)at(t,"complete"),at(t,"success");else{t.m=6;try{var o=2<er(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",V_(t)}}finally{Lh(t)}}}}function Lh(t,e){if(t.g){G_(t);const n=t.g,r=t.C[0]?Rc:null;t.g=null,t.C=null,e||at(t,"ready");try{n.onreadystatechange=r}catch{}}}function G_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function er(t){return t.g?t.g.readyState:0}V.aa=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}};V.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zP(e)}};function O1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case H_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}V.Ea=function(){return this.m};V.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function q_(t){let e="";return Fm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=q_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ie(t,e,n))}function Wo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function K_(t){this.Ca=0,this.i=[],this.j=new Ah,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wo("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wo("baseRetryDelayMs",5e3,t),this.bb=Wo("retryDelaySeedMs",1e4,t),this.$a=Wo("forwardChannelMaxRetries",2,t),this.ta=Wo("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new L_(t&&t.concurrentRequestLimit),this.Fa=new jP,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}V=K_.prototype;V.ma=8;V.G=1;function Zm(t){if(W_(t),t.G==3){var e=t.U++,n=cr(t.F);Ie(n,"SID",t.I),Ie(n,"RID",e),Ie(n,"TYPE","terminate"),Dl(t,n),e=new Rl(t,t.j,e,void 0),e.K=2,e.v=Ph(cr(n)),n=!1,J.navigator&&J.navigator.sendBeacon&&(n=J.navigator.sendBeacon(e.v.toString(),"")),!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=nC(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ol(e)}eC(t)}function Mh(t){t.g&&(tv(t),t.g.cancel(),t.g=null)}function W_(t){Mh(t),t.u&&(J.clearTimeout(t.u),t.u=null),Mc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Fh(t){M_(t.h)||t.m||(t.m=!0,m_(t.Ja,t),t.C=0)}function WP(t,e){return F_(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Al(wt(t.Ja,t,e),Z_(t,t.C)),t.C++,!0)}V.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Rl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=l_(s),u_(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Q_(this,i,e),n=cr(this.F),Ie(n,"RID",t),Ie(n,"CVER",22),this.D&&Ie(n,"X-HTTP-Session-Id",this.D),Dl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(q_(s)))+"&"+e:this.o&&Jm(n,this.o,s)),Qm(this.h,i),this.Ya&&Ie(n,"TYPE","init"),this.O?(Ie(n,"$req",e),Ie(n,"SID","null"),i.Z=!0,Kp(i,n,null)):Kp(i,n,e),this.G=2}}else this.G==3&&(t?N1(this,t):this.i.length==0||M_(this.h)||N1(this))};function N1(t,e){var n;e?n=e.m:n=t.U++;const r=cr(t.F);Ie(r,"SID",t.I),Ie(r,"RID",n),Ie(r,"AID",t.T),Dl(t,r),t.o&&t.s&&Jm(r,t.o,t.s),n=new Rl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Q_(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Qm(t.h,n),Kp(n,r,e)}function Dl(t,e){t.ia&&Fm(t.ia,function(n,r){Ie(e,r,n)}),t.l&&R_({},function(n,r){Ie(e,r,n)})}function Q_(t,e,n){n=Math.min(t.i.length,n);var r=t.l?wt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{HP(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Y_(t){t.g||t.u||(t.Z=1,m_(t.Ia,t),t.A=0)}function ev(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Al(wt(t.Ia,t),Z_(t,t.A)),t.A++,!0)}V.Ia=function(){if(this.u=null,X_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Al(wt(this.eb,this),t)}};V.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,kt(10),Mh(this),X_(this))};function tv(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function X_(t){t.g=new Rl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=cr(t.sa);Ie(e,"RID","rpc"),Ie(e,"SID",t.I),Ie(e,"CI",t.L?"0":"1"),Ie(e,"AID",t.T),Ie(e,"TYPE","xmlhttp"),Dl(t,e),t.o&&t.s&&Jm(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ph(cr(e)),n.s=null,n.P=!0,I_(n,t)}V.cb=function(){this.v!=null&&(this.v=null,Mh(this),ev(this),kt(19))};function Mc(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function J_(t,e){var n=null;if(t.g==e){Mc(t),tv(t),t.g=null;var r=2}else if(Qp(t.h,e))n=e.D,U_(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=$h(),at(r,new x_(r,n)),Fh(t)}else Y_(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&WP(t,e)||r==2&&ev(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Si(t,5);break;case 4:Si(t,10);break;case 3:Si(t,6);break;default:Si(t,2)}}}function Z_(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Si(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=wt(t.kb,t);n||(n=new Ti("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Dc(n,"https"),Ph(n)),VP(n.toString(),r)}else kt(2);t.G=0,t.l&&t.l.va(e),eC(t),W_(t)}V.kb=function(t){t?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function eC(t){if(t.G=0,t.la=[],t.l){const e=B_(t.h);(e.length!=0||t.i.length!=0)&&(E1(t.la,e),E1(t.la,t.i),t.h.i.length=0,Lm(t.i),t.i.length=0),t.l.ua()}}function tC(t,e,n){var r=n instanceof Ti?cr(n):new Ti(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Lc(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ti(null,void 0);r&&Dc(s,r),e&&(s.g=e),i&&Lc(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ie(r,n,e),Ie(r,"VER",t.ma),Dl(t,r),r}function nC(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Le(new Nl({jb:!0})):new Le(t.ra),e.Ka(t.H),e}function rC(){}V=rC.prototype;V.xa=function(){};V.wa=function(){};V.va=function(){};V.ua=function(){};V.Ra=function(){};function Fc(){if(so&&!(10<=Number(hP)))throw Error("Environmental error: no available transport.")}Fc.prototype.g=function(t,e){return new Jt(t,e)};function Jt(t,e){nt.call(this),this.g=new K_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Oc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _o(this)}ut(Jt,nt);Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;kt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=tC(t,null,t.V),Fh(t)};Jt.prototype.close=function(){Zm(this.g)};Jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vm(t),t=n);e.i.push(new UP(e.ab++,t)),e.G==3&&Fh(e)};Jt.prototype.M=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,Jt.X.M.call(this)};function iC(t){Km.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ut(iC,Km);function sC(){Wm.call(this),this.status=1}ut(sC,Wm);function _o(t){this.g=t}ut(_o,rC);_o.prototype.xa=function(){at(this.g,"a")};_o.prototype.wa=function(t){at(this.g,new iC(t))};_o.prototype.va=function(t){at(this.g,new sC)};_o.prototype.ua=function(){at(this.g,"b")};Fc.prototype.createWebChannel=Fc.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;Rh.NO_ERROR=0;Rh.TIMEOUT=8;Rh.HTTP_ERROR=6;__.COMPLETE="complete";C_.EventType=$l;$l.OPEN="a";$l.CLOSE="b";$l.ERROR="c";$l.MESSAGE="d";nt.prototype.listen=nt.prototype.N;Le.prototype.listenOnce=Le.prototype.O;Le.prototype.getLastError=Le.prototype.Oa;Le.prototype.getLastErrorCode=Le.prototype.Ea;Le.prototype.getStatus=Le.prototype.aa;Le.prototype.getResponseJson=Le.prototype.Sa;Le.prototype.getResponseText=Le.prototype.fa;Le.prototype.send=Le.prototype.da;Le.prototype.setWithCredentials=Le.prototype.Ka;var QP=function(){return new Fc},YP=function(){return $h()},gf=Rh,XP=__,JP=Vi,P1={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ZP=Nl,bu=C_,eD=Le;const D1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new xm("@firebase/firestore");function L1(){return Mi.logLevel}function q(t,...e){if(Mi.logLevel<=fe.DEBUG){const n=e.map(nv);Mi.debug(`Firestore (${Co}): ${t}`,...n)}}function hr(t,...e){if(Mi.logLevel<=fe.ERROR){const n=e.map(nv);Mi.error(`Firestore (${Co}): ${t}`,...n)}}function Yp(t,...e){if(Mi.logLevel<=fe.WARN){const n=e.map(nv);Mi.warn(`Firestore (${Co}): ${t}`,...n)}}function nv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+t;throw hr(e),new Error(e)}function be(t,e){t||Y()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class nD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rD{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new oC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new pt(e)}}class iD{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(be(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class sD{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new iD(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.A=n.token,new oD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Ke(0,0))}static max(){return new Z(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends tl{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const uD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends tl{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return uD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(ke.fromString(e))}static fromName(e){return new W(ke.fromString(e).popFirst(5))}static empty(){return new W(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new ke(e.slice()))}}function cD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Xr(i,W.empty(),e)}function hD(t){return new Xr(t.readTime,t.key,-1)}class Xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xr(Z.min(),W.empty(),-1)}static max(){return new Xr(Z.max(),W.empty(),-1)}}function dD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==fD)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}rv.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return t==null}function Uc(t){return t===0&&1/t==-1/0}function mD(t){return typeof t=="number"&&Number.isInteger(t)&&!Uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const vD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(be(!!t),typeof t=="string"){let e=0;const n=vD.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cC(t){const e=t.mapValue.fields.__previous_value__;return uC(e)?cC(e):e}function rl(t){const e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uC(t)?4:yD(t)?9007199254740991:10:Y()}function jn(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Jr(r.timestampValue),o=Jr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ao(r.bytesValue).isEqual(ao(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return je(r.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(r.geoPointValue.longitude)===je(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return je(r.integerValue)===je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=je(r.doubleValue),o=je(i.doubleValue);return s===o?Uc(s)===Uc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(M1(s)!==M1(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!jn(s[a],o[a])))return!1;return!0}(t,e);default:return Y()}}function il(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function lo(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=je(i.integerValue||i.doubleValue),a=je(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return F1(t.timestampValue,e.timestampValue);case 4:return F1(rl(t),rl(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ao(i),a=ao(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=pe(o[l],a[l]);if(u!==0)return u}return pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=pe(je(i.latitude),je(s.latitude));return o!==0?o:pe(je(i.longitude),je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=lo(o[l],a[l]);if(u)return u}return pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Su.mapValue&&s===Su.mapValue)return 0;if(i===Su.mapValue)return 1;if(s===Su.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=pe(a[c],u[c]);if(h!==0)return h;const d=lo(o[a[c]],l[u[c]]);if(d!==0)return d}return pe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Y()}}function F1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Jr(t),r=Jr(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function uo(t){return Xp(t)}function Xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Jr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ao(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,W.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Xp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Xp(r.fields[a])}`;return s+"}"}(t.mapValue):Y();var e,n}function Jp(t){return!!t&&"integerValue"in t}function iv(t){return!!t&&"arrayValue"in t}function U1(t){return!!t&&"nullValue"in t}function B1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qu(t){return!!t&&"mapValue"in t}function xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.position=e,this.inclusive=n}}function j1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=lo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function H1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{}class Ge extends hC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SD(e,n,r):n==="array-contains"?new _D(e,r):n==="in"?new CD(e,r):n==="not-in"?new TD(e,r):n==="array-contains-any"?new ID(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ED(e,r):new xD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Hn extends hC{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Hn(e,n)}matches(e){return dC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function dC(t){return t.op==="and"}function wD(t){return bD(t)&&dC(t)}function bD(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function fC(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+uo(t.value);{const e=t.filters.map(n=>fC(n)).join(",");return`${t.op}(${e})`}}function pC(t,e){return t instanceof Ge?function(n,r){return r instanceof Ge&&n.op===r.op&&n.field.isEqual(r.field)&&jn(n.value,r.value)}(t,e):t instanceof Hn?function(n,r){return r instanceof Hn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&pC(s,r.filters[o]),!0):!1}(t,e):void Y()}function gC(t){return t instanceof Ge?function(e){return`${e.field.canonicalString()} ${e.op} ${uo(e.value)}`}(t):t instanceof Hn?function(e){return e.op.toString()+" {"+e.getFilters().map(gC).join(" ,")+"}"}(t):"Filter"}class SD extends Ge{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class ED extends Ge{constructor(e,n){super(e,"in",n),this.keys=mC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xD extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=mC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class _D extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iv(n)&&il(n.arrayValue,this.value)}}class CD extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&il(this.value.arrayValue,n)}}class TD extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!il(this.value.arrayValue,n)}}class ID extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n="asc"){this.field=e,this.dir=n}}function kD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:st.RED,this.left=i!=null?i:st.EMPTY,this.right=s!=null?s:st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new st(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,e,n,r,i){return this}insert(t,e,n){return new st(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new We(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(xa(this.value))}}function vC(t){const e=[];return zi(t.fields,(n,r)=>{const i=new vt([n]);if(qu(r)){const s=vC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,Z.min(),Z.min(),Z.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,Z.min(),Z.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,Z.min(),Z.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function z1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new AD(t,e,n,r,i,s,o)}function sv(t){const e=ee(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uo(r)).join(",")),e.ft=n}return e.ft}function ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H1(t.startAt,e.startAt)&&H1(t.endAt,e.endAt)}function Zp(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function $D(t,e,n,r,i,s,o,a){return new Bh(t,e,n,r,i,s,o,a)}function av(t){return new Bh(t)}function G1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function OD(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ND(t){return t.collectionGroup!==null}function Ks(t){const e=ee(t);if(e.dt===null){e.dt=[];const n=OD(e),r=RD(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new _a(n)),e.dt.push(new _a(vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new _a(vt.keyField(),s))}}}return e.dt}function dr(t){const e=ee(t);if(!e._t)if(e.limitType==="F")e._t=z1(e.path,e.collectionGroup,Ks(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ks(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new _a(s.field,o))}const r=e.endAt?new Bc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bc(e.startAt.position,e.startAt.inclusive):null;e._t=z1(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function eg(t,e,n){return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return ov(dr(t),dr(e))&&t.limitType===e.limitType}function yC(t){return`${sv(dr(t))}|lt:${t.limitType}`}function tg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>gC(r)).join(", ")}]`),Uh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uo(r)).join(",")),`Target(${n})`}(dr(t))}; limitType=${t.limitType})`}function lv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):W.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ks(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=j1(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ks(n),r)||n.endAt&&!function(i,s,o){const a=j1(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ks(n),r))}(t,e)}function PD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wC(t){return(e,n)=>{let r=!1;for(const i of Ks(t)){const s=DD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DD(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?lo(a,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function SC(t){return{integerValue:""+t}}function LD(t,e){return mD(e)?SC(e):bC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function MD(t,e,n){return t instanceof jc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof sl?xC(t,e):t instanceof ol?_C(t,e):function(r,i){const s=EC(r,i),o=q1(s)+q1(r.gt);return Jp(s)&&Jp(r.gt)?SC(o):bC(r.yt,o)}(t,e)}function FD(t,e,n){return t instanceof sl?xC(t,e):t instanceof ol?_C(t,e):n}function EC(t,e){return t instanceof Hc?Jp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class jc extends Hh{}class sl extends Hh{constructor(e){super(),this.elements=e}}function xC(t,e){const n=CC(e);for(const r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ol extends Hh{constructor(e){super(),this.elements=e}}function _C(t,e){let n=CC(e);for(const r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}class Hc extends Hh{constructor(e,n){super(),this.yt=e,this.gt=n}}function q1(t){return je(t.integerValue||t.doubleValue)}function CC(t){return iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UD(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof sl&&r instanceof sl||n instanceof ol&&r instanceof ol?oo(n.elements,r.elements,jn):n instanceof Hc&&r instanceof Hc?jn(n.gt,r.gt):n instanceof jc&&r instanceof jc}(t.transform,e.transform)}class BD{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vh{}function TC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uv(t.key,dn.none()):new Fl(t.key,t.data,dn.none());{const n=t.data,r=Pt.empty();let i=new We(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ai(t.key,r,new hn(i.toArray()),dn.none())}}function jD(t,e,n){t instanceof Fl?function(r,i,s){const o=r.value.clone(),a=W1(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(r,i,s){if(!Ku(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=W1(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(IC(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ca(t,e,n,r){return t instanceof Fl?function(i,s,o,a){if(!Ku(i.precondition,s))return o;const l=i.value.clone(),u=Q1(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(i,s,o,a){if(!Ku(i.precondition,s))return o;const l=Q1(i.fieldTransforms,a,s),u=s.data;return u.setAll(IC(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Ku(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function HD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EC(r.transform,i||null);s!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function K1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&oo(n,r,(i,s)=>UD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fl extends Vh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Vh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function W1(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,FD(o,a,n[i]))}return r}function Q1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,MD(s,o,e))}return r}class uv extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ae;function GD(t){switch(t){default:return Y();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function kC(t){if(t===void 0)return hr("GRPC error has no .code"),R.UNKNOWN;switch(t){case Be.OK:return R.OK;case Be.CANCELLED:return R.CANCELLED;case Be.UNKNOWN:return R.UNKNOWN;case Be.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Be.INTERNAL:return R.INTERNAL;case Be.UNAVAILABLE:return R.UNAVAILABLE;case Be.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Be.NOT_FOUND:return R.NOT_FOUND;case Be.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Be.ABORTED:return R.ABORTED;case Be.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Be.DATA_LOSS:return R.DATA_LOSS;default:return Y()}}(ae=Be||(Be={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Qe(W.comparator);function fr(){return qD}const AC=new Qe(W.comparator);function la(...t){let e=AC;for(const n of t)e=e.insert(n.key,n);return e}function $C(t){let e=AC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Ta()}function RC(){return Ta()}function Ta(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const KD=new Qe(W.comparator),WD=new We(W.comparator);function ie(...t){let e=WD;for(const n of t)e=e.add(n);return e}const QD=new We(pe);function OC(){return QD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(Z.min(),i,OC(),fr(),ie())}}class Ul{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ul(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class NC{constructor(e,n){this.targetId=e,this.Et=n}}class PC{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y1{constructor(){this.At=0,this.Rt=J1(),this.bt=Ct.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ie(),n=ie(),r=ie();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Ul(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=J1()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class YD{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=fr(),this.qt=X1(),this.Ut=new We(pe)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Zp(s))if(r===0){const o=new W(s.path);this.Qt(n,o,mt.newNoDocument(o,Z.min()))}else be(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Zp(a.target)){const l=new W(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,mt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ie();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new zh(e,n,this.Ut,this.Lt,r);return this.Lt=fr(),this.qt=X1(),this.Ut=new We(pe),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new Y1,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new We(pe),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Y1),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function X1(){return new Qe(W.comparator)}function J1(){return new Qe(W.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ZD=(()=>({and:"AND",or:"OR"}))();class eL{constructor(e,n){this.databaseId=e,this.wt=n}}function Vc(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DC(t,e){return t.wt?e.toBase64():e.toUint8Array()}function tL(t,e){return Vc(t,e.toTimestamp())}function Un(t){return be(!!t),Z.fromTimestamp(function(e){const n=Jr(e);return new Ke(n.seconds,n.nanos)}(t))}function cv(t,e){return function(n){return new ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function LC(t){const e=ke.fromString(t);return be(BC(e)),e}function ng(t,e){return cv(t.databaseId,e.path)}function mf(t,e){const n=LC(e);if(n.get(1)!==t.databaseId.projectId)throw new K(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(MC(n))}function rg(t,e){return cv(t.databaseId,e)}function nL(t){const e=LC(t);return e.length===4?ke.emptyPath():MC(e)}function ig(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MC(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z1(t,e,n){return{name:ng(t,e),fields:n.value.mapValue.fields}}function rL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(be(u===void 0||typeof u=="string"),Ct.fromBase64String(u||"")):(be(u===void 0||u instanceof Uint8Array),Ct.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?R.UNKNOWN:kC(l.code);return new K(u,l.message||"")}(o);n=new PC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mf(t,r.document.name),s=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):Z.min(),a=new Pt({mapValue:{fields:r.document.fields}}),l=mt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Wu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mf(t,r.document),s=r.readTime?Un(r.readTime):Z.min(),o=mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mf(t,r.document),s=r.removedTargetIds||[];n=new Wu([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new zD(i),o=r.targetId;n=new NC(o,s)}}return n}function iL(t,e){let n;if(e instanceof Fl)n={update:Z1(t,e.key,e.value)};else if(e instanceof uv)n={delete:ng(t,e.key)};else if(e instanceof ai)n={update:Z1(t,e.key,e.data),updateMask:fL(e.fieldMask)};else{if(!(e instanceof VD))return Y();n={verify:ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof jc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof sl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ol)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:tL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y()}(t,e.precondition)),n}function sL(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Un(r.updateTime):Un(i);return s.isEqual(Z.min())&&(s=Un(i)),new BD(s,r.transformResults||[])}(n,e))):[]}function oL(t,e){return{documents:[rg(t,e.path)]}}function aL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=rg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return UC(Hn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ss(c.field),direction:cL(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||Uh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function lL(t){let e=nL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=FC(c);return h instanceof Hn&&wD(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new _a(os(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Uh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new Bc(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new Bc(d,h)}(n.endAt)),$D(e,i,o,s,a,"F",l,u)}function uL(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function FC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=os(e.unaryFilter.field);return Ge.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=os(e.unaryFilter.field);return Ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=os(e.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=os(e.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(e){return Ge.create(os(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Hn.create(e.compositeFilter.filters.map(n=>FC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Y()}}(e.compositeFilter.op))}(t):Y()}function cL(t){return XD[t]}function hL(t){return JD[t]}function dL(t){return ZD[t]}function ss(t){return{fieldPath:t.canonicalString()}}function os(t){return vt.fromServerFormat(t.fieldPath)}function UC(t){return t instanceof Ge?function(e){if(e.op==="=="){if(B1(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NAN"}};if(U1(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(B1(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NAN"}};if(U1(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(e.field),op:hL(e.op),value:e.value}}}(t):t instanceof Hn?function(e){const n=e.getFilters().map(r=>UC(r));return n.length===1?n[0]:{compositeFilter:{op:dL(e.op),filters:n}}}(t):Y()}function fL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=TC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>K1(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>K1(n,r))}}class hv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=KD;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=Ct.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.ie=e}}function vL(t){const e=lL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.Je=new wL}addToCollectionParentIndex(e,n){return this.Je.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Xr.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class wL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new co(0)}static vn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ca(r.mutation,i,hn.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=la();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fr();const o=Ta(),a=Ta();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ai)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),Ca(c.mutation,u,c.mutation.getFieldMask(),Ke.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new SL(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ta();let i=new Qe((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||hn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=RC();c.forEach(d=>{if(!s.has(d)){const f=TC(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return W.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ND(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(Ei());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ie())).next(c=>({batchId:a,changes:$C(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=la();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=la();return this.indexManager.getCollectionParents(e,i).next(o=>N.forEach(o,a=>{const l=function(u,c){return new Bh(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,mt.newInvalidDocument(u)))});let o=la();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Ca(u.mutation,l,hn.empty(),Ke.now()),lv(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return N.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Un(r.createTime)}),N.resolve()}getNamedQuery(e,n){return N.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:vL(r.bundledQuery),readTime:Un(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.overlays=new Qe(W.comparator),this.es=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=Ei(),s=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ei(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ei(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gL(n,r));let s=this.es.get(n);s===void 0&&(s=ie(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.ns=new We(Ze.ss),this.rs=new We(Ze.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ze(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new W(new ke([])),r=new Ze(n,e),i=new Ze(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new W(new ke([])),r=new Ze(n,e),i=new Ze(n,e+1);let s=ie();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ze(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return W.comparator(e.key,n.key)||pe(e._s,n._s)}static os(e,n){return pe(e._s,n._s)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new We(Ze.ss)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(pe);return n.forEach(i=>{const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),N.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;W.isDocumentKey(s)||(s=s.child(""));const o=new Ze(new W(s),0);let a=new We(pe);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),N.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return N.forEach(n.mutations,i=>{const s=new Ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ze(n,0),i=this.gs.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.Es=e,this.docs=new Qe(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mt.newInvalidDocument(i))}),N.resolve(r)}getAllFromCollection(e,n,r){let i=fr();const s=new W(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||dD(hD(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return N.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Y()}As(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IL(this)}getSize(e){return N.resolve(this.size)}}class IL extends bL{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.persistence=e,this.Rs=new To(n=>sv(n),ov),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.bs=0,this.Ps=new dv,this.targetCount=0,this.vs=co.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),N.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new co(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Dn(n),N.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new rv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new kL(this),this.indexManager=new yL,this.remoteDocumentCache=function(r){return new TL(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new mL(n),this.Ns=new xL(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _L,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new CL(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new $L(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return N.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class $L extends pD{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.Fs=new dv,this.$s=null}static Bs(e){return new fv(e)}get Ls(){if(this.$s)return this.$s;throw Y()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),N.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Ls,r=>{const i=W.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return N.or([()=>N.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(G1(n))return N.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eg(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,eg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return G1(n)||i.isEqual(Z.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(L1()<=fe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tg(n)),this.Bi(e,o,n,cD(i,-1)))})}Fi(e,n){let r=new We(wC(e));return n.forEach((i,s)=>{lv(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return L1()<=fe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",tg(n)),this.Ni.getDocumentsMatchingQuery(e,n,Xr.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Qe(pe),this.Ui=new To(s=>sv(s),ov),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function NL(t,e,n,r){return new OL(t,e,n,r)}async function jC(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ie();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function PL(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=N.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(v=>{const w=l.docVersions.get(f);be(w!==null),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ie();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HC(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function DL(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(v,w,E){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=fr(),u=ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(LL(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(Z.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function LL(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function ML(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FL(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Ii(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function sg(t,e,n){const r=ee(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ml(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function ew(t,e,n){const r=ee(t);let i=Z.min(),s=ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ee(a),h=c.Ui.get(u);return h!==void 0?N.resolve(c.qi.get(h)):c.Cs.getTargetData(l,u)}(r,o,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ie())).next(a=>(UL(r,PD(e),a),{documents:a,Hi:s})))}function UL(t,e,n){let r=t.Ki.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class tw{constructor(){this.activeTargetIds=OC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BL{constructor(){this.Lr=new tw,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new tw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);q("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(q("RestConnection","Received: ",l),l),l=>{throw Yp("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=HL[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new eD;a.setWithCredentials(!0),a.listenOnce(XP.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case gf.NO_ERROR:const u=a.getResponseJson();q("Connection","XHR received:",JSON.stringify(u)),s(u);break;case gf.TIMEOUT:q("Connection",'RPC "'+e+'" timed out'),o(new K(R.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const c=a.getStatus();if(q("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const f=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(w)>=0?w:R.UNKNOWN}(d.status);o(new K(f,d.message))}else o(new K(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new K(R.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{q("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=QP(),o=YP(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new ZP({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");q("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new VL({Hr:v=>{h?q("Connection","Not sending because WebChannel is closed:",v):(c||(q("Connection","Opening WebChannel transport."),u.open(),c=!0),q("Connection","WebChannel sending:",v),u.send(v))},Jr:()=>u.close()}),f=(v,w,E)=>{v.listen(w,m=>{try{E(m)}catch(g){setTimeout(()=>{throw g},0)}})};return f(u,bu.EventType.OPEN,()=>{h||q("Connection","WebChannel transport opened.")}),f(u,bu.EventType.CLOSE,()=>{h||(h=!0,q("Connection","WebChannel transport closed"),d.io())}),f(u,bu.EventType.ERROR,v=>{h||(h=!0,Yp("Connection","WebChannel transport errored:",v),d.io(new K(R.UNAVAILABLE,"The operation could not be completed")))}),f(u,bu.EventType.MESSAGE,v=>{var w;if(!h){const E=v.data[0];be(!!E);const m=E,g=m.error||((w=m[0])===null||w===void 0?void 0:w.error);if(g){q("Connection","WebChannel received error:",g);const y=g.status;let _=function(T){const k=Be[T];if(k!==void 0)return kC(k)}(y),I=g.message;_===void 0&&(_=R.INTERNAL,I="Unknown error status: "+y+" with message "+g.message),h=!0,d.io(new K(_,I)),u.close()}else q("Connection","WebChannel received:",E),d.ro(E)}}),f(o,JP.STAT_EVENT,v=>{v.stat===P1.PROXY?q("Connection","Detected buffering proxy"):v.stat===P1.NOPROXY&&q("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return new eL(t,!0)}class VC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new VC(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new K(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GL extends zC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=rL(this.yt,e),r=function(i){if(!("targetChange"in i))return Z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Un(s.readTime):Z.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=ig(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Zp(a)?{documents:oL(i,a)}:{query:aL(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=DC(i,s.resumeToken):s.snapshotVersion.compareTo(Z.min())>0&&(o.readTime=Vc(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=uL(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=ig(this.yt),n.removeTarget=e,this.Bo(n)}}class qL extends zC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=sL(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.Zo(r,n)}return be(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ig(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iL(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new K(R.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(R.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(R.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class WL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(hr(n),this.ou=!1):q("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Gi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ee(a);l._u.add(4),await Bl(l),l.gu.set("Unknown"),l._u.delete(4),await qh(l)}(this))})}),this.gu=new WL(r,i)}}async function qh(t){if(Gi(t))for(const e of t.wu)await e(!0)}async function Bl(t){for(const e of t.wu)await e(!1)}function GC(t,e){const n=ee(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),vv(n)?mv(n):Io(n).ko()&&gv(n,e))}function qC(t,e){const n=ee(t),r=Io(n);n.du.delete(e),r.ko()&&KC(n,e),n.du.size===0&&(r.ko()?r.Fo():Gi(n)&&n.gu.set("Unknown"))}function gv(t,e){t.yu.Ot(e.targetId),Io(t).zo(e)}function KC(t,e){t.yu.Ot(e),Io(t).Ho(e)}function mv(t){t.yu=new YD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Io(t).start(),t.gu.uu()}function vv(t){return Gi(t)&&!Io(t).No()&&t.du.size>0}function Gi(t){return ee(t)._u.size===0}function WC(t){t.yu=void 0}async function YL(t){t.du.forEach((e,n)=>{gv(t,e)})}async function XL(t,e){WC(t),vv(t)?(t.gu.hu(e),mv(t)):t.gu.set("Unknown")}async function JL(t,e,n){if(t.gu.set("Online"),e instanceof PC&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zc(t,r)}else if(e instanceof Wu?t.yu.Kt(e):e instanceof NC?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(Z.min()))try{const r=await HC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Ct.EMPTY_BYTE_STRING,l.snapshotVersion)),KC(i,a);const u=new Ii(l.target,a,1,l.sequenceNumber);gv(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await zc(t,r)}}async function zc(t,e,n){if(!Ml(e))throw e;t._u.add(1),await Bl(t),t.gu.set("Offline"),n||(n=()=>HC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await qh(t)})}function QC(t,e){return e().catch(n=>zc(t,n,e))}async function Kh(t){const e=ee(t),n=Zr(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ZL(e);)try{const i=await ML(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,eM(e,i)}catch(i){await zc(e,i)}YC(e)&&XC(e)}function ZL(t){return Gi(t)&&t.fu.length<10}function eM(t,e){t.fu.push(e);const n=Zr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function YC(t){return Gi(t)&&!Zr(t).No()&&t.fu.length>0}function XC(t){Zr(t).start()}async function tM(t){Zr(t).eu()}async function nM(t){const e=Zr(t);for(const n of t.fu)e.Xo(n.mutations)}async function rM(t,e,n){const r=t.fu.shift(),i=hv.from(r,e,n);await QC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kh(t)}async function iM(t,e){e&&Zr(t).Yo&&await async function(n,r){if(i=r.code,GD(i)&&i!==R.ABORTED){const s=n.fu.shift();Zr(n).Mo(),await QC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Kh(n)}var i}(t,e),YC(t)&&XC(t)}async function rw(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Gi(n);n._u.add(3),await Bl(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await qh(n)}async function sM(t,e){const n=ee(t);e?(n._u.delete(2),await qh(n)):e||(n._u.add(2),await Bl(n),n.gu.set("Unknown"))}function Io(t){return t.pu||(t.pu=function(e,n,r){const i=ee(e);return i.su(),new GL(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:YL.bind(null,t),Zr:XL.bind(null,t),Wo:JL.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),vv(t)?mv(t):t.gu.set("Unknown")):(await t.pu.stop(),WC(t))})),t.pu}function Zr(t){return t.Iu||(t.Iu=function(e,n,r){const i=ee(e);return i.su(),new qL(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:tM.bind(null,t),Zr:iM.bind(null,t),tu:nM.bind(null,t),Zo:rM.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Kh(t)):(await t.Iu.stop(),t.fu.length>0&&(q("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(hr("AsyncQueue",`${e}: ${t}`),Ml(t))return new K(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=la(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new Ws(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ws;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.Tu=new Qe(W.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Y():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ho{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ho(e,n,Ws.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.Au=void 0,this.listeners=[]}}class aM{constructor(){this.queries=new To(e=>yC(e),jh),this.onlineState="Unknown",this.Ru=new Set}}async function JC(t,e){const n=ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new oM),i)try{s.Au=await n.onListen(r)}catch(o){const a=wv(o,`Initialization of query '${tg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&bv(n)}async function ZC(t,e){const n=ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function lM(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&bv(n)}function uM(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function bv(t){t.Ru.forEach(e=>{e.next()})}class eT{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.key=e}}class nT{constructor(e){this.key=e}}class cM{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ie(),this.mutatedKeys=ie(),this.Gu=wC(e),this.Qu=new Ws(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new iw,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=lv(this.query,h)?h:null,v=!!d&&this.mutatedKeys.has(d.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;d&&f?d.data.isEqual(f.data)?v!==w&&(r.track({type:3,doc:f}),E=!0):this.Hu(d,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.Gu(f,l)>0||u&&this.Gu(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),E=!0):d&&!f&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(f?(o=o.add(f),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(h,d){const f=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return f(h)-f(d)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new ho(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new iw,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ie(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new nT(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new tT(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ie();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return ho.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class hM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dM{constructor(e){this.key=e,this.nc=!1}}class fM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new To(a=>yC(a),jh),this.rc=new Map,this.oc=new Set,this.uc=new Qe(W.comparator),this.cc=new Map,this.ac=new dv,this.hc={},this.lc=new Map,this.fc=co.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function pM(t,e){const n=_M(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await FL(n.localStore,dr(e));n.isPrimaryClient&&GC(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await gM(n,e,r,a==="current",o.resumeToken)}return i}async function gM(t,e,n,r,i){t._c=(h,d,f)=>async function(v,w,E,m){let g=w.view.Wu(E);g.$i&&(g=await ew(v.localStore,w.query,!1).then(({documents:I})=>w.view.Wu(I,g)));const y=m&&m.targetChanges.get(w.targetId),_=w.view.applyChanges(g,v.isPrimaryClient,y);return ow(v,w.targetId,_.Xu),_.snapshot}(t,h,d,f);const s=await ew(t.localStore,e,!0),o=new cM(e,s.Hi),a=o.Wu(s.documents),l=Ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);ow(t,n,u.Xu);const c=new hM(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function mM(t,e){const n=ee(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!jh(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await sg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qC(n.remoteStore,r.targetId),og(n,r.targetId)}).catch(Ll)):(og(n,r.targetId),await sg(n.localStore,r.targetId,!0))}async function vM(t,e,n){const r=CM(t);try{const i=await function(s,o){const a=ee(s),l=Ke.now(),u=o.reduce((d,f)=>d.add(f.key),ie());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=fr(),v=ie();return a.Gi.getEntries(d,u).next(w=>{f=w,f.forEach((E,m)=>{m.isValidDocument()||(v=v.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(w=>{c=w;const E=[];for(const m of o){const g=HD(m,c.get(m.key).overlayedDocument);g!=null&&E.push(new ai(m.key,g,vC(g.value.mapValue),dn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,E,o)}).next(w=>{h=w;const E=w.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(d,w.batchId,E)})}).then(()=>({batchId:h.batchId,changes:$C(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Qe(pe)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await jl(r,i.changes),await Kh(r.remoteStore)}catch(i){const s=wv(i,"Failed to persist write");n.reject(s)}}async function rT(t,e){const n=ee(t);try{const r=await DL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?be(o.nc):i.removedDocuments.size>0&&(be(o.nc),o.nc=!1))}),await jl(n,r,e)}catch(r){await Ll(r)}}function sw(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ee(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&bv(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yM(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Qe(W.comparator);o=o.insert(s,mt.newNoDocument(s,Z.min()));const a=ie().add(s),l=new zh(Z.min(),new Map,new We(pe),o,a);await rT(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),Sv(r)}else await sg(r.localStore,e,!1).then(()=>og(r,e,n)).catch(Ll)}async function wM(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await PL(n.localStore,e);sT(n,r,null),iT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jl(n,i)}catch(i){await Ll(i)}}async function bM(t,e,n){const r=ee(t);try{const i=await function(s,o){const a=ee(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(be(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);sT(r,e,n),iT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jl(r,i)}catch(i){await Ll(i)}}function iT(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function sT(t,e,n){const r=ee(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||oT(t,r)})}function oT(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(qC(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Sv(t))}function ow(t,e,n){for(const r of n)r instanceof tT?(t.ac.addReference(r.key,e),SM(t,r)):r instanceof nT?(q("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||oT(t,r.key)):Y()}function SM(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(q("SyncEngine","New document in limbo: "+n),t.oc.add(r),Sv(t))}function Sv(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new W(ke.fromString(e)),r=t.fc.next();t.cc.set(r,new dM(n)),t.uc=t.uc.insert(n,r),GC(t.remoteStore,new Ii(dr(av(n.path)),r,2,rv.at))}}async function jl(t,e,n){const r=ee(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=pv.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=ee(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,h=>N.forEach(h.Si,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>N.forEach(h.Di,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Ml(c))throw c;q("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.qi.get(h),f=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(f);u.qi=u.qi.insert(h,v)}}}(r.localStore,s))}async function EM(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await jC(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new K(R.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jl(n,r.ji)}}function xM(t,e){const n=ee(t),r=n.cc.get(e);if(r&&r.nc)return ie().add(r.key);{let i=ie();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function _M(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yM.bind(null,e),e.sc.Wo=lM.bind(null,e.eventManager),e.sc.wc=uM.bind(null,e.eventManager),e}function CM(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bM.bind(null,e),e}class TM{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return NL(this.persistence,new RL,e.initialUser,this.yt)}yc(e){return new AL(fv.Bs,this.yt)}gc(e){return new BL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EM.bind(null,this.syncEngine),await sM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aM}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new zL(i));var i;return function(s,o,a,l){return new KL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>sw(this.syncEngine,a,0),o=nw.C()?new nw:new jL,new QL(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new fM(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ee(e);q("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Bl(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e,n){if(!n)throw new K(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kM(t,e,n,r){if(e===!0&&r===!0)throw new K(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aw(t){if(!W.isDocumentKey(t))throw new K(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lw(t){if(W.isDocumentKey(t))throw new K(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ev(t);throw new K(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;class cw{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new K(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new tD;switch(n.type){case"gapi":const r=n.client;return new sD(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new K(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uw.get(e);n&&(q("ComponentProvider","Removing Datastore"),uw.delete(e),n.terminate())}(this),Promise.resolve()}}function AM(t,e,n,r={}){var i;const s=(t=In(t,Wh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Yp("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=pt.MOCK_USER;else{o=MR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new K(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new pt(l)}t._authCredentials=new nD(new oC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Qh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qh(this.firestore,e,this._query)}}class Wr extends Qh{constructor(e,n,r){super(e,n,av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new W(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Dr(t,e,...n){if(t=_t(t),aT("collection","path",e),t instanceof Wh){const r=ke.fromString(e,...n);return lw(r),new Wr(t,null,r)}{if(!(t instanceof Bt||t instanceof Wr))throw new K(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return lw(r),new Wr(t.firestore,null,r)}}function jt(t,e,...n){if(t=_t(t),arguments.length===1&&(e=aC.R()),aT("doc","path",e),t instanceof Wh){const r=ke.fromString(e,...n);return aw(r),new Bt(t,null,new W(r))}{if(!(t instanceof Bt||t instanceof Wr))throw new K(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return aw(r),new Bt(t.firestore,t instanceof Wr?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=aC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function RM(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function OM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NM(t);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>rw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rw(e.remoteStore,s)),t.onlineComponents=e}async function NM(t){return t.offlineComponents||(q("FirestoreClient","Using default OfflineComponentProvider"),await RM(t,new TM)),t.offlineComponents}async function uT(t){return t.onlineComponents||(q("FirestoreClient","Using default OnlineComponentProvider"),await OM(t,new IM)),t.onlineComponents}function PM(t){return uT(t).then(e=>e.syncEngine)}async function cT(t){const e=await uT(t),n=e.eventManager;return n.onListen=pM.bind(null,e.syncEngine),n.onUnlisten=mM.bind(null,e.syncEngine),n}function DM(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new lT({next:h=>{s.enqueueAndForget(()=>ZC(i,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new K(R.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new K(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new eT(av(o.path),u,{includeMetadataChanges:!0,Nu:!0});return JC(i,c)}(await cT(t),t.asyncQueue,e,n,r)),r.promise}function LM(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new lT({next:h=>{s.enqueueAndForget(()=>ZC(i,c)),h.fromCache&&a.source==="server"?l.reject(new K(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new eT(o,u,{includeMetadataChanges:!0,Nu:!0});return JC(i,c)}(await cT(t),t.asyncQueue,e,n,r)),r.promise}class MM{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new VC(this,"async_queue_retry"),this.Wc=()=>{const n=vf();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=vf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new rr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Ml(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=yv.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&Y()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class qi extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hT(this),this._firestoreClient.terminate()}}function FM(t,e){const n=typeof t=="object"?t:_x(),r=typeof t=="string"?t:e||"(default)",i=Cm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PR("firestore");s&&AM(i,...s)}return i}function xv(t){return t._firestoreClient||hT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hT(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new gD(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new $M(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Ct.fromBase64String(e))}catch(n){throw new K(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fo(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^__.*__$/;class BM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class dT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Tv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Tv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Gc(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(fT(this.sa)&&UM.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class jM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||Gh(e)}da(e,n,r,i=!1){return new Tv({sa:e,methodName:n,fa:r,path:vt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Iv(t){const e=t._freezeSettings(),n=Gh(t._databaseId);return new jM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pT(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);kv("Data must be an object, but it was:",o,r);const a=gT(r,o);let l,u;if(s.merge)l=new hn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=ag(e,h,n);if(!o.contains(d))throw new K(R.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);vT(c,d)||c.push(d)}l=new hn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new BM(new Pt(a),l,u)}class Xh extends _v{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function HM(t,e,n,r){const i=t.da(1,e,n);kv("Data must be an object, but it was:",i,r);const s=[],o=Pt.empty();zi(r,(l,u)=>{const c=Av(e,l,n);u=_t(u);const h=i.ca(c);if(u instanceof Xh)s.push(c);else{const d=Jh(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new hn(s);return new dT(o,a,i.fieldTransforms)}function VM(t,e,n,r,i,s){const o=t.da(1,e,n),a=[ag(e,r,n)],l=[i];if(s.length%2!=0)throw new K(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(ag(e,s[d])),l.push(s[d+1]);const u=[],c=Pt.empty();for(let d=a.length-1;d>=0;--d)if(!vT(u,a[d])){const f=a[d];let v=l[d];v=_t(v);const w=o.ca(f);if(v instanceof Xh)u.push(f);else{const E=Jh(v,w);E!=null&&(u.push(f),c.set(f,E))}}const h=new hn(u);return new dT(c,h,o.fieldTransforms)}function Jh(t,e){if(mT(t=_t(t)))return kv("Unsupported field value:",e,t),gT(t,e);if(t instanceof _v)return function(n,r){if(!fT(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Jh(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=_t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return LD(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ke.fromDate(n);return{timestampValue:Vc(r.yt,i)}}if(n instanceof Ke){const i=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vc(r.yt,i)}}if(n instanceof Cv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fo)return{bytesValue:DC(r.yt,n._byteString)};if(n instanceof Bt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Ev(n)}`)}(t,e)}function gT(t,e){const n={};return lC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const s=Jh(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Cv||t instanceof fo||t instanceof Bt||t instanceof _v)}function kv(t,e,n){if(!mT(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ev(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function ag(t,e,n){if((e=_t(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return Av(t,e);throw Gc("Field path arguments must be of type string or ",t,!1,void 0,n)}const zM=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(zM)>=0)throw Gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yh(...e.split("."))._internalPath}catch{throw Gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(R.INVALID_ARGUMENT,a+t+l)}function vT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GM extends yT{data(){return super.data()}}function wT(t,e){return typeof e=="string"?Av(t,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KM{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){const r={};return zi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Cv(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);be(BC(r));const i=new nl(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(n)||hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ST extends yT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qu extends ST{data(e={}){return super.data(e)}}class WM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qu(this._firestore,this._userDataWriter,r.key,r,new ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Qu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ua(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Qu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ua(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:QM(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){t=In(t,Bt);const e=In(t.firestore,qi);return DM(xv(e),t._key).then(n=>XM(e,t,n))}class ET extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function xT(t){t=In(t,Qh);const e=In(t.firestore,qi),n=xv(e),r=new ET(e);return qM(t._query),LM(n,t._query).then(i=>new WM(e,r,t,i))}function YM(t,e,n){t=In(t,Bt);const r=In(t.firestore,qi),i=bT(t.converter,e,n);return Zh(r,[pT(Iv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dn.none())])}function Ki(t,e,n,...r){t=In(t,Bt);const i=In(t.firestore,qi),s=Iv(i);let o;return o=typeof(e=_t(e))=="string"||e instanceof Yh?VM(s,"updateDoc",t._key,e,n,r):HM(s,"updateDoc",t._key,e),Zh(i,[o.toMutation(t._key,dn.exists(!0))])}function _T(t){return Zh(In(t.firestore,qi),[new uv(t._key,dn.none())])}function Fs(t,e){const n=In(t.firestore,qi),r=jt(t),i=bT(t.converter,e);return Zh(n,[pT(Iv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then(()=>r)}function Zh(t,e){return function(n,r){const i=new rr;return n.asyncQueue.enqueueAndForget(async()=>vM(await PM(n),r,i)),i.promise}(xv(t),e)}function XM(t,e,n){const r=n.docs.get(e._key),i=new ET(t);return new ST(t,i,e._key,r,new ua(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Co=n})(bl),io(new Pi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qi(new rD(n.getProvider("auth-internal")),new aD(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new K(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Kr(D1,"3.8.0",t),Kr(D1,"3.8.0","esm2017")})();const ne={BASE_COLLECTION:"users",SCHEMES:"schemes",CURRENT_SCHEME:"currentSchemeId"},Qs={PRIMARY_PALETTES:"primary-palettes",NEUTRAL_PALETTES:"neutral-palettes",ACCENT_PALETTES:"accent-palettes"},Ve={GET_ALL_SCHEMES:[ne.SCHEMES],GET_CURRENT_SCHEME_ID:[ne.CURRENT_SCHEME],GET_CURRENT_SCHEME:[ne.CURRENT_SCHEME,"get current scheme"],CHECK_USER_EXISTENCE:["Checking if the user exist already."]};var JM="firebase",ZM="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(JM,ZM,"app");const eF={apiKey:"AIzaSyCXPVFNkrq3BnEvxfjWvWV5uhSnUsqiwrg",authDomain:"palette-bank.firebaseapp.com",projectId:"palette-bank",storageBucket:"palette-bank.appspot.com",messagingSenderId:"1059735556440",appId:"1:1059735556440:web:1419101fa2e8f686af552d",measurementId:"G-8PELP3B3JQ"},CT=xx(eF),Ue=FM(CT),Ne=JN(CT);async function tF(t){const e=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid);await Ki(e,{currentSchemeId:t})}function TT(){const t=Ht();return zn(tF,{onSuccess:()=>{t.invalidateQueries([...Ve.GET_CURRENT_SCHEME_ID]),t.invalidateQueries([...Ve.GET_CURRENT_SCHEME]),t.invalidateQueries([...Ve.GET_ALL_SCHEMES])}})}async function nF(t){const e=jt(Ue,ne.BASE_COLLECTION,t.uid);await YM(e,{currentSchemeId:""});const n=Dr(Ue,ne.BASE_COLLECTION,t.uid,ne.SCHEMES),r=await Fs(n,{name:"starter scheme"});await Ki(e,{currentSchemeId:r.id});const i=Dr(Ue,ne.BASE_COLLECTION,t.uid,ne.SCHEMES,r.id,Qs.PRIMARY_PALETTES);await Fs(i,{name:"prim",colors:[],colorNames:[]});const s=Dr(Ue,ne.BASE_COLLECTION,t.uid,ne.SCHEMES,r.id,Qs.NEUTRAL_PALETTES);await Fs(s,{name:"neut",colors:[],colorNames:[]});const o=Dr(Ue,ne.BASE_COLLECTION,t.uid,ne.SCHEMES,r.id,Qs.ACCENT_PALETTES);await Fs(o,{name:"acce",colors:[],colorNames:[]})}function IT(){const t=Ht();return zn(nF,{onSuccess:()=>{t.invalidateQueries([...Ve.GET_CURRENT_SCHEME_ID]),t.invalidateQueries([...Ve.GET_CURRENT_SCHEME]),t.invalidateQueries([...Ve.GET_ALL_SCHEMES])}})}const ed=typeof window>"u"||typeof document>"u";let Lt=ed?x.exports.useEffect:x.exports.useLayoutEffect;function po(t){let e=x.exports.useRef(t);return Lt(()=>{e.current=t},[t]),e}function td(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function go(){let t=[],e=[],n={enqueue(r){e.push(r)},addEventListener(r,i,s,o){return r.addEventListener(i,s,o),n.add(()=>r.removeEventListener(i,s,o))},requestAnimationFrame(...r){let i=requestAnimationFrame(...r);return n.add(()=>cancelAnimationFrame(i))},nextFrame(...r){return n.requestAnimationFrame(()=>n.requestAnimationFrame(...r))},setTimeout(...r){let i=setTimeout(...r);return n.add(()=>clearTimeout(i))},microTask(...r){let i={current:!0};return td(()=>{i.current&&r[0]()}),n.add(()=>{i.current=!1})},add(r){return t.push(r),()=>{let i=t.indexOf(r);if(i>=0){let[s]=t.splice(i,1);s()}}},dispose(){for(let r of t.splice(0))r()},async workQueue(){for(let r of e.splice(0))await r()}};return n}function kT(){let[t]=x.exports.useState(go);return x.exports.useEffect(()=>()=>t.dispose(),[t]),t}let re=function(t){let e=po(t);return le.useCallback((...n)=>e.current(...n),[e])},yf={serverHandoffComplete:!1};function nd(){let[t,e]=x.exports.useState(yf.serverHandoffComplete);return x.exports.useEffect(()=>{t!==!0&&e(!0)},[t]),x.exports.useEffect(()=>{yf.serverHandoffComplete===!1&&(yf.serverHandoffComplete=!0)},[]),t}var hw;let rF=0;function dw(){return++rF}let $t=(hw=le.useId)!=null?hw:function(){let t=nd(),[e,n]=le.useState(t?dw:null);return Lt(()=>{e===null&&n(dw())},[e]),e!=null?""+e:void 0};function St(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,St),r}function ko(t){return ed?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let lg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var un=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(un||{}),AT=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(AT||{}),iF=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(iF||{});function rd(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(lg))}var id=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(id||{});function sd(t,e=0){var n;return t===((n=ko(t))==null?void 0:n.body)?!1:St(e,{[0](){return t.matches(lg)},[1](){let r=t;for(;r!==null;){if(r.matches(lg))return!0;r=r.parentElement}return!1}})}function $T(t){let e=ko(t);go().nextFrame(()=>{e&&!sd(e.activeElement,0)&&ki(t)})}function ki(t){t==null||t.focus({preventScroll:!0})}let sF=["textarea","input"].join(",");function oF(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,sF))!=null?n:!1}function RT(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function aF(t,e){return Pn(rd(),e,!0,t)}function Pn(t,e,n=!0,r=null){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?n?RT(t):t:rd(t);r=r!=null?r:i.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(r))-1;if(e&4)return Math.max(0,s.indexOf(r))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=e&32?{preventScroll:!0}:{},u=0,c=s.length,h;do{if(u>=c||u+c<=0)return 0;let d=a+u;if(e&16)d=(d+c)%c;else{if(d<0)return 3;if(d>=c)return 1}h=s[d],h==null||h.focus(l),u+=o}while(h!==i.activeElement);return e&6&&oF(h)&&h.select(),h.hasAttribute("tabindex")||h.setAttribute("tabindex","0"),2}function wf(t,e,n){let r=po(e);x.exports.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function $v(t,e,n=!0){let r=x.exports.useRef(!1);x.exports.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=function c(h){return typeof h=="function"?c(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t),u=a(o);if(u!==null&&!!u.getRootNode().contains(u)){for(let c of l){if(c===null)continue;let h=c instanceof HTMLElement?c:c.current;if(h!=null&&h.contains(u)||o.composed&&o.composedPath().includes(h))return}return!sd(u,id.Loose)&&u.tabIndex!==-1&&o.preventDefault(),e(o,u)}}let s=x.exports.useRef(null);wf("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),wf("click",o=>{!s.current||(i(o,()=>s.current),s.current=null)},!0),wf("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function fw(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function OT(t,e){let[n,r]=x.exports.useState(()=>fw(t));return Lt(()=>{r(fw(t))},[t.type,t.as]),Lt(()=>{n||!e.current||e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let NT=Symbol();function PT(t,e=!0){return Object.assign(t,{[NT]:e})}function Ye(...t){let e=x.exports.useRef(t);x.exports.useEffect(()=>{e.current=t},[t]);let n=re(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[NT]))?void 0:n}function lF({container:t,accept:e,walk:n,enabled:r=!0}){let i=x.exports.useRef(e),s=x.exports.useRef(n);x.exports.useEffect(()=>{i.current=e,s.current=n},[e,n]),Lt(()=>{if(!t||!r)return;let o=ko(t);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),c=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[t,r,i,s])}function uF(t){throw new Error("Unexpected object: "+t)}var En=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(En||{});function cF(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r!=null?r:-1,s=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>i!==-1&&u.length-l-1>=i?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:uF(t)}})();return s===-1?r:s}var pr=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(pr||{}),hF=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(hF||{});function Xe({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o}){let a=DT(e,t);if(s)return xu(a,n,r,o);let l=i!=null?i:0;if(l&2){let{static:u=!1,...c}=a;if(u)return xu(c,n,r,o)}if(l&1){let{unmount:u=!0,...c}=a;return St(u?0:1,{[0](){return null},[1](){return xu({...c,hidden:!0,style:{display:"none"}},n,r,o)}})}return xu(a,n,r,o)}function xu(t,e={},n,r){let{as:i=n,children:s,refName:o="ref",...a}=bf(t,["unmount","static"]),l=t.ref!==void 0?{[o]:t.ref}:{},u=typeof s=="function"?s(e):s;a.className&&typeof a.className=="function"&&(a.className=a.className(e));let c={};if(e){let h=!1,d=[];for(let[f,v]of Object.entries(e))typeof v=="boolean"&&(h=!0),v===!0&&d.push(f);h&&(c["data-headlessui-state"]=d.join(" "))}if(i===x.exports.Fragment&&Object.keys(pw(a)).length>0){if(!x.exports.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`));return x.exports.cloneElement(u,Object.assign({},DT(u.props,pw(bf(a,["ref"]))),c,l,dF(u.ref,l.ref)))}return x.exports.createElement(i,Object.assign({},bf(a,["ref"]),i!==x.exports.Fragment&&l,i!==x.exports.Fragment&&c),u)}function dF(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}}function DT(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Je(t){var e;return Object.assign(x.exports.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function pw(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function bf(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function od(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&fF(n)?!1:r}function fF(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let pF="div";var Ui=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Ui||{});let mo=Je(function(t,e){let{features:n=1,...r}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Xe({ourProps:i,theirProps:r,slot:{},defaultTag:pF,name:"Hidden"})}),Rv=x.exports.createContext(null);Rv.displayName="OpenClosedContext";var Vn=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Vn||{});function ad(){return x.exports.useContext(Rv)}function LT({value:t,children:e}){return le.createElement(Rv.Provider,{value:t},e)}var _e=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(_e||{});function MT(t,e){let n=x.exports.useRef([]),r=re(t);x.exports.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function gw(t){return[t.screenX,t.screenY]}function gF(){let t=x.exports.useRef([-1,-1]);return{wasMoved(e){let n=gw(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=gw(e)}}}function mF(t,e,n){let r=po(e);x.exports.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}var tr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(tr||{});function Ov(){let t=x.exports.useRef(0);return mF("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function FT(){let t=x.exports.useRef(!1);return Lt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function li(...t){return x.exports.useMemo(()=>ko(...t),[...t])}function ld(t,e,n,r){let i=po(n);x.exports.useEffect(()=>{t=t!=null?t:window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}let vF="div";var UT=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(UT||{});let Qo=Object.assign(Je(function(t,e){let n=x.exports.useRef(null),r=Ye(n,e),{initialFocus:i,containers:s,features:o=30,...a}=t;nd()||(o=1);let l=li(n);yF({ownerDocument:l},Boolean(o&16));let u=wF({ownerDocument:l,container:n,initialFocus:i},Boolean(o&2));bF({ownerDocument:l,container:n,containers:s,previousActiveElement:u},Boolean(o&8));let c=Ov(),h=re(()=>{let f=n.current;!f||St(c.current,{[tr.Forwards]:()=>Pn(f,un.First),[tr.Backwards]:()=>Pn(f,un.Last)})}),d={ref:r};return le.createElement(le.Fragment,null,Boolean(o&4)&&p(mo,{as:"button",type:"button",onFocus:h,features:Ui.Focusable}),Xe({ourProps:d,theirProps:a,defaultTag:vF,name:"FocusTrap"}),Boolean(o&4)&&p(mo,{as:"button",type:"button",onFocus:h,features:Ui.Focusable}))}),{features:UT});function yF({ownerDocument:t},e){let n=x.exports.useRef(null);ld(t==null?void 0:t.defaultView,"focusout",i=>{!e||n.current||(n.current=i.target)},!0),MT(()=>{e||((t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ki(n.current),n.current=null)},[e]);let r=x.exports.useRef(!1);x.exports.useEffect(()=>(r.current=!1,()=>{r.current=!0,td(()=>{!r.current||(ki(n.current),n.current=null)})}),[])}function wF({ownerDocument:t,container:e,initialFocus:n},r){let i=x.exports.useRef(null),s=FT();return MT(()=>{if(!r)return;let o=e.current;!o||td(()=>{if(!s.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?ki(n.current):Pn(o,un.First)===AT.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function bF({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let s=FT();ld(t==null?void 0:t.defaultView,"focus",o=>{if(!i||!s.current)return;let a=new Set(n==null?void 0:n.current);a.add(e);let l=r.current;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?SF(a,u)?(r.current=u,ki(u)):(o.preventDefault(),o.stopPropagation(),ki(l)):ki(r.current)},!0)}function SF(t,e){var n;for(let r of t)if((n=r.current)!=null&&n.contains(e))return!0;return!1}let rs=new Set,xr=new Map;function mw(t){t.setAttribute("aria-hidden","true"),t.inert=!0}function vw(t){let e=xr.get(t);!e||(e["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",e["aria-hidden"]),t.inert=e.inert)}function EF(t,e=!0){Lt(()=>{if(!e||!t.current)return;let n=t.current,r=ko(n);if(r){rs.add(n);for(let i of xr.keys())i.contains(n)&&(vw(i),xr.delete(i));return r.querySelectorAll("body > *").forEach(i=>{if(i instanceof HTMLElement){for(let s of rs)if(i.contains(s))return;rs.size===1&&(xr.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),mw(i))}}),()=>{if(rs.delete(n),rs.size>0)r.querySelectorAll("body > *").forEach(i=>{if(i instanceof HTMLElement&&!xr.has(i)){for(let s of rs)if(i.contains(s))return;xr.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),mw(i)}});else for(let i of xr.keys())vw(i),xr.delete(i)}}},[e])}let BT=x.exports.createContext(!1);function xF(){return x.exports.useContext(BT)}function ug(t){return le.createElement(BT.Provider,{value:t.force},t.children)}function _F(t){let e=xF(),n=x.exports.useContext(jT),r=li(t),[i,s]=x.exports.useState(()=>{if(!e&&n!==null||ed)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return x.exports.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),x.exports.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let CF=x.exports.Fragment,TF=Je(function(t,e){let n=t,r=x.exports.useRef(null),i=Ye(PT(c=>{r.current=c}),e),s=li(r),o=_F(r),[a]=x.exports.useState(()=>{var c;return ed?null:(c=s==null?void 0:s.createElement("div"))!=null?c:null}),l=nd(),u=x.exports.useRef(!1);return Lt(()=>{if(u.current=!1,!(!o||!a))return o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a)),()=>{u.current=!0,td(()=>{var c;!u.current||!o||!a||(o.removeChild(a),o.childNodes.length<=0&&((c=o.parentElement)==null||c.removeChild(o)))})}},[o,a]),l?!o||!a?null:kg.exports.createPortal(Xe({ourProps:{ref:i},theirProps:n,defaultTag:CF,name:"Portal"}),a):null}),IF=x.exports.Fragment,jT=x.exports.createContext(null),kF=Je(function(t,e){let{target:n,...r}=t,i={ref:Ye(e)};return p(jT.Provider,{value:n,children:Xe({ourProps:i,theirProps:r,defaultTag:IF,name:"Popover.Group"})})}),cg=Object.assign(TF,{Group:kF}),HT=x.exports.createContext(null);function VT(){let t=x.exports.useContext(HT);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,VT),e}return t}function AF(){let[t,e]=x.exports.useState([]);return[t.length>0?t.join(" "):void 0,x.exports.useMemo(()=>function(n){let r=re(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=x.exports.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return le.createElement(HT.Provider,{value:i},n.children)},[e])]}let $F="p",RF=Je(function(t,e){let n=$t(),{id:r=`headlessui-description-${n}`,...i}=t,s=VT(),o=Ye(e);Lt(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return Xe({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:$F,name:s.name||"Description"})}),Nv=x.exports.createContext(()=>{});Nv.displayName="StackContext";var hg=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(hg||{});function OF(){return x.exports.useContext(Nv)}function NF({children:t,onUpdate:e,type:n,element:r,enabled:i}){let s=OF(),o=re((...a)=>{e==null||e(...a),s(...a)});return Lt(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),le.createElement(Nv.Provider,{value:o},t)}function PF(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var DF=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(DF||{}),LF=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(LF||{});let MF={[0](t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Kc=x.exports.createContext(null);Kc.displayName="DialogContext";function Hl(t){let e=x.exports.useContext(Kc);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hl),n}return e}function FF(t,e){x.exports.useEffect(()=>{var n;if(!e||!t)return;let r=go();function i(a,l,u){let c=a.style.getPropertyValue(l);return Object.assign(a.style,{[l]:u}),r.add(()=>{Object.assign(a.style,{[l]:c})})}let s=t.documentElement,o=((n=t.defaultView)!=null?n:window).innerWidth-s.clientWidth;if(i(s,"overflow","hidden"),o>0){let a=s.clientWidth-s.offsetWidth,l=o-a;i(s,"paddingRight",`${l}px`)}if(PF()){let a=window.pageYOffset;i(s,"position","fixed"),i(s,"marginTop",`-${a}px`),i(s,"width","100%"),r.add(()=>window.scrollTo(0,a))}return r.dispose},[t,e])}function UF(t,e){return St(e.type,MF,t,e)}let BF="div",jF=pr.RenderStrategy|pr.Static,HF=Je(function(t,e){let n=$t(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,__demoMode:a=!1,...l}=t,[u,c]=x.exports.useState(0),h=ad();i===void 0&&h!==null&&(i=St(h,{[Vn.Open]:!0,[Vn.Closed]:!1}));let d=x.exports.useRef(new Set),f=x.exports.useRef(null),v=Ye(f,e),w=x.exports.useRef(null),E=li(f),m=t.hasOwnProperty("open")||h!==null,g=t.hasOwnProperty("onClose");if(!m&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!m)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let y=i?0:1,[_,I]=x.exports.useReducer(UF,{titleId:null,descriptionId:null,panelRef:x.exports.createRef()}),T=re(()=>s(!1)),k=re(me=>I({type:0,id:me})),A=nd()?a?!1:y===0:!1,H=u>1,z=x.exports.useContext(Kc)!==null,L=H?"parent":"leaf";EF(f,H?A:!1),$v(()=>{var me,M;return[...Array.from((me=E==null?void 0:E.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?me:[]).filter(G=>!(!(G instanceof HTMLElement)||G.contains(w.current)||_.panelRef.current&&G.contains(_.panelRef.current))),(M=_.panelRef.current)!=null?M:f.current]},T,A&&!H),ld(E==null?void 0:E.defaultView,"keydown",me=>{me.defaultPrevented||me.key===_e.Escape&&y===0&&(H||(me.preventDefault(),me.stopPropagation(),T()))}),FF(E,y===0&&!z),x.exports.useEffect(()=>{if(y!==0||!f.current)return;let me=new IntersectionObserver(M=>{for(let G of M)G.boundingClientRect.x===0&&G.boundingClientRect.y===0&&G.boundingClientRect.width===0&&G.boundingClientRect.height===0&&T()});return me.observe(f.current),()=>me.disconnect()},[y,f,T]);let[te,he]=AF(),rt=x.exports.useMemo(()=>[{dialogState:y,close:T,setTitleId:k},_],[y,_,T,k]),ct=x.exports.useMemo(()=>({open:y===0}),[y]),ht={ref:v,id:r,role:"dialog","aria-modal":y===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":te};return le.createElement(NF,{type:"Dialog",enabled:y===0,element:f,onUpdate:re((me,M,G)=>{M==="Dialog"&&St(me,{[hg.Add](){d.current.add(G),c(F=>F+1)},[hg.Remove](){d.current.add(G),c(F=>F-1)}})})},le.createElement(ug,{force:!0},le.createElement(cg,null,le.createElement(Kc.Provider,{value:rt},le.createElement(cg.Group,{target:f},le.createElement(ug,{force:!1},le.createElement(he,{slot:ct,name:"Dialog.Description"},p(Qo,{initialFocus:o,containers:d,features:A?St(L,{parent:Qo.features.RestoreFocus,leaf:Qo.features.All&~Qo.features.FocusLock}):Qo.features.None,children:Xe({ourProps:ht,theirProps:l,slot:ct,defaultTag:BF,features:jF,visible:y===0,name:"Dialog"})}))))))),p(mo,{features:Ui.Hidden,ref:w}))}),VF="div",zF=Je(function(t,e){let n=$t(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:s,close:o}]=Hl("Dialog.Overlay"),a=Ye(e),l=re(c=>{if(c.target===c.currentTarget){if(od(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),o()}}),u=x.exports.useMemo(()=>({open:s===0}),[s]);return Xe({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:VF,name:"Dialog.Overlay"})}),GF="div",qF=Je(function(t,e){let n=$t(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:s},o]=Hl("Dialog.Backdrop"),a=Ye(e);x.exports.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=x.exports.useMemo(()=>({open:s===0}),[s]);return p(ug,{force:!0,children:p(cg,{children:Xe({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:GF,name:"Dialog.Backdrop"})})})}),KF="div",WF=Je(function(t,e){let n=$t(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:s},o]=Hl("Dialog.Panel"),a=Ye(e,o.panelRef),l=x.exports.useMemo(()=>({open:s===0}),[s]),u=re(c=>{c.stopPropagation()});return Xe({ourProps:{ref:a,id:r,onClick:u},theirProps:i,slot:l,defaultTag:KF,name:"Dialog.Panel"})}),QF="h2",YF=Je(function(t,e){let n=$t(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Hl("Dialog.Title"),a=Ye(e);x.exports.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=x.exports.useMemo(()=>({open:s===0}),[s]);return Xe({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:QF,name:"Dialog.Title"})}),yt=Object.assign(HF,{Backdrop:qF,Panel:WF,Overlay:zF,Title:YF,Description:RF});var XF=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(XF||{}),JF=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(JF||{}),ZF=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(ZF||{});function Sf(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=RT(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let e3={[1](t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},[0](t){return t.menuState===0?t:{...t,menuState:0}},[2]:(t,e)=>{var n;let r=Sf(t),i=cF(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},[3]:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},[4](t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},[5]:(t,e)=>{let n=Sf(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},[6]:(t,e)=>{let n=Sf(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},Pv=x.exports.createContext(null);Pv.displayName="MenuContext";function ud(t){let e=x.exports.useContext(Pv);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ud),n}return e}function t3(t,e){return St(e.type,e3,t,e)}let n3=x.exports.Fragment,r3=Je(function(t,e){let n=x.exports.useReducer(t3,{menuState:1,buttonRef:x.exports.createRef(),itemsRef:x.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:i,buttonRef:s},o]=n,a=Ye(e);$v([s,i],(d,f)=>{var v;o({type:1}),sd(f,id.Loose)||(d.preventDefault(),(v=s.current)==null||v.focus())},r===0);let l=re(()=>{o({type:1})}),u=x.exports.useMemo(()=>({open:r===0,close:l}),[r,l]),c=t,h={ref:a};return le.createElement(Pv.Provider,{value:n},le.createElement(LT,{value:St(r,{[0]:Vn.Open,[1]:Vn.Closed})},Xe({ourProps:h,theirProps:c,slot:u,defaultTag:n3,name:"Menu"})))}),i3="button",s3=Je(function(t,e){var n;let r=$t(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=ud("Menu.Button"),l=Ye(o.buttonRef,e),u=kT(),c=re(w=>{switch(w.key){case _e.Space:case _e.Enter:case _e.ArrowDown:w.preventDefault(),w.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:En.First}));break;case _e.ArrowUp:w.preventDefault(),w.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:En.Last}));break}}),h=re(w=>{switch(w.key){case _e.Space:w.preventDefault();break}}),d=re(w=>{if(od(w.currentTarget))return w.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),u.nextFrame(()=>{var E;return(E=o.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})})):(w.preventDefault(),a({type:0})))}),f=x.exports.useMemo(()=>({open:o.menuState===0}),[o]),v={ref:l,id:i,type:OT(t,o.buttonRef),"aria-haspopup":!0,"aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":t.disabled?void 0:o.menuState===0,onKeyDown:c,onKeyUp:h,onClick:d};return Xe({ourProps:v,theirProps:s,slot:f,defaultTag:i3,name:"Menu.Button"})}),o3="div",a3=pr.RenderStrategy|pr.Static,l3=Je(function(t,e){var n,r;let i=$t(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=ud("Menu.Items"),u=Ye(a.itemsRef,e),c=li(a.itemsRef),h=kT(),d=ad(),f=(()=>d!==null?d===Vn.Open:a.menuState===0)();x.exports.useEffect(()=>{let g=a.itemsRef.current;!g||a.menuState===0&&g!==(c==null?void 0:c.activeElement)&&g.focus({preventScroll:!0})},[a.menuState,a.itemsRef,c]),lF({container:a.itemsRef.current,enabled:a.menuState===0,accept(g){return g.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:g.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(g){g.setAttribute("role","none")}});let v=re(g=>{var y,_;switch(h.dispose(),g.key){case _e.Space:if(a.searchQuery!=="")return g.preventDefault(),g.stopPropagation(),l({type:3,value:g.key});case _e.Enter:if(g.preventDefault(),g.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:I}=a.items[a.activeItemIndex];(_=(y=I.current)==null?void 0:y.domRef.current)==null||_.click()}$T(a.buttonRef.current);break;case _e.ArrowDown:return g.preventDefault(),g.stopPropagation(),l({type:2,focus:En.Next});case _e.ArrowUp:return g.preventDefault(),g.stopPropagation(),l({type:2,focus:En.Previous});case _e.Home:case _e.PageUp:return g.preventDefault(),g.stopPropagation(),l({type:2,focus:En.First});case _e.End:case _e.PageDown:return g.preventDefault(),g.stopPropagation(),l({type:2,focus:En.Last});case _e.Escape:g.preventDefault(),g.stopPropagation(),l({type:1}),go().nextFrame(()=>{var I;return(I=a.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})});break;case _e.Tab:g.preventDefault(),g.stopPropagation(),l({type:1}),go().nextFrame(()=>{aF(a.buttonRef.current,g.shiftKey?un.Previous:un.Next)});break;default:g.key.length===1&&(l({type:3,value:g.key}),h.setTimeout(()=>l({type:4}),350));break}}),w=re(g=>{switch(g.key){case _e.Space:g.preventDefault();break}}),E=x.exports.useMemo(()=>({open:a.menuState===0}),[a]),m={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:v,onKeyUp:w,role:"menu",tabIndex:0,ref:u};return Xe({ourProps:m,theirProps:o,slot:E,defaultTag:o3,features:a3,visible:f,name:"Menu.Items"})}),u3=x.exports.Fragment,c3=Je(function(t,e){let n=$t(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=ud("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=x.exports.useRef(null),c=Ye(e,u);Lt(()=>{if(o.menuState!==0||!l||o.activationTrigger===0)return;let _=go();return _.requestAnimationFrame(()=>{var I,T;(T=(I=u.current)==null?void 0:I.scrollIntoView)==null||T.call(I,{block:"nearest"})}),_.dispose},[u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=x.exports.useRef({disabled:i,domRef:u});Lt(()=>{h.current.disabled=i},[h,i]),Lt(()=>{var _,I;h.current.textValue=(I=(_=u.current)==null?void 0:_.textContent)==null?void 0:I.toLowerCase()},[h,u]),Lt(()=>(a({type:5,id:r,dataRef:h}),()=>a({type:6,id:r})),[h,r]);let d=re(()=>{a({type:1})}),f=re(_=>{if(i)return _.preventDefault();a({type:1}),$T(o.buttonRef.current)}),v=re(()=>{if(i)return a({type:2,focus:En.Nothing});a({type:2,focus:En.Specific,id:r})}),w=gF(),E=re(_=>w.update(_)),m=re(_=>{!w.wasMoved(_)||i||l||a({type:2,focus:En.Specific,id:r,trigger:0})}),g=re(_=>{!w.wasMoved(_)||i||!l||a({type:2,focus:En.Nothing})}),y=x.exports.useMemo(()=>({active:l,disabled:i,close:d}),[l,i,d]);return Xe({ourProps:{id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:f,onFocus:v,onPointerEnter:E,onMouseEnter:E,onPointerMove:m,onMouseMove:m,onPointerLeave:g,onMouseLeave:g},theirProps:s,slot:y,defaultTag:u3,name:"Menu.Item"})}),Lr=Object.assign(r3,{Button:s3,Items:l3,Item:c3});var h3=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(h3||{}),d3=(t=>(t[t.TogglePopover=0]="TogglePopover",t[t.ClosePopover=1]="ClosePopover",t[t.SetButton=2]="SetButton",t[t.SetButtonId=3]="SetButtonId",t[t.SetPanel=4]="SetPanel",t[t.SetPanelId=5]="SetPanelId",t))(d3||{});let f3={[0]:t=>({...t,popoverState:St(t.popoverState,{[0]:1,[1]:0})}),[1](t){return t.popoverState===1?t:{...t,popoverState:1}},[2](t,e){return t.button===e.button?t:{...t,button:e.button}},[3](t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},[4](t,e){return t.panel===e.panel?t:{...t,panel:e.panel}},[5](t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}}},Dv=x.exports.createContext(null);Dv.displayName="PopoverContext";function cd(t){let e=x.exports.useContext(Dv);if(e===null){let n=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cd),n}return e}let Lv=x.exports.createContext(null);Lv.displayName="PopoverAPIContext";function Mv(t){let e=x.exports.useContext(Lv);if(e===null){let n=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mv),n}return e}let Fv=x.exports.createContext(null);Fv.displayName="PopoverGroupContext";function zT(){return x.exports.useContext(Fv)}let Uv=x.exports.createContext(null);Uv.displayName="PopoverPanelContext";function p3(){return x.exports.useContext(Uv)}function g3(t,e){return St(e.type,f3,t,e)}let m3="div",v3=Je(function(t,e){var n;let r=x.exports.useRef(null),i=Ye(e,PT(L=>{r.current=L})),s=x.exports.useReducer(g3,{popoverState:1,buttons:[],button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:x.exports.createRef(),afterPanelSentinel:x.exports.createRef()}),[{popoverState:o,button:a,buttonId:l,panel:u,panelId:c,beforePanelSentinel:h,afterPanelSentinel:d},f]=s,v=li((n=r.current)!=null?n:a),w=x.exports.useMemo(()=>{if(!a||!u)return!1;for(let me of document.querySelectorAll("body > *"))if(Number(me==null?void 0:me.contains(a))^Number(me==null?void 0:me.contains(u)))return!0;let L=rd(),te=L.indexOf(a),he=(te+L.length-1)%L.length,rt=(te+1)%L.length,ct=L[he],ht=L[rt];return!u.contains(ct)&&!u.contains(ht)},[a,u]),E=po(l),m=po(c),g=x.exports.useMemo(()=>({buttonId:E,panelId:m,close:()=>f({type:1})}),[E,m,f]),y=zT(),_=y==null?void 0:y.registerPopover,I=re(()=>{var L;return(L=y==null?void 0:y.isFocusWithinPopoverGroup())!=null?L:(v==null?void 0:v.activeElement)&&((a==null?void 0:a.contains(v.activeElement))||(u==null?void 0:u.contains(v.activeElement)))});x.exports.useEffect(()=>_==null?void 0:_(g),[_,g]),ld(v==null?void 0:v.defaultView,"focus",L=>{var te,he,rt,ct;o===0&&(I()||!a||!u||L.target!==window&&((he=(te=h.current)==null?void 0:te.contains)!=null&&he.call(te,L.target)||(ct=(rt=d.current)==null?void 0:rt.contains)!=null&&ct.call(rt,L.target)||f({type:1})))},!0),$v([a,u],(L,te)=>{f({type:1}),sd(te,id.Loose)||(L.preventDefault(),a==null||a.focus())},o===0);let T=re(L=>{f({type:1});let te=(()=>L?L instanceof HTMLElement?L:"current"in L&&L.current instanceof HTMLElement?L.current:a:a)();te==null||te.focus()}),k=x.exports.useMemo(()=>({close:T,isPortalled:w}),[T,w]),A=x.exports.useMemo(()=>({open:o===0,close:T}),[o,T]),H=t,z={ref:i};return le.createElement(Dv.Provider,{value:s},le.createElement(Lv.Provider,{value:k},p(LT,{value:St(o,{[0]:Vn.Open,[1]:Vn.Closed}),children:Xe({ourProps:z,theirProps:H,slot:A,defaultTag:m3,name:"Popover"})})))}),y3="button",w3=Je(function(t,e){let n=$t(),{id:r=`headlessui-popover-button-${n}`,...i}=t,[s,o]=cd("Popover.Button"),{isPortalled:a}=Mv("Popover.Button"),l=x.exports.useRef(null),u=`headlessui-focus-sentinel-${$t()}`,c=zT(),h=c==null?void 0:c.closeOthers,d=p3(),f=d===null?!1:d===s.panelId;x.exports.useEffect(()=>{if(!f)return o({type:3,buttonId:r}),()=>{o({type:3,buttonId:null})}},[r,o]);let v=Ye(l,e,f?null:L=>{if(L)s.buttons.push(r);else{let te=s.buttons.indexOf(r);te!==-1&&s.buttons.splice(te,1)}s.buttons.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),L&&o({type:2,button:L})}),w=Ye(l,e),E=li(l),m=re(L=>{var te,he,rt;if(f){if(s.popoverState===1)return;switch(L.key){case _e.Space:case _e.Enter:L.preventDefault(),(he=(te=L.target).click)==null||he.call(te),o({type:1}),(rt=s.button)==null||rt.focus();break}}else switch(L.key){case _e.Space:case _e.Enter:L.preventDefault(),L.stopPropagation(),s.popoverState===1&&(h==null||h(s.buttonId)),o({type:0});break;case _e.Escape:if(s.popoverState!==0)return h==null?void 0:h(s.buttonId);if(!l.current||(E==null?void 0:E.activeElement)&&!l.current.contains(E.activeElement))return;L.preventDefault(),L.stopPropagation(),o({type:1});break}}),g=re(L=>{f||L.key===_e.Space&&L.preventDefault()}),y=re(L=>{var te,he;od(L.currentTarget)||t.disabled||(f?(o({type:1}),(te=s.button)==null||te.focus()):(L.preventDefault(),L.stopPropagation(),s.popoverState===1&&(h==null||h(s.buttonId)),o({type:0}),(he=s.button)==null||he.focus()))}),_=re(L=>{L.preventDefault(),L.stopPropagation()}),I=s.popoverState===0,T=x.exports.useMemo(()=>({open:I}),[I]),k=OT(t,l),A=f?{ref:w,type:k,onKeyDown:m,onClick:y}:{ref:v,id:s.buttonId,type:k,"aria-expanded":t.disabled?void 0:s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,onKeyDown:m,onKeyUp:g,onClick:y,onMouseDown:_},H=Ov(),z=re(()=>{let L=s.panel;if(!L)return;function te(){St(H.current,{[tr.Forwards]:()=>Pn(L,un.First),[tr.Backwards]:()=>Pn(L,un.Last)})}te()});return le.createElement(le.Fragment,null,Xe({ourProps:A,theirProps:i,slot:T,defaultTag:y3,name:"Popover.Button"}),I&&!f&&a&&le.createElement(mo,{id:u,features:Ui.Focusable,as:"button",type:"button",onFocus:z}))}),b3="div",S3=pr.RenderStrategy|pr.Static,E3=Je(function(t,e){let n=$t(),{id:r=`headlessui-popover-overlay-${n}`,...i}=t,[{popoverState:s},o]=cd("Popover.Overlay"),a=Ye(e),l=ad(),u=(()=>l!==null?l===Vn.Open:s===0)(),c=re(d=>{if(od(d.currentTarget))return d.preventDefault();o({type:1})}),h=x.exports.useMemo(()=>({open:s===0}),[s]);return Xe({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:c},theirProps:i,slot:h,defaultTag:b3,features:S3,visible:u,name:"Popover.Overlay"})}),x3="div",_3=pr.RenderStrategy|pr.Static,C3=Je(function(t,e){let n=$t(),{id:r=`headlessui-popover-panel-${n}`,focus:i=!1,...s}=t,[o,a]=cd("Popover.Panel"),{close:l,isPortalled:u}=Mv("Popover.Panel"),c=`headlessui-focus-sentinel-before-${$t()}`,h=`headlessui-focus-sentinel-after-${$t()}`,d=x.exports.useRef(null),f=Ye(d,e,k=>{a({type:4,panel:k})}),v=li(d);x.exports.useEffect(()=>(a({type:5,panelId:r}),()=>{a({type:5,panelId:null})}),[r,a]);let w=ad(),E=(()=>w!==null?w===Vn.Open:o.popoverState===0)(),m=re(k=>{var A;switch(k.key){case _e.Escape:if(o.popoverState!==0||!d.current||(v==null?void 0:v.activeElement)&&!d.current.contains(v.activeElement))return;k.preventDefault(),k.stopPropagation(),a({type:1}),(A=o.button)==null||A.focus();break}});x.exports.useEffect(()=>{var k;t.static||o.popoverState===1&&((k=t.unmount)!=null?k:!0)&&a({type:4,panel:null})},[o.popoverState,t.unmount,t.static,a]),x.exports.useEffect(()=>{if(!i||o.popoverState!==0||!d.current)return;let k=v==null?void 0:v.activeElement;d.current.contains(k)||Pn(d.current,un.First)},[i,d,o.popoverState]);let g=x.exports.useMemo(()=>({open:o.popoverState===0,close:l}),[o,l]),y={ref:f,id:o.panelId,onKeyDown:m,onBlur:i&&o.popoverState===0?k=>{var A,H,z,L,te;let he=k.relatedTarget;!he||!d.current||(A=d.current)!=null&&A.contains(he)||(a({type:1}),(((z=(H=o.beforePanelSentinel.current)==null?void 0:H.contains)==null?void 0:z.call(H,he))||((te=(L=o.afterPanelSentinel.current)==null?void 0:L.contains)==null?void 0:te.call(L,he)))&&he.focus({preventScroll:!0}))}:void 0,tabIndex:-1},_=Ov(),I=re(()=>{let k=d.current;if(!k)return;function A(){St(_.current,{[tr.Forwards]:()=>{Pn(k,un.First)},[tr.Backwards]:()=>{var H;(H=o.button)==null||H.focus({preventScroll:!0})}})}A()}),T=re(()=>{let k=d.current;if(!k)return;function A(){St(_.current,{[tr.Forwards]:()=>{var H,z,L;if(!o.button)return;let te=rd(),he=te.indexOf(o.button),rt=te.slice(0,he+1),ct=[...te.slice(he+1),...rt];for(let ht of ct.slice())if(((z=(H=ht==null?void 0:ht.id)==null?void 0:H.startsWith)==null?void 0:z.call(H,"headlessui-focus-sentinel-"))||((L=o.panel)==null?void 0:L.contains(ht))){let me=ct.indexOf(ht);me!==-1&&ct.splice(me,1)}Pn(ct,un.First,!1)},[tr.Backwards]:()=>Pn(k,un.Last)})}A()});return le.createElement(Uv.Provider,{value:o.panelId},E&&u&&le.createElement(mo,{id:c,ref:o.beforePanelSentinel,features:Ui.Focusable,as:"button",type:"button",onFocus:I}),Xe({ourProps:y,theirProps:s,slot:g,defaultTag:x3,features:_3,visible:E,name:"Popover.Panel"}),E&&u&&le.createElement(mo,{id:h,ref:o.afterPanelSentinel,features:Ui.Focusable,as:"button",type:"button",onFocus:T}))}),T3="div",I3=Je(function(t,e){let n=x.exports.useRef(null),r=Ye(n,e),[i,s]=x.exports.useState([]),o=re(v=>{s(w=>{let E=w.indexOf(v);if(E!==-1){let m=w.slice();return m.splice(E,1),m}return w})}),a=re(v=>(s(w=>[...w,v]),()=>o(v))),l=re(()=>{var v;let w=ko(n);if(!w)return!1;let E=w.activeElement;return(v=n.current)!=null&&v.contains(E)?!0:i.some(m=>{var g,y;return((g=w.getElementById(m.buttonId.current))==null?void 0:g.contains(E))||((y=w.getElementById(m.panelId.current))==null?void 0:y.contains(E))})}),u=re(v=>{for(let w of i)w.buttonId.current!==v&&w.close()}),c=x.exports.useMemo(()=>({registerPopover:a,unregisterPopover:o,isFocusWithinPopoverGroup:l,closeOthers:u}),[a,o,l,u]),h=x.exports.useMemo(()=>({}),[]),d=t,f={ref:r};return le.createElement(Fv.Provider,{value:c},Xe({ourProps:f,theirProps:d,slot:h,defaultTag:T3,name:"Popover.Group"}))}),is=Object.assign(v3,{Button:w3,Overlay:E3,Panel:C3,Group:I3});function k3({title:t,titleId:e,...n},r){return $("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),children:[t?p("title",{id:e,children:t}):null,p("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})]})}const A3=x.exports.forwardRef(k3),$3=A3;function R3({title:t,titleId:e,...n},r){return $("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),children:[t?p("title",{id:e,children:t}):null,p("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"})]})}const O3=x.exports.forwardRef(R3),N3=O3;function P3({title:t,titleId:e,...n},r){return $("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),children:[t?p("title",{id:e,children:t}):null,p("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})]})}const D3=x.exports.forwardRef(P3),Bv=D3;function L3({title:t,titleId:e,...n},r){return $("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),children:[t?p("title",{id:e,children:t}):null,p("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}const M3=x.exports.forwardRef(L3),jv=M3;function F3({title:t,titleId:e,...n},r){return $("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),children:[t?p("title",{id:e,children:t}):null,p("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})]})}const U3=x.exports.forwardRef(F3),Hv=U3;async function B3(){const t=Dr(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES),e=await xT(t),n=new Map;return e.forEach(r=>{n.set(r.id,r.data())}),n}function j3(){return bh([...Ve.GET_ALL_SCHEMES],B3)}async function H3(){const t=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid),e=await qc(t);if(!e.exists())throw new Error("User is not found.");const n=e.data().currentSchemeId,r=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,n),i=await qc(r);if(!i.exists())throw new Error("Scheme is not found.");return i.data()}function GT(){return bh([...Ve.GET_CURRENT_SCHEME],H3,{staleTime:1/0})}const Wc=({isOpen:t,setIsOpen:e,dialogTitle:n,originalName:r,onConfirm:i})=>{const[s,o]=x.exports.useState(r);function a(){e(!1),i(s)}function l(){e(!1)}return $(yt,{open:t,onClose:()=>e(!1),className:"relative z-50",children:[p(yt.Backdrop,{className:"fixed inset-0 bg-gray-900/70","aria-hidden":"true"}),p("div",{className:"fixed inset-0 flex items-center justify-center",children:$(yt.Panel,{className:"rounded-md border bg-gray-100 p-5",children:[p(yt.Title,{className:" text-xl font-bold  text-gray-900 ",children:n}),p("input",{autoFocus:!0,type:"text",value:s,onChange:u=>o(u.target.value),maxLength:"25",className:"mt-4 p-2"}),$("div",{className:"mt-4 flex justify-evenly gap-2",children:[p("button",{onClick:a,className:"btn btn-create w-full p-[2px]",children:"Confirm"}),p("button",{onClick:l,className:"btn btn-neutral w-full p-[2px]",children:"Cancel"})]})]})})]})};async function V3(t){const e=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t.id);await _T(e)}function z3(){const t=Ht();return zn(V3,{onSuccess:()=>{t.invalidateQueries([...Ve.GET_ALL_SCHEMES])}})}async function G3(){const t=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid),e=await qc(t);if(!e.exists())throw new Error("User is not found");return e.data().currentSchemeId}function vr(){return bh([...Ve.GET_CURRENT_SCHEME_ID],G3)}async function q3(t){const e=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t.schemeId);await Ki(e,{name:t.newName})}function K3(){const t=Ht();return zn(q3,{onSuccess:()=>{t.invalidateQueries([...Ve.GET_ALL_SCHEMES])}})}const W3=({id:t,name:e,onRename:n,onDelete:r})=>{const i=vr(),s=TT(),o=K3(),a=z3();function l(){n({originalName:e,renameScheme:d=>{o.mutate({schemeId:t,newName:d})}})}function u(){const h={dialogTitle:`Delete "${e}"?`,deleteScheme:()=>{a.mutate({id:t})}};r(h)}function c(){s.mutate(t)}return i.isLoading||i.data!==t?$("div",{className:"flex gap-1 p-1",children:[p(Lr.Item,{as:"button",onClick:c,className:"h-full w-full transform rounded-sm border border-gray-50 p-1 text-gray-50 transition ui-active:-translate-y-0.5 ui-active:cursor-pointer ui-active:border-brand-300 ui-active:text-brand-300",children:e}),p(Lr.Item,{as:"button",onClick:l,className:"transform rounded-sm border border-gray-50 p-1 text-gray-50 transition ui-active:-translate-y-0.5 ui-active:border-blue-500 ui-active:bg-blue-500 ui-active:text-gray-100",children:p(Bv,{className:"h-4 w-4"})}),p(Lr.Item,{as:"button",onClick:u,className:"transform rounded-sm border border-gray-50 p-1 text-gray-50 transition ui-active:-translate-y-0.5 ui-active:border-red-500 ui-active:bg-red-500 ui-active:text-gray-100",children:p(Hv,{className:"h-4 w-4"})})]}):p(Lr.Item,{as:"button",className:"bg- flex w-full items-center gap-1 p-1",children:p("span",{className:"w-full transform rounded-sm border  border-brand-300 bg-brand-300 p-1 text-gray-50 transition ui-active:-translate-y-0.5 ui-active:cursor-pointer",onClick:c,children:e})})};async function Q3(t){const e=Dr(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES),n=await Fs(e,{name:t}),r=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid);await Ki(r,{currentSchemeId:n.id})}function Y3(){const t=Ht();return zn(Q3,{onSuccess:()=>{t.invalidateQueries([...Ve.GET_ALL_SCHEMES]),t.invalidateQueries([...Ve.GET_CURRENT_SCHEME_ID]),t.invalidateQueries([...Ve.GET_CURRENT_SCHEME])}})}const X3=({isOpen:t,setIsOpen:e,dialogTitle:n,onConfirm:r})=>{function i(){r(),e(!1)}function s(){e(!1)}return $(yt,{open:t,onClose:()=>e(!1),className:"relative z-50",children:[p(yt.Backdrop,{className:"fixed inset-0 bg-gray-900/70","aria-hidden":"true"}),p("div",{className:"fixed inset-0 flex items-center justify-center",children:$(yt.Panel,{className:"rounded-md border bg-gray-100 p-5",children:[p(yt.Title,{className:" text-xl font-bold  text-gray-900 ",children:n}),$("div",{className:"mt-4 flex justify-evenly gap-2",children:[p("button",{onClick:i,className:"btn btn-delete w-full p-[2px]",children:"Delete"}),p("button",{onClick:s,className:"btn btn-neutral w-full p-[2px]",children:"Cancel"})]})]})})]})},J3=()=>{const t=GT(),e=j3(),n=Y3(),[r,i]=x.exports.useState(!1),[s,o]=x.exports.useState({}),[a,l]=x.exports.useState(!1),[u,c]=x.exports.useState({}),[h,d]=x.exports.useState(!1);function f(m){n.mutate(m)}function v(m){c(m),l(!0)}function w(m){o(m),i(!0)}function E(){const m=[];for(const[g,y]of e.data)m.push(p(W3,{id:g,name:y.name,onRename:v,onDelete:w},g));return m}return $(Lr,{as:"div",className:"relative",children:[$("div",{className:"flex items-center",children:[p(Lr.Button,{className:"mx-1 rounded-sm border border-ui-700 bg-gray-50 p-1  text-ui-700 hover:border-ui-700 hover:bg-ui-700 hover:text-gray-50 ui-open:border-ui-700 ui-open:bg-ui-700 ui-open:text-gray-50",children:p($3,{className:"h-6"})}),t.isLoading||t.isStale||t.isError?null:p("div",{className:"mr-2 font-bold text-brand-300",children:t.data.name})]}),$(Lr.Items,{className:"absolute left-0 z-50 mt-1 h-screen w-screen gap-3 overflow-auto bg-ui-700 px-4 pt-4 pb-14  backdrop-blur-3xl sm:mt-2 sm:h-fit sm:w-fit sm:rounded-md sm:border sm:pb-4",children:[e.isLoading?p("span",{children:"loading..."}):E(),$(Lr.Item,{as:"button",onClick:()=>d(m=>!m),className:"mt-10 flex w-full transform items-center justify-center gap-2 border border-green-300 p-1  text-base font-semibold text-green-300 transition ui-active:-translate-y-0.5 ui-active:cursor-pointer ui-active:border-gray-100 ui-active:bg-green-500 ui-active:text-gray-100",children:[p(jv,{className:"h-5 w-5"}),p("span",{children:"New Scheme"})]})]}),r&&p(X3,{isOpen:r,setIsOpen:i,dialogTitle:s.dialogTitle,onConfirm:s.deleteScheme}),a&&p(Wc,{isOpen:a,setIsOpen:l,dialogTitle:"Rename Scheme",originalName:u.originalName,onConfirm:u.renameScheme}),h&&p(Wc,{isOpen:h,setIsOpen:d,dialogTitle:"New Scheme",originalName:"anon scheme",onConfirm:f})]})},Z3=({isOpen:t,setIsOpen:e})=>{const[n,r]=x.exports.useState("test@test.com"),[i,s]=x.exports.useState("test1234");function o(){e(!1),L2(Ne,n,i)}return $(yt,{open:t,onClose:()=>e(!1),className:"relative z-50",children:[p(yt.Backdrop,{className:"fixed inset-0 bg-gray-900/70","aria-hidden":"true"}),p("div",{className:"fixed inset-0 flex items-center justify-center",children:$(yt.Panel,{className:"rounded-md border bg-gray-100 p-5",children:[p(yt.Title,{className:" text-xl font-bold  text-gray-900 ",children:"Sign in to Scheme Bank"}),$("div",{children:[p("label",{htmlFor:"username",className:"mr-3",children:"Email"}),p("input",{autoFocus:!0,type:"text",id:"username",value:n,onChange:a=>r(a.target.value),maxLength:"25",className:"mt-4 p-2"})]}),$("div",{children:[p("label",{htmlFor:"password",className:"mr-3",children:"Password"}),p("input",{type:"text",id:"password",value:i,onChange:a=>s(a.target.value),maxLength:"25",className:"mt-4 p-2"})]}),$("div",{className:"mt-4 flex justify-evenly gap-2",children:[p("button",{onClick:o,className:"btn btn-create w-full p-[2px]",children:"Login"}),p("button",{onClick:()=>e(!1),className:"btn btn-neutral w-full p-[2px]",children:"Cancel"})]})]})})]})},e5=()=>{const[t,e]=x.exports.useState(!1);return $(vl,{children:[p("button",{onClick:()=>e(!0),className:"btn btn-neutral p-1",children:"Login"}),t&&p(Z3,{isOpen:t,setIsOpen:e})]})},t5=({isOpen:t,setIsOpen:e})=>{const n=IT(),[r,i]=x.exports.useState(""),[s,o]=x.exports.useState(""),[a,l]=x.exports.useState(null),[u,c]=x.exports.useState(null);x.exports.useEffect(()=>{l(null)},[r]),x.exports.useEffect(()=>{c(null)},[s]);function h(){D2(Ne,r,s).then(d=>{n.mutate({uid:d.user.uid}),e(!1),l(null),c(null)}).catch(d=>{switch(d.code){case sf.EMAIL_EXISTS:l("Email already used.");break;case sf.INVALID_EMAIL:l("Not a proper email address.");break;case sf.WEAK_PASSWORD:c("Password must have at least 6 characters.");break}})}return $(yt,{open:t,onClose:()=>e(!1),className:"relative z-50",children:[p(yt.Backdrop,{className:"fixed inset-0 bg-gray-900/70","aria-hidden":"true"}),p("div",{className:"fixed inset-0 flex items-center justify-center",children:$(yt.Panel,{className:"rounded-md border bg-gray-100 p-8",children:[$(yt.Title,{className:" text-center text-xl  font-bold text-gray-900",children:[p("div",{className:" text-sm font-light text-gray-900 ",children:"Join Scheme Bank"}),p("div",{children:"Create User Account"})]}),$("div",{className:"mt-8 mb-6",children:[$("div",{children:[$("label",{htmlFor:"username",className:"mr-3 cursor-pointer font-semibold",children:["Email ",p("span",{className:"text-red-500",children:"*"})]}),p("input",{autoFocus:!0,type:"email",id:"username",value:r,onChange:d=>i(d.target.value),maxLength:"50",className:"w-full rounded-md border border-gray-300 p-2 ",required:!0}),a&&p("div",{className:"mt-1 w-fit rounded-md border border-red-500 p-1 text-red-500",children:a})]}),$("div",{className:"mt-3",children:[$("label",{htmlFor:"password",className:"mr-3  cursor-pointer font-semibold",children:["Password ",p("span",{className:"text-red-500",children:"*"})]}),p("input",{type:"password",id:"password",value:s,onChange:d=>o(d.target.value),maxLength:"50",minLength:"6",className:"mt-1 w-full rounded-md border border-gray-300 p-2",required:!0}),p("div",{className:"text-sm font-light",children:"Minimum 6 characters."}),u&&p("div",{className:"mt-1 w-fit rounded-md border border-red-500 p-1 text-red-500",children:u})]})]}),$("div",{className:"flex justify-evenly gap-2",children:[p("button",{onClick:h,className:"btn btn-create w-full border-green-600 p-[2px] text-green-600",children:"Sign Up"}),p("button",{onClick:()=>e(!1),className:"btn btn-neutral w-full p-[2px]",children:"Cancel"})]})]})})]})},n5=()=>{const[t,e]=x.exports.useState(!1);return $(vl,{children:[p("button",{onClick:()=>e(!0),className:"btn btn-create p-1",children:"Sign Up"}),t&&p(t5,{isOpen:t,setIsOpen:e})]})},r5=()=>$("div",{className:" flex flex-wrap gap-1",children:[p("span",{className:"h-fit rounded-full border border-brand-500 bg-brand-500 p-1 text-gray-50",children:"Guest"}),p("span",{className:"ml-2",children:p(n5,{})}),p("span",{className:"ml-2",children:p(e5,{})})]}),i5=()=>{const t=Ht();function e(){Ne.signOut(),t.invalidateQueries([...Ve.GET_CURRENT_SCHEME_ID]),t.invalidateQueries([...Ve.GET_CURRENT_SCHEME]),t.invalidateQueries([...Ve.GET_ALL_SCHEMES])}return $("div",{className:" flex flex-wrap gap-1",children:[p("span",{className:"h-fit rounded-full border border-brand-300 bg-brand-300 p-1 text-gray-50",children:Ne.currentUser.email}),p("button",{onClick:e,className:"btn btn-delete mx-1 h-fit border-ui-900 bg-gray-50 p-1 text-ui-900",children:"Sign Out"})]})},s5=()=>{const[t,e]=x.exports.useState(Ne.currentUser);return Kx(Ne,n=>{n&&!n.isAnonymous?e(!0):e(!1)}),p(vl,{children:t?p(i5,{}):p(r5,{})})};function o5(){return $("nav",{className:"flex h-12 max-w-screen-2xl flex-wrap items-center justify-between gap-1 sm:mx-6 sm:px-0 lg:mx-9 2xl:mx-auto ",children:[p(J3,{}),p(s5,{})]})}async function a5(t){const e=Dr(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t.schemeId,t.paletteType);await Fs(e,{name:t.paletteName,colors:[],colorNames:[]})}function l5(t){const e=Ht(),{data:n}=vr();return zn(a5,{onSuccess:()=>{e.invalidateQueries([n,t])}})}async function u5(t,e){const n=Dr(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t,e),r=await xT(n),i=new Map;return r.forEach(s=>i.set(s.id,s.data())),i}function c5(t){const{data:e}=vr();return bh({queryKey:[e,t],queryFn:()=>u5(e,t),enabled:!!e})}async function h5(t){const e=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t.schemeId,t.paletteTypeId,t.paletteId);await _T(e)}function d5(t){const e=Ht(),{data:n}=vr();return zn(h5,{onSuccess:()=>{e.invalidateQueries([n,t])}})}async function f5(t){const e=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t.currentSchemeId,t.paletteGroup,t.paletteId);await Ki(e,{colors:t.updatedColors})}function p5(t){const e=Ht(),{data:n}=vr();return zn(f5,{onSuccess:()=>{e.invalidateQueries([n,t])}})}async function g5(t){const e=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t.schemeId,t.paletteType,t.paletteId);await Ki(e,{name:t.paletteName})}function m5(t){const e=Ht(),{data:n}=vr();return zn(g5,{onSuccess:()=>{e.invalidateQueries([n,t])}})}var an={},Vl={},v5=typeof Jl=="object"&&Jl&&Jl.Object===Object&&Jl,qT=v5,y5=qT,w5=typeof self=="object"&&self&&self.Object===Object&&self,b5=y5||w5||Function("return this")(),Gn=b5,S5=Gn,E5=S5.Symbol,zl=E5,yw=zl,KT=Object.prototype,x5=KT.hasOwnProperty,_5=KT.toString,Yo=yw?yw.toStringTag:void 0;function C5(t){var e=x5.call(t,Yo),n=t[Yo];try{t[Yo]=void 0;var r=!0}catch{}var i=_5.call(t);return r&&(e?t[Yo]=n:delete t[Yo]),i}var T5=C5,I5=Object.prototype,k5=I5.toString;function A5(t){return k5.call(t)}var $5=A5,ww=zl,R5=T5,O5=$5,N5="[object Null]",P5="[object Undefined]",bw=ww?ww.toStringTag:void 0;function D5(t){return t==null?t===void 0?P5:N5:bw&&bw in Object(t)?R5(t):O5(t)}var Wi=D5,L5=Array.isArray,kn=L5;function M5(t){return t!=null&&typeof t=="object"}var yr=M5,F5=Wi,U5=kn,B5=yr,j5="[object String]";function H5(t){return typeof t=="string"||!U5(t)&&B5(t)&&F5(t)==j5}var V5=H5;function z5(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var G5=z5,q5=G5,K5=q5(),W5=K5;function Q5(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Y5=Q5,X5=Wi,J5=yr,Z5="[object Arguments]";function eU(t){return J5(t)&&X5(t)==Z5}var tU=eU,Sw=tU,nU=yr,WT=Object.prototype,rU=WT.hasOwnProperty,iU=WT.propertyIsEnumerable,sU=Sw(function(){return arguments}())?Sw:function(t){return nU(t)&&rU.call(t,"callee")&&!iU.call(t,"callee")},QT=sU,al={exports:{}};function oU(){return!1}var aU=oU;(function(t,e){var n=Gn,r=aU,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(al,al.exports);var lU=9007199254740991,uU=/^(?:0|[1-9]\d*)$/;function cU(t,e){var n=typeof t;return e=e==null?lU:e,!!e&&(n=="number"||n!="symbol"&&uU.test(t))&&t>-1&&t%1==0&&t<e}var YT=cU,hU=9007199254740991;function dU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hU}var Vv=dU,fU=Wi,pU=Vv,gU=yr,mU="[object Arguments]",vU="[object Array]",yU="[object Boolean]",wU="[object Date]",bU="[object Error]",SU="[object Function]",EU="[object Map]",xU="[object Number]",_U="[object Object]",CU="[object RegExp]",TU="[object Set]",IU="[object String]",kU="[object WeakMap]",AU="[object ArrayBuffer]",$U="[object DataView]",RU="[object Float32Array]",OU="[object Float64Array]",NU="[object Int8Array]",PU="[object Int16Array]",DU="[object Int32Array]",LU="[object Uint8Array]",MU="[object Uint8ClampedArray]",FU="[object Uint16Array]",UU="[object Uint32Array]",Ee={};Ee[RU]=Ee[OU]=Ee[NU]=Ee[PU]=Ee[DU]=Ee[LU]=Ee[MU]=Ee[FU]=Ee[UU]=!0;Ee[mU]=Ee[vU]=Ee[AU]=Ee[yU]=Ee[$U]=Ee[wU]=Ee[bU]=Ee[SU]=Ee[EU]=Ee[xU]=Ee[_U]=Ee[CU]=Ee[TU]=Ee[IU]=Ee[kU]=!1;function BU(t){return gU(t)&&pU(t.length)&&!!Ee[fU(t)]}var jU=BU;function HU(t){return function(e){return t(e)}}var zv=HU,ll={exports:{}};(function(t,e){var n=qT,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(ll,ll.exports);var VU=jU,zU=zv,Ew=ll.exports,xw=Ew&&Ew.isTypedArray,GU=xw?zU(xw):VU,XT=GU,qU=Y5,KU=QT,WU=kn,QU=al.exports,YU=YT,XU=XT,JU=Object.prototype,ZU=JU.hasOwnProperty;function e4(t,e){var n=WU(t),r=!n&&KU(t),i=!n&&!r&&QU(t),s=!n&&!r&&!i&&XU(t),o=n||r||i||s,a=o?qU(t.length,String):[],l=a.length;for(var u in t)(e||ZU.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||YU(u,l)))&&a.push(u);return a}var JT=e4,t4=Object.prototype;function n4(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||t4;return t===n}var Gv=n4;function r4(t,e){return function(n){return t(e(n))}}var ZT=r4,i4=ZT,s4=i4(Object.keys,Object),o4=s4,a4=Gv,l4=o4,u4=Object.prototype,c4=u4.hasOwnProperty;function h4(t){if(!a4(t))return l4(t);var e=[];for(var n in Object(t))c4.call(t,n)&&n!="constructor"&&e.push(n);return e}var d4=h4;function f4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ao=f4,p4=Wi,g4=Ao,m4="[object AsyncFunction]",v4="[object Function]",y4="[object GeneratorFunction]",w4="[object Proxy]";function b4(t){if(!g4(t))return!1;var e=p4(t);return e==v4||e==y4||e==m4||e==w4}var eI=b4,S4=eI,E4=Vv;function x4(t){return t!=null&&E4(t.length)&&!S4(t)}var hd=x4,_4=JT,C4=d4,T4=hd;function I4(t){return T4(t)?_4(t):C4(t)}var Gl=I4,k4=W5,A4=Gl;function $4(t,e){return t&&k4(t,e,A4)}var tI=$4;function R4(t){return t}var nI=R4,O4=nI;function N4(t){return typeof t=="function"?t:O4}var P4=N4,D4=tI,L4=P4;function M4(t,e){return t&&D4(t,L4(e))}var qv=M4,F4=ZT,U4=F4(Object.getPrototypeOf,Object),Kv=U4,B4=Wi,j4=Kv,H4=yr,V4="[object Object]",z4=Function.prototype,G4=Object.prototype,rI=z4.toString,q4=G4.hasOwnProperty,K4=rI.call(Object);function W4(t){if(!H4(t)||B4(t)!=V4)return!1;var e=j4(t);if(e===null)return!0;var n=q4.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rI.call(n)==K4}var Q4=W4;function Y4(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var iI=Y4;function X4(){this.__data__=[],this.size=0}var J4=X4;function Z4(t,e){return t===e||t!==t&&e!==e}var Wv=Z4,eB=Wv;function tB(t,e){for(var n=t.length;n--;)if(eB(t[n][0],e))return n;return-1}var dd=tB,nB=dd,rB=Array.prototype,iB=rB.splice;function sB(t){var e=this.__data__,n=nB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():iB.call(e,n,1),--this.size,!0}var oB=sB,aB=dd;function lB(t){var e=this.__data__,n=aB(e,t);return n<0?void 0:e[n][1]}var uB=lB,cB=dd;function hB(t){return cB(this.__data__,t)>-1}var dB=hB,fB=dd;function pB(t,e){var n=this.__data__,r=fB(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var gB=pB,mB=J4,vB=oB,yB=uB,wB=dB,bB=gB;function $o(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$o.prototype.clear=mB;$o.prototype.delete=vB;$o.prototype.get=yB;$o.prototype.has=wB;$o.prototype.set=bB;var fd=$o,SB=fd;function EB(){this.__data__=new SB,this.size=0}var xB=EB;function _B(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var CB=_B;function TB(t){return this.__data__.get(t)}var IB=TB;function kB(t){return this.__data__.has(t)}var AB=kB,$B=Gn,RB=$B["__core-js_shared__"],OB=RB,Ef=OB,_w=function(){var t=/[^.]+$/.exec(Ef&&Ef.keys&&Ef.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function NB(t){return!!_w&&_w in t}var PB=NB,DB=Function.prototype,LB=DB.toString;function MB(t){if(t!=null){try{return LB.call(t)}catch{}try{return t+""}catch{}}return""}var sI=MB,FB=eI,UB=PB,BB=Ao,jB=sI,HB=/[\\^$.*+?()[\]{}|]/g,VB=/^\[object .+?Constructor\]$/,zB=Function.prototype,GB=Object.prototype,qB=zB.toString,KB=GB.hasOwnProperty,WB=RegExp("^"+qB.call(KB).replace(HB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QB(t){if(!BB(t)||UB(t))return!1;var e=FB(t)?WB:VB;return e.test(jB(t))}var YB=QB;function XB(t,e){return t==null?void 0:t[e]}var JB=XB,ZB=YB,ej=JB;function tj(t,e){var n=ej(t,e);return ZB(n)?n:void 0}var Qi=tj,nj=Qi,rj=Gn,ij=nj(rj,"Map"),Qv=ij,sj=Qi,oj=sj(Object,"create"),pd=oj,Cw=pd;function aj(){this.__data__=Cw?Cw(null):{},this.size=0}var lj=aj;function uj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cj=uj,hj=pd,dj="__lodash_hash_undefined__",fj=Object.prototype,pj=fj.hasOwnProperty;function gj(t){var e=this.__data__;if(hj){var n=e[t];return n===dj?void 0:n}return pj.call(e,t)?e[t]:void 0}var mj=gj,vj=pd,yj=Object.prototype,wj=yj.hasOwnProperty;function bj(t){var e=this.__data__;return vj?e[t]!==void 0:wj.call(e,t)}var Sj=bj,Ej=pd,xj="__lodash_hash_undefined__";function _j(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ej&&e===void 0?xj:e,this}var Cj=_j,Tj=lj,Ij=cj,kj=mj,Aj=Sj,$j=Cj;function Ro(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ro.prototype.clear=Tj;Ro.prototype.delete=Ij;Ro.prototype.get=kj;Ro.prototype.has=Aj;Ro.prototype.set=$j;var Rj=Ro,Tw=Rj,Oj=fd,Nj=Qv;function Pj(){this.size=0,this.__data__={hash:new Tw,map:new(Nj||Oj),string:new Tw}}var Dj=Pj;function Lj(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Mj=Lj,Fj=Mj;function Uj(t,e){var n=t.__data__;return Fj(e)?n[typeof e=="string"?"string":"hash"]:n.map}var gd=Uj,Bj=gd;function jj(t){var e=Bj(this,t).delete(t);return this.size-=e?1:0,e}var Hj=jj,Vj=gd;function zj(t){return Vj(this,t).get(t)}var Gj=zj,qj=gd;function Kj(t){return qj(this,t).has(t)}var Wj=Kj,Qj=gd;function Yj(t,e){var n=Qj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Xj=Yj,Jj=Dj,Zj=Hj,e6=Gj,t6=Wj,n6=Xj;function Oo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oo.prototype.clear=Jj;Oo.prototype.delete=Zj;Oo.prototype.get=e6;Oo.prototype.has=t6;Oo.prototype.set=n6;var Yv=Oo,r6=fd,i6=Qv,s6=Yv,o6=200;function a6(t,e){var n=this.__data__;if(n instanceof r6){var r=n.__data__;if(!i6||r.length<o6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new s6(r)}return n.set(t,e),this.size=n.size,this}var l6=a6,u6=fd,c6=xB,h6=CB,d6=IB,f6=AB,p6=l6;function No(t){var e=this.__data__=new u6(t);this.size=e.size}No.prototype.clear=c6;No.prototype.delete=h6;No.prototype.get=d6;No.prototype.has=f6;No.prototype.set=p6;var Xv=No,g6="__lodash_hash_undefined__";function m6(t){return this.__data__.set(t,g6),this}var v6=m6;function y6(t){return this.__data__.has(t)}var w6=y6,b6=Yv,S6=v6,E6=w6;function Qc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new b6;++e<n;)this.add(t[e])}Qc.prototype.add=Qc.prototype.push=S6;Qc.prototype.has=E6;var x6=Qc;function _6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var C6=_6;function T6(t,e){return t.has(e)}var I6=T6,k6=x6,A6=C6,$6=I6,R6=1,O6=2;function N6(t,e,n,r,i,s){var o=n&R6,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&O6?new k6:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var v=t[h],w=e[h];if(r)var E=o?r(w,v,h,e,t,s):r(v,w,h,t,e,s);if(E!==void 0){if(E)continue;d=!1;break}if(f){if(!A6(e,function(m,g){if(!$6(f,g)&&(v===m||i(v,m,n,r,s)))return f.push(g)})){d=!1;break}}else if(!(v===w||i(v,w,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var oI=N6,P6=Gn,D6=P6.Uint8Array,aI=D6;function L6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var M6=L6;function F6(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var U6=F6,Iw=zl,kw=aI,B6=Wv,j6=oI,H6=M6,V6=U6,z6=1,G6=2,q6="[object Boolean]",K6="[object Date]",W6="[object Error]",Q6="[object Map]",Y6="[object Number]",X6="[object RegExp]",J6="[object Set]",Z6="[object String]",e8="[object Symbol]",t8="[object ArrayBuffer]",n8="[object DataView]",Aw=Iw?Iw.prototype:void 0,xf=Aw?Aw.valueOf:void 0;function r8(t,e,n,r,i,s,o){switch(n){case n8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case t8:return!(t.byteLength!=e.byteLength||!s(new kw(t),new kw(e)));case q6:case K6:case Y6:return B6(+t,+e);case W6:return t.name==e.name&&t.message==e.message;case X6:case Z6:return t==e+"";case Q6:var a=H6;case J6:var l=r&z6;if(a||(a=V6),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=G6,o.set(t,e);var c=j6(a(t),a(e),r,i,s,o);return o.delete(t),c;case e8:if(xf)return xf.call(t)==xf.call(e)}return!1}var i8=r8;function s8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var lI=s8,o8=lI,a8=kn;function l8(t,e,n){var r=e(t);return a8(t)?r:o8(r,n(t))}var uI=l8;function u8(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var c8=u8;function h8(){return[]}var cI=h8,d8=c8,f8=cI,p8=Object.prototype,g8=p8.propertyIsEnumerable,$w=Object.getOwnPropertySymbols,m8=$w?function(t){return t==null?[]:(t=Object(t),d8($w(t),function(e){return g8.call(t,e)}))}:f8,Jv=m8,v8=uI,y8=Jv,w8=Gl;function b8(t){return v8(t,w8,y8)}var hI=b8,Rw=hI,S8=1,E8=Object.prototype,x8=E8.hasOwnProperty;function _8(t,e,n,r,i,s){var o=n&S8,a=Rw(t),l=a.length,u=Rw(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:x8.call(e,d)))return!1}var f=s.get(t),v=s.get(e);if(f&&v)return f==e&&v==t;var w=!0;s.set(t,e),s.set(e,t);for(var E=o;++h<l;){d=a[h];var m=t[d],g=e[d];if(r)var y=o?r(g,m,d,e,t,s):r(m,g,d,t,e,s);if(!(y===void 0?m===g||i(m,g,n,r,s):y)){w=!1;break}E||(E=d=="constructor")}if(w&&!E){var _=t.constructor,I=e.constructor;_!=I&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof I=="function"&&I instanceof I)&&(w=!1)}return s.delete(t),s.delete(e),w}var C8=_8,T8=Qi,I8=Gn,k8=T8(I8,"DataView"),A8=k8,$8=Qi,R8=Gn,O8=$8(R8,"Promise"),N8=O8,P8=Qi,D8=Gn,L8=P8(D8,"Set"),M8=L8,F8=Qi,U8=Gn,B8=F8(U8,"WeakMap"),j8=B8,dg=A8,fg=Qv,pg=N8,gg=M8,mg=j8,dI=Wi,Po=sI,Ow="[object Map]",H8="[object Object]",Nw="[object Promise]",Pw="[object Set]",Dw="[object WeakMap]",Lw="[object DataView]",V8=Po(dg),z8=Po(fg),G8=Po(pg),q8=Po(gg),K8=Po(mg),pi=dI;(dg&&pi(new dg(new ArrayBuffer(1)))!=Lw||fg&&pi(new fg)!=Ow||pg&&pi(pg.resolve())!=Nw||gg&&pi(new gg)!=Pw||mg&&pi(new mg)!=Dw)&&(pi=function(t){var e=dI(t),n=e==H8?t.constructor:void 0,r=n?Po(n):"";if(r)switch(r){case V8:return Lw;case z8:return Ow;case G8:return Nw;case q8:return Pw;case K8:return Dw}return e});var md=pi,_f=Xv,W8=oI,Q8=i8,Y8=C8,Mw=md,Fw=kn,Uw=al.exports,X8=XT,J8=1,Bw="[object Arguments]",jw="[object Array]",_u="[object Object]",Z8=Object.prototype,Hw=Z8.hasOwnProperty;function eH(t,e,n,r,i,s){var o=Fw(t),a=Fw(e),l=o?jw:Mw(t),u=a?jw:Mw(e);l=l==Bw?_u:l,u=u==Bw?_u:u;var c=l==_u,h=u==_u,d=l==u;if(d&&Uw(t)){if(!Uw(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new _f),o||X8(t)?W8(t,e,n,r,i,s):Q8(t,e,l,n,r,i,s);if(!(n&J8)){var f=c&&Hw.call(t,"__wrapped__"),v=h&&Hw.call(e,"__wrapped__");if(f||v){var w=f?t.value():t,E=v?e.value():e;return s||(s=new _f),i(w,E,n,r,s)}}return d?(s||(s=new _f),Y8(t,e,n,r,i,s)):!1}var tH=eH,nH=tH,Vw=yr;function fI(t,e,n,r,i){return t===e?!0:t==null||e==null||!Vw(t)&&!Vw(e)?t!==t&&e!==e:nH(t,e,n,r,fI,i)}var pI=fI,rH=Xv,iH=pI,sH=1,oH=2;function aH(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new rH;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?iH(c,u,sH|oH,r,h):d))return!1}}return!0}var lH=aH,uH=Ao;function cH(t){return t===t&&!uH(t)}var gI=cH,hH=gI,dH=Gl;function fH(t){for(var e=dH(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,hH(i)]}return e}var pH=fH;function gH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var mI=gH,mH=lH,vH=pH,yH=mI;function wH(t){var e=vH(t);return e.length==1&&e[0][2]?yH(e[0][0],e[0][1]):function(n){return n===t||mH(n,t,e)}}var bH=wH,SH=Wi,EH=yr,xH="[object Symbol]";function _H(t){return typeof t=="symbol"||EH(t)&&SH(t)==xH}var Zv=_H,CH=kn,TH=Zv,IH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kH=/^\w*$/;function AH(t,e){if(CH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||TH(t)?!0:kH.test(t)||!IH.test(t)||e!=null&&t in Object(e)}var e0=AH,vI=Yv,$H="Expected a function";function t0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($H);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(t0.Cache||vI),n}t0.Cache=vI;var RH=t0,OH=RH,NH=500;function PH(t){var e=OH(t,function(r){return n.size===NH&&n.clear(),r}),n=e.cache;return e}var DH=PH,LH=DH,MH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FH=/\\(\\)?/g,UH=LH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MH,function(n,r,i,s){e.push(i?s.replace(FH,"$1"):r||n)}),e}),BH=UH,zw=zl,jH=iI,HH=kn,VH=Zv,zH=1/0,Gw=zw?zw.prototype:void 0,qw=Gw?Gw.toString:void 0;function yI(t){if(typeof t=="string")return t;if(HH(t))return jH(t,yI)+"";if(VH(t))return qw?qw.call(t):"";var e=t+"";return e=="0"&&1/t==-zH?"-0":e}var GH=yI,qH=GH;function KH(t){return t==null?"":qH(t)}var WH=KH,QH=kn,YH=e0,XH=BH,JH=WH;function ZH(t,e){return QH(t)?t:YH(t,e)?[t]:XH(JH(t))}var wI=ZH,eV=Zv,tV=1/0;function nV(t){if(typeof t=="string"||eV(t))return t;var e=t+"";return e=="0"&&1/t==-tV?"-0":e}var vd=nV,rV=wI,iV=vd;function sV(t,e){e=rV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[iV(e[n++])];return n&&n==r?t:void 0}var bI=sV,oV=bI;function aV(t,e,n){var r=t==null?void 0:oV(t,e);return r===void 0?n:r}var lV=aV;function uV(t,e){return t!=null&&e in Object(t)}var cV=uV,hV=wI,dV=QT,fV=kn,pV=YT,gV=Vv,mV=vd;function vV(t,e,n){e=hV(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=mV(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&gV(i)&&pV(o,i)&&(fV(t)||dV(t)))}var yV=vV,wV=cV,bV=yV;function SV(t,e){return t!=null&&bV(t,e,wV)}var EV=SV,xV=pI,_V=lV,CV=EV,TV=e0,IV=gI,kV=mI,AV=vd,$V=1,RV=2;function OV(t,e){return TV(t)&&IV(e)?kV(AV(t),e):function(n){var r=_V(n,t);return r===void 0&&r===e?CV(n,t):xV(e,r,$V|RV)}}var NV=OV;function PV(t){return function(e){return e==null?void 0:e[t]}}var DV=PV,LV=bI;function MV(t){return function(e){return LV(e,t)}}var FV=MV,UV=DV,BV=FV,jV=e0,HV=vd;function VV(t){return jV(t)?UV(HV(t)):BV(t)}var zV=VV,GV=bH,qV=NV,KV=nI,WV=kn,QV=zV;function YV(t){return typeof t=="function"?t:t==null?KV:typeof t=="object"?WV(t)?qV(t[0],t[1]):GV(t):QV(t)}var XV=YV,JV=hd;function ZV(t,e){return function(n,r){if(n==null)return n;if(!JV(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var ez=ZV,tz=tI,nz=ez,rz=nz(tz),iz=rz,sz=iz,oz=hd;function az(t,e){var n=-1,r=oz(t)?Array(t.length):[];return sz(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var lz=az,uz=iI,cz=XV,hz=lz,dz=kn;function fz(t,e){var n=dz(t)?uz:hz;return n(t,cz(e))}var pz=fz;Object.defineProperty(Vl,"__esModule",{value:!0});Vl.flattenNames=void 0;var gz=V5,mz=yd(gz),vz=qv,yz=yd(vz),wz=Q4,bz=yd(wz),Sz=pz,Ez=yd(Sz);function yd(t){return t&&t.__esModule?t:{default:t}}var xz=Vl.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Ez.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,bz.default)(r)?(0,yz.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,mz.default)(r)&&n.push(r)}),n};Vl.default=xz;var ql={};function _z(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Cz=_z,Tz=Qi,Iz=function(){try{var t=Tz(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kz=Iz,Kw=kz;function Az(t,e,n){e=="__proto__"&&Kw?Kw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var SI=Az,$z=SI,Rz=Wv,Oz=Object.prototype,Nz=Oz.hasOwnProperty;function Pz(t,e,n){var r=t[e];(!(Nz.call(t,e)&&Rz(r,n))||n===void 0&&!(e in t))&&$z(t,e,n)}var EI=Pz,Dz=EI,Lz=SI;function Mz(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Lz(n,a,l):Dz(n,a,l)}return n}var wd=Mz,Fz=wd,Uz=Gl;function Bz(t,e){return t&&Fz(e,Uz(e),t)}var jz=Bz;function Hz(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Vz=Hz,zz=Ao,Gz=Gv,qz=Vz,Kz=Object.prototype,Wz=Kz.hasOwnProperty;function Qz(t){if(!zz(t))return qz(t);var e=Gz(t),n=[];for(var r in t)r=="constructor"&&(e||!Wz.call(t,r))||n.push(r);return n}var Yz=Qz,Xz=JT,Jz=Yz,Zz=hd;function e9(t){return Zz(t)?Xz(t,!0):Jz(t)}var n0=e9,t9=wd,n9=n0;function r9(t,e){return t&&t9(e,n9(e),t)}var i9=r9,vg={exports:{}};(function(t,e){var n=Gn,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=a?a(h):new u.constructor(h);return u.copy(d),d}t.exports=l})(vg,vg.exports);function s9(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var o9=s9,a9=wd,l9=Jv;function u9(t,e){return a9(t,l9(t),e)}var c9=u9,h9=lI,d9=Kv,f9=Jv,p9=cI,g9=Object.getOwnPropertySymbols,m9=g9?function(t){for(var e=[];t;)h9(e,f9(t)),t=d9(t);return e}:p9,xI=m9,v9=wd,y9=xI;function w9(t,e){return v9(t,y9(t),e)}var b9=w9,S9=uI,E9=xI,x9=n0;function _9(t){return S9(t,x9,E9)}var C9=_9,T9=Object.prototype,I9=T9.hasOwnProperty;function k9(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&I9.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var A9=k9,Ww=aI;function $9(t){var e=new t.constructor(t.byteLength);return new Ww(e).set(new Ww(t)),e}var r0=$9,R9=r0;function O9(t,e){var n=e?R9(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var N9=O9,P9=/\w*$/;function D9(t){var e=new t.constructor(t.source,P9.exec(t));return e.lastIndex=t.lastIndex,e}var L9=D9,Qw=zl,Yw=Qw?Qw.prototype:void 0,Xw=Yw?Yw.valueOf:void 0;function M9(t){return Xw?Object(Xw.call(t)):{}}var F9=M9,U9=r0;function B9(t,e){var n=e?U9(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var j9=B9,H9=r0,V9=N9,z9=L9,G9=F9,q9=j9,K9="[object Boolean]",W9="[object Date]",Q9="[object Map]",Y9="[object Number]",X9="[object RegExp]",J9="[object Set]",Z9="[object String]",e7="[object Symbol]",t7="[object ArrayBuffer]",n7="[object DataView]",r7="[object Float32Array]",i7="[object Float64Array]",s7="[object Int8Array]",o7="[object Int16Array]",a7="[object Int32Array]",l7="[object Uint8Array]",u7="[object Uint8ClampedArray]",c7="[object Uint16Array]",h7="[object Uint32Array]";function d7(t,e,n){var r=t.constructor;switch(e){case t7:return H9(t);case K9:case W9:return new r(+t);case n7:return V9(t,n);case r7:case i7:case s7:case o7:case a7:case l7:case u7:case c7:case h7:return q9(t,n);case Q9:return new r;case Y9:case Z9:return new r(t);case X9:return z9(t);case J9:return new r;case e7:return G9(t)}}var f7=d7,p7=Ao,Jw=Object.create,g7=function(){function t(){}return function(e){if(!p7(e))return{};if(Jw)return Jw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),m7=g7,v7=m7,y7=Kv,w7=Gv;function b7(t){return typeof t.constructor=="function"&&!w7(t)?v7(y7(t)):{}}var S7=b7,E7=md,x7=yr,_7="[object Map]";function C7(t){return x7(t)&&E7(t)==_7}var T7=C7,I7=T7,k7=zv,Zw=ll.exports,eb=Zw&&Zw.isMap,A7=eb?k7(eb):I7,$7=A7,R7=md,O7=yr,N7="[object Set]";function P7(t){return O7(t)&&R7(t)==N7}var D7=P7,L7=D7,M7=zv,tb=ll.exports,nb=tb&&tb.isSet,F7=nb?M7(nb):L7,U7=F7,B7=Xv,j7=Cz,H7=EI,V7=jz,z7=i9,G7=vg.exports,q7=o9,K7=c9,W7=b9,Q7=hI,Y7=C9,X7=md,J7=A9,Z7=f7,eG=S7,tG=kn,nG=al.exports,rG=$7,iG=Ao,sG=U7,oG=Gl,aG=n0,lG=1,uG=2,cG=4,_I="[object Arguments]",hG="[object Array]",dG="[object Boolean]",fG="[object Date]",pG="[object Error]",CI="[object Function]",gG="[object GeneratorFunction]",mG="[object Map]",vG="[object Number]",TI="[object Object]",yG="[object RegExp]",wG="[object Set]",bG="[object String]",SG="[object Symbol]",EG="[object WeakMap]",xG="[object ArrayBuffer]",_G="[object DataView]",CG="[object Float32Array]",TG="[object Float64Array]",IG="[object Int8Array]",kG="[object Int16Array]",AG="[object Int32Array]",$G="[object Uint8Array]",RG="[object Uint8ClampedArray]",OG="[object Uint16Array]",NG="[object Uint32Array]",ye={};ye[_I]=ye[hG]=ye[xG]=ye[_G]=ye[dG]=ye[fG]=ye[CG]=ye[TG]=ye[IG]=ye[kG]=ye[AG]=ye[mG]=ye[vG]=ye[TI]=ye[yG]=ye[wG]=ye[bG]=ye[SG]=ye[$G]=ye[RG]=ye[OG]=ye[NG]=!0;ye[pG]=ye[CI]=ye[EG]=!1;function Yu(t,e,n,r,i,s){var o,a=e&lG,l=e&uG,u=e&cG;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!iG(t))return t;var c=tG(t);if(c){if(o=J7(t),!a)return q7(t,o)}else{var h=X7(t),d=h==CI||h==gG;if(nG(t))return G7(t,a);if(h==TI||h==_I||d&&!i){if(o=l||d?{}:eG(t),!a)return l?W7(t,z7(o,t)):K7(t,V7(o,t))}else{if(!ye[h])return i?t:{};o=Z7(t,h,a)}}s||(s=new B7);var f=s.get(t);if(f)return f;s.set(t,o),sG(t)?t.forEach(function(E){o.add(Yu(E,e,n,E,t,s))}):rG(t)&&t.forEach(function(E,m){o.set(m,Yu(E,e,n,m,t,s))});var v=u?l?Y7:Q7:l?aG:oG,w=c?void 0:v(t);return j7(w||t,function(E,m){w&&(m=E,E=t[m]),H7(o,m,Yu(E,e,n,m,t,s))}),o}var PG=Yu,DG=PG,LG=1,MG=4;function FG(t){return DG(t,LG|MG)}var UG=FG;Object.defineProperty(ql,"__esModule",{value:!0});ql.mergeClasses=void 0;var BG=qv,jG=II(BG),HG=UG,VG=II(HG),zG=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function II(t){return t&&t.__esModule?t:{default:t}}var GG=ql.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,VG.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,jG.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=zG({},r[a],s[a])}),i}),r};ql.default=GG;var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.autoprefix=void 0;var qG=qv,rb=WG(qG),KG=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function WG(t){return t&&t.__esModule?t:{default:t}}var QG={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},YG=Kl.autoprefix=function(e){var n={};return(0,rb.default)(e,function(r,i){var s={};(0,rb.default)(r,function(o,a){var l=QG[a];l?s=KG({},s,l(o)):s[a]=o}),n[i]=s}),n};Kl.default=YG;var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.hover=void 0;var XG=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JG=x.exports,Cf=ZG(JG);function ZG(t){return t&&t.__esModule?t:{default:t}}function eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ib(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nq=Wl.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tq(i,r);function i(){var s,o,a,l;eq(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=ib(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Cf.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Cf.default.createElement(e,XG({},a.props,a.state)))},o),ib(a,l)}return i}(Cf.default.Component)};Wl.default=nq;var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.active=void 0;var rq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iq=x.exports,Tf=sq(iq);function sq(t){return t&&t.__esModule?t:{default:t}}function oq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lq=Ql.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){aq(i,r);function i(){var s,o,a,l;oq(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=sb(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Tf.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Tf.default.createElement(e,rq({},a.props,a.state)))},o),sb(a,l)}return i}(Tf.default.Component)};Ql.default=lq;var i0={};Object.defineProperty(i0,"__esModule",{value:!0});var uq=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};i0.default=uq;Object.defineProperty(an,"__esModule",{value:!0});an.ReactCSS=an.loop=an.handleActive=s0=an.handleHover=an.hover=void 0;var cq=Vl,hq=Do(cq),dq=ql,fq=Do(dq),pq=Kl,gq=Do(pq),mq=Wl,kI=Do(mq),vq=Ql,yq=Do(vq),wq=i0,bq=Do(wq);function Do(t){return t&&t.__esModule?t:{default:t}}an.hover=kI.default;var s0=an.handleHover=kI.default;an.handleActive=yq.default;an.loop=bq.default;var Sq=an.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,hq.default)(r),o=(0,fq.default)(e,s);return(0,gq.default)(o)},X=an.default=Sq,Eq=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),h=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(h<0?d=0:h>a?d=1:d=Math.round(h*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var f=void 0;if(c<0?f=0:c>o?f=1:f=Math.round(c*100/o)/100,i!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},If={},xq=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},_q=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(If[s])return If[s];var o=xq(e,n,r,i);return If[s]=o,o},ob=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=X({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+_q(n,r,i,s.canvas)+") center left"}}});return x.exports.isValidElement(l)?le.cloneElement(l,ob({},l.props,{style:ob({},l.props.style,u.grid)})):p("div",{style:u.grid})};Lo.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Cq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Iq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ab(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o0=function(t){kq(e,t);function e(){var n,r,i,s;Iq(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=ab(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Eq(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),ab(i,s)}return Tq(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=X({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Cq({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return $("div",{style:s.alpha,children:[p("div",{style:s.checkboard,children:p(Lo,{renderers:this.props.renderers})}),p("div",{style:s.gradient}),p("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange,children:p("div",{style:s.pointer,children:this.props.pointer?le.createElement(this.props.pointer,this.props):p("div",{style:s.slider})})})]})}}]),e}(x.exports.PureComponent||x.exports.Component),Aq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pq=1,AI=38,Dq=40,Lq=[AI,Dq],Mq=function(e){return Lq.indexOf(e)>-1},Fq=function(e){return Number(String(e).replace(/%/g,""))},Uq=1,oe=function(t){Nq(e,t);function e(n){Rq(this,e);var r=Oq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Fq(i.target.value);if(!isNaN(s)&&Mq(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===AI?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Uq++,r}return Aq(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return $q({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Pq}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=X({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return $("div",{style:i.wrap,children:[p("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?p("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown,children:this.props.label}):null]})}}]),e}(x.exports.PureComponent||x.exports.Component),Bq=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(c<0)h=359;else if(c>o)h=0;else{var d=-(c*100/o)+100;h=360*d/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>s)f=359;else{var v=u*100/s;f=360*v/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},jq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Hq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Mo=function(t){Vq(e,t);function e(){var n,r,i,s;Hq(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=lb(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Bq(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),lb(i,s)}return jq(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=X({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return p("div",{style:o.hue,children:$("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange,children:[p("style",{children:".hue-horizontal { background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); background: -webkit-linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); } .hue-vertical { background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); }"}),p("div",{style:o.pointer,children:this.props.pointer?le.createElement(this.props.pointer,this.props):p("div",{style:o.slider})})]})})}}]),e}(x.exports.PureComponent||x.exports.Component),D={exports:{}},zq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gq=zq,qq=Gq;function $I(){}function RI(){}RI.resetWarningCache=$I;var Kq=function(){function t(r,i,s,o,a,l){if(l!==qq){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RI,resetWarningCache:$I};return n.PropTypes=n,n};D.exports=Kq();function Wq(){this.__data__=[],this.size=0}function Yl(t,e){return t===e||t!==t&&e!==e}function bd(t,e){for(var n=t.length;n--;)if(Yl(t[n][0],e))return n;return-1}var Qq=Array.prototype,Yq=Qq.splice;function Xq(t){var e=this.__data__,n=bd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Yq.call(e,n,1),--this.size,!0}function Jq(t){var e=this.__data__,n=bd(e,t);return n<0?void 0:e[n][1]}function Zq(t){return bd(this.__data__,t)>-1}function eK(t,e){var n=this.__data__,r=bd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function wr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wr.prototype.clear=Wq;wr.prototype.delete=Xq;wr.prototype.get=Jq;wr.prototype.has=Zq;wr.prototype.set=eK;function tK(){this.__data__=new wr,this.size=0}function nK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function rK(t){return this.__data__.get(t)}function iK(t){return this.__data__.has(t)}var sK=typeof global=="object"&&global&&global.Object===Object&&global;const OI=sK;var oK=typeof self=="object"&&self&&self.Object===Object&&self,aK=OI||oK||Function("return this")();const An=aK;var lK=An.Symbol;const ei=lK;var NI=Object.prototype,uK=NI.hasOwnProperty,cK=NI.toString,Xo=ei?ei.toStringTag:void 0;function hK(t){var e=uK.call(t,Xo),n=t[Xo];try{t[Xo]=void 0;var r=!0}catch{}var i=cK.call(t);return r&&(e?t[Xo]=n:delete t[Xo]),i}var dK=Object.prototype,fK=dK.toString;function pK(t){return fK.call(t)}var gK="[object Null]",mK="[object Undefined]",ub=ei?ei.toStringTag:void 0;function Yi(t){return t==null?t===void 0?mK:gK:ub&&ub in Object(t)?hK(t):pK(t)}function gn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vK="[object AsyncFunction]",yK="[object Function]",wK="[object GeneratorFunction]",bK="[object Proxy]";function a0(t){if(!gn(t))return!1;var e=Yi(t);return e==yK||e==wK||e==vK||e==bK}var SK=An["__core-js_shared__"];const kf=SK;var cb=function(){var t=/[^.]+$/.exec(kf&&kf.keys&&kf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function EK(t){return!!cb&&cb in t}var xK=Function.prototype,_K=xK.toString;function Xi(t){if(t!=null){try{return _K.call(t)}catch{}try{return t+""}catch{}}return""}var CK=/[\\^$.*+?()[\]{}|]/g,TK=/^\[object .+?Constructor\]$/,IK=Function.prototype,kK=Object.prototype,AK=IK.toString,$K=kK.hasOwnProperty,RK=RegExp("^"+AK.call($K).replace(CK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OK(t){if(!gn(t)||EK(t))return!1;var e=a0(t)?RK:TK;return e.test(Xi(t))}function NK(t,e){return t==null?void 0:t[e]}function Ji(t,e){var n=NK(t,e);return OK(n)?n:void 0}var PK=Ji(An,"Map");const ul=PK;var DK=Ji(Object,"create");const cl=DK;function LK(){this.__data__=cl?cl(null):{},this.size=0}function MK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var FK="__lodash_hash_undefined__",UK=Object.prototype,BK=UK.hasOwnProperty;function jK(t){var e=this.__data__;if(cl){var n=e[t];return n===FK?void 0:n}return BK.call(e,t)?e[t]:void 0}var HK=Object.prototype,VK=HK.hasOwnProperty;function zK(t){var e=this.__data__;return cl?e[t]!==void 0:VK.call(e,t)}var GK="__lodash_hash_undefined__";function qK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cl&&e===void 0?GK:e,this}function Bi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bi.prototype.clear=LK;Bi.prototype.delete=MK;Bi.prototype.get=jK;Bi.prototype.has=zK;Bi.prototype.set=qK;function KK(){this.size=0,this.__data__={hash:new Bi,map:new(ul||wr),string:new Bi}}function WK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sd(t,e){var n=t.__data__;return WK(e)?n[typeof e=="string"?"string":"hash"]:n.map}function QK(t){var e=Sd(this,t).delete(t);return this.size-=e?1:0,e}function YK(t){return Sd(this,t).get(t)}function XK(t){return Sd(this,t).has(t)}function JK(t,e){var n=Sd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function br(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}br.prototype.clear=KK;br.prototype.delete=QK;br.prototype.get=YK;br.prototype.has=XK;br.prototype.set=JK;var ZK=200;function eW(t,e){var n=this.__data__;if(n instanceof wr){var r=n.__data__;if(!ul||r.length<ZK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(t,e),this.size=n.size,this}function Bn(t){var e=this.__data__=new wr(t);this.size=e.size}Bn.prototype.clear=tK;Bn.prototype.delete=nK;Bn.prototype.get=rK;Bn.prototype.has=iK;Bn.prototype.set=eW;var tW=function(){try{var t=Ji(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Yc=tW;function l0(t,e,n){e=="__proto__"&&Yc?Yc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function yg(t,e,n){(n!==void 0&&!Yl(t[e],n)||n===void 0&&!(e in t))&&l0(t,e,n)}function nW(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var rW=nW();const PI=rW;var DI=typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt,hb=DI&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,iW=hb&&hb.exports===DI,db=iW?An.Buffer:void 0,fb=db?db.allocUnsafe:void 0;function sW(t,e){if(e)return t.slice();var n=t.length,r=fb?fb(n):new t.constructor(n);return t.copy(r),r}var oW=An.Uint8Array;const Xc=oW;function aW(t){var e=new t.constructor(t.byteLength);return new Xc(e).set(new Xc(t)),e}function lW(t,e){var n=e?aW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function uW(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var pb=Object.create,cW=function(){function t(){}return function(e){if(!gn(e))return{};if(pb)return pb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const hW=cW;function LI(t,e){return function(n){return t(e(n))}}var dW=LI(Object.getPrototypeOf,Object);const MI=dW;var fW=Object.prototype;function u0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fW;return t===n}function pW(t){return typeof t.constructor=="function"&&!u0(t)?hW(MI(t)):{}}function ti(t){return t!=null&&typeof t=="object"}var gW="[object Arguments]";function gb(t){return ti(t)&&Yi(t)==gW}var FI=Object.prototype,mW=FI.hasOwnProperty,vW=FI.propertyIsEnumerable,yW=gb(function(){return arguments}())?gb:function(t){return ti(t)&&mW.call(t,"callee")&&!vW.call(t,"callee")};const Jc=yW;var wW=Array.isArray;const Zt=wW;var bW=9007199254740991;function c0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bW}function Fo(t){return t!=null&&c0(t.length)&&!a0(t)}function SW(t){return ti(t)&&Fo(t)}function EW(){return!1}var UI=typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt,mb=UI&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,xW=mb&&mb.exports===UI,vb=xW?An.Buffer:void 0,_W=vb?vb.isBuffer:void 0,CW=_W||EW;const Zc=CW;var TW="[object Object]",IW=Function.prototype,kW=Object.prototype,BI=IW.toString,AW=kW.hasOwnProperty,$W=BI.call(Object);function RW(t){if(!ti(t)||Yi(t)!=TW)return!1;var e=MI(t);if(e===null)return!0;var n=AW.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&BI.call(n)==$W}var OW="[object Arguments]",NW="[object Array]",PW="[object Boolean]",DW="[object Date]",LW="[object Error]",MW="[object Function]",FW="[object Map]",UW="[object Number]",BW="[object Object]",jW="[object RegExp]",HW="[object Set]",VW="[object String]",zW="[object WeakMap]",GW="[object ArrayBuffer]",qW="[object DataView]",KW="[object Float32Array]",WW="[object Float64Array]",QW="[object Int8Array]",YW="[object Int16Array]",XW="[object Int32Array]",JW="[object Uint8Array]",ZW="[object Uint8ClampedArray]",eQ="[object Uint16Array]",tQ="[object Uint32Array]",xe={};xe[KW]=xe[WW]=xe[QW]=xe[YW]=xe[XW]=xe[JW]=xe[ZW]=xe[eQ]=xe[tQ]=!0;xe[OW]=xe[NW]=xe[GW]=xe[PW]=xe[qW]=xe[DW]=xe[LW]=xe[MW]=xe[FW]=xe[UW]=xe[BW]=xe[jW]=xe[HW]=xe[VW]=xe[zW]=!1;function nQ(t){return ti(t)&&c0(t.length)&&!!xe[Yi(t)]}function rQ(t){return function(e){return t(e)}}var jI=typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt,Ia=jI&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,iQ=Ia&&Ia.exports===jI,Af=iQ&&OI.process,sQ=function(){try{var t=Ia&&Ia.require&&Ia.require("util").types;return t||Af&&Af.binding&&Af.binding("util")}catch{}}();const yb=sQ;var wb=yb&&yb.isTypedArray,oQ=wb?rQ(wb):nQ;const h0=oQ;function wg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var aQ=Object.prototype,lQ=aQ.hasOwnProperty;function uQ(t,e,n){var r=t[e];(!(lQ.call(t,e)&&Yl(r,n))||n===void 0&&!(e in t))&&l0(t,e,n)}function cQ(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?l0(n,a,l):uQ(n,a,l)}return n}function hQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dQ=9007199254740991,fQ=/^(?:0|[1-9]\d*)$/;function d0(t,e){var n=typeof t;return e=e==null?dQ:e,!!e&&(n=="number"||n!="symbol"&&fQ.test(t))&&t>-1&&t%1==0&&t<e}var pQ=Object.prototype,gQ=pQ.hasOwnProperty;function HI(t,e){var n=Zt(t),r=!n&&Jc(t),i=!n&&!r&&Zc(t),s=!n&&!r&&!i&&h0(t),o=n||r||i||s,a=o?hQ(t.length,String):[],l=a.length;for(var u in t)(e||gQ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||d0(u,l)))&&a.push(u);return a}function mQ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var vQ=Object.prototype,yQ=vQ.hasOwnProperty;function wQ(t){if(!gn(t))return mQ(t);var e=u0(t),n=[];for(var r in t)r=="constructor"&&(e||!yQ.call(t,r))||n.push(r);return n}function VI(t){return Fo(t)?HI(t,!0):wQ(t)}function bQ(t){return cQ(t,VI(t))}function SQ(t,e,n,r,i,s,o){var a=wg(t,n),l=wg(e,n),u=o.get(l);if(u){yg(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var d=Zt(l),f=!d&&Zc(l),v=!d&&!f&&h0(l);c=l,d||f||v?Zt(a)?c=a:SW(a)?c=uW(a):f?(h=!1,c=sW(l,!0)):v?(h=!1,c=lW(l,!0)):c=[]:RW(l)||Jc(l)?(c=a,Jc(a)?c=bQ(a):(!gn(a)||a0(a))&&(c=pW(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),yg(t,n,c)}function zI(t,e,n,r,i){t!==e&&PI(e,function(s,o){if(i||(i=new Bn),gn(s))SQ(t,e,o,n,zI,r,i);else{var a=r?r(wg(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),yg(t,o,a)}},VI)}function Ed(t){return t}function EQ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var bb=Math.max;function xQ(t,e,n){return e=bb(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=bb(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),EQ(t,this,a)}}function _Q(t){return function(){return t}}var CQ=Yc?function(t,e){return Yc(t,"toString",{configurable:!0,enumerable:!1,value:_Q(e),writable:!0})}:Ed;const TQ=CQ;var IQ=800,kQ=16,AQ=Date.now;function $Q(t){var e=0,n=0;return function(){var r=AQ(),i=kQ-(r-n);if(n=r,i>0){if(++e>=IQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var RQ=$Q(TQ);const OQ=RQ;function NQ(t,e){return OQ(xQ(t,e,Ed),t+"")}function PQ(t,e,n){if(!gn(n))return!1;var r=typeof e;return(r=="number"?Fo(n)&&d0(e,n.length):r=="string"&&e in n)?Yl(n[e],t):!1}function DQ(t){return NQ(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&PQ(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var LQ=DQ(function(t,e,n){zI(t,e,n)});const Vt=LQ;var Xl=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=X(Vt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return $("div",{style:l.wrap,children:[p("div",{style:l.bg}),p("div",{style:l.content,children:s})]})};Xl.propTypes={background:D.exports.string,zDepth:D.exports.oneOf([0,1,2,3,4,5]),radius:D.exports.number,styles:D.exports.object};Xl.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var MQ=function(){return An.Date.now()};const $f=MQ;var FQ=/\s/;function UQ(t){for(var e=t.length;e--&&FQ.test(t.charAt(e)););return e}var BQ=/^\s+/;function jQ(t){return t&&t.slice(0,UQ(t)+1).replace(BQ,"")}var HQ="[object Symbol]";function xd(t){return typeof t=="symbol"||ti(t)&&Yi(t)==HQ}var Sb=0/0,VQ=/^[-+]0x[0-9a-f]+$/i,zQ=/^0b[01]+$/i,GQ=/^0o[0-7]+$/i,qQ=parseInt;function Eb(t){if(typeof t=="number")return t;if(xd(t))return Sb;if(gn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jQ(t);var n=zQ.test(t);return n||GQ.test(t)?qQ(t.slice(2),n?2:8):VQ.test(t)?Sb:+t}var KQ="Expected a function",WQ=Math.max,QQ=Math.min;function GI(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(KQ);e=Eb(e)||0,gn(n)&&(c=!!n.leading,h="maxWait"in n,s=h?WQ(Eb(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function f(T){var k=r,A=i;return r=i=void 0,u=T,o=t.apply(A,k),o}function v(T){return u=T,a=setTimeout(m,e),c?f(T):o}function w(T){var k=T-l,A=T-u,H=e-k;return h?QQ(H,s-A):H}function E(T){var k=T-l,A=T-u;return l===void 0||k>=e||k<0||h&&A>=s}function m(){var T=$f();if(E(T))return g(T);a=setTimeout(m,w(T))}function g(T){return a=void 0,d&&r?f(T):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?o:g($f())}function I(){var T=$f(),k=E(T);if(r=arguments,i=this,l=T,k){if(a===void 0)return v(l);if(h)return clearTimeout(a),a=setTimeout(m,e),f(l)}return a===void 0&&(a=setTimeout(m,e)),o}return I.cancel=y,I.flush=_,I}var YQ="Expected a function";function XQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(YQ);return gn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),GI(t,e,{leading:r,maxWait:e,trailing:i})}var JQ=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var h=u/s,d=1-c/o;return{h:n.h,s:h,v:d,a:n.a,source:"hsv"}},ZQ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function eY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _d=function(t){nY(e,t);function e(n){eY(this,e);var r=tY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,JQ(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=XQ(function(i,s,o){i(s,o)},50),r}return ZQ(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=X({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return $("div",{style:c.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange,children:[p("style",{children:".saturation-white { background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0)); background: linear-gradient(to right, #fff, rgba(255,255,255,0)); } .saturation-black { background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0)); background: linear-gradient(to top, #000, rgba(0,0,0,0)); }"}),$("div",{style:c.white,className:"saturation-white",children:[p("div",{style:c.black,className:"saturation-black"}),p("div",{style:c.pointer,children:this.props.pointer?le.createElement(this.props.pointer,this.props):p("div",{style:c.circle})})]})]})}}]),e}(x.exports.PureComponent||x.exports.Component);function rY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var iY=LI(Object.keys,Object);const sY=iY;var oY=Object.prototype,aY=oY.hasOwnProperty;function lY(t){if(!u0(t))return sY(t);var e=[];for(var n in Object(t))aY.call(t,n)&&n!="constructor"&&e.push(n);return e}function f0(t){return Fo(t)?HI(t):lY(t)}function uY(t,e){return t&&PI(t,e,f0)}function cY(t,e){return function(n,r){if(n==null)return n;if(!Fo(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var hY=cY(uY);const qI=hY;function dY(t){return typeof t=="function"?t:Ed}function fY(t,e){var n=Zt(t)?rY:qI;return n(t,dY(e))}var KI={exports:{}};(function(t){(function(e){var n=/^\s+/,r=/\s+$/,i=0,s=e.round,o=e.min,a=e.max,l=e.random;function u(b,C){if(b=b||"",C=C||{},b instanceof u)return b;if(!(this instanceof u))return new u(b,C);var S=c(b);this._originalInput=b,this._r=S.r,this._g=S.g,this._b=S.b,this._a=S.a,this._roundA=s(100*this._a)/100,this._format=C.format||S.format,this._gradientType=C.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=S.ok,this._tc_id=i++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var b=this.toRgb();return(b.r*299+b.g*587+b.b*114)/1e3},getLuminance:function(){var b=this.toRgb(),C,S,P,j,U,de;return C=b.r/255,S=b.g/255,P=b.b/255,C<=.03928?j=C/12.92:j=e.pow((C+.055)/1.055,2.4),S<=.03928?U=S/12.92:U=e.pow((S+.055)/1.055,2.4),P<=.03928?de=P/12.92:de=e.pow((P+.055)/1.055,2.4),.2126*j+.7152*U+.0722*de},setAlpha:function(b){return this._a=G(b),this._roundA=s(100*this._a)/100,this},toHsv:function(){var b=v(this._r,this._g,this._b);return{h:b.h*360,s:b.s,v:b.v,a:this._a}},toHsvString:function(){var b=v(this._r,this._g,this._b),C=s(b.h*360),S=s(b.s*100),P=s(b.v*100);return this._a==1?"hsv("+C+", "+S+"%, "+P+"%)":"hsva("+C+", "+S+"%, "+P+"%, "+this._roundA+")"},toHsl:function(){var b=d(this._r,this._g,this._b);return{h:b.h*360,s:b.s,l:b.l,a:this._a}},toHslString:function(){var b=d(this._r,this._g,this._b),C=s(b.h*360),S=s(b.s*100),P=s(b.l*100);return this._a==1?"hsl("+C+", "+S+"%, "+P+"%)":"hsla("+C+", "+S+"%, "+P+"%, "+this._roundA+")"},toHex:function(b){return E(this._r,this._g,this._b,b)},toHexString:function(b){return"#"+this.toHex(b)},toHex8:function(b){return m(this._r,this._g,this._b,this._a,b)},toHex8String:function(b){return"#"+this.toHex8(b)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(F(this._r,255)*100)+"%",g:s(F(this._g,255)*100)+"%",b:s(F(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(F(this._r,255)*100)+"%, "+s(F(this._g,255)*100)+"%, "+s(F(this._b,255)*100)+"%)":"rgba("+s(F(this._r,255)*100)+"%, "+s(F(this._g,255)*100)+"%, "+s(F(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:me[E(this._r,this._g,this._b,!0)]||!1},toFilter:function(b){var C="#"+g(this._r,this._g,this._b,this._a),S=C,P=this._gradientType?"GradientType = 1, ":"";if(b){var j=u(b);S="#"+g(j._r,j._g,j._b,j._a)}return"progid:DXImageTransform.Microsoft.gradient("+P+"startColorstr="+C+",endColorstr="+S+")"},toString:function(b){var C=!!b;b=b||this._format;var S=!1,P=this._a<1&&this._a>=0,j=!C&&P&&(b==="hex"||b==="hex6"||b==="hex3"||b==="hex4"||b==="hex8"||b==="name");return j?b==="name"&&this._a===0?this.toName():this.toRgbString():(b==="rgb"&&(S=this.toRgbString()),b==="prgb"&&(S=this.toPercentageRgbString()),(b==="hex"||b==="hex6")&&(S=this.toHexString()),b==="hex3"&&(S=this.toHexString(!0)),b==="hex4"&&(S=this.toHex8String(!0)),b==="hex8"&&(S=this.toHex8String()),b==="name"&&(S=this.toName()),b==="hsl"&&(S=this.toHslString()),b==="hsv"&&(S=this.toHsvString()),S||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(b,C){var S=b.apply(null,[this].concat([].slice.call(C)));return this._r=S._r,this._g=S._g,this._b=S._b,this.setAlpha(S._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(I,arguments)},spin:function(){return this._applyModification(H,arguments)},_applyCombination:function(b,C){return b.apply(null,[this].concat([].slice.call(C)))},analogous:function(){return this._applyCombination(rt,arguments)},complement:function(){return this._applyCombination(z,arguments)},monochromatic:function(){return this._applyCombination(ct,arguments)},splitcomplement:function(){return this._applyCombination(he,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(te,arguments)}},u.fromRatio=function(b,C){if(typeof b=="object"){var S={};for(var P in b)b.hasOwnProperty(P)&&(P==="a"?S[P]=b[P]:S[P]=Gt(b[P]));b=S}return u(b,C)};function c(b){var C={r:0,g:0,b:0},S=1,P=null,j=null,U=null,de=!1,Ae=!1;return typeof b=="string"&&(b=ak(b)),typeof b=="object"&&(Kn(b.r)&&Kn(b.g)&&Kn(b.b)?(C=h(b.r,b.g,b.b),de=!0,Ae=String(b.r).substr(-1)==="%"?"prgb":"rgb"):Kn(b.h)&&Kn(b.s)&&Kn(b.v)?(P=Gt(b.s),j=Gt(b.v),C=w(b.h,P,j),de=!0,Ae="hsv"):Kn(b.h)&&Kn(b.s)&&Kn(b.l)&&(P=Gt(b.s),U=Gt(b.l),C=f(b.h,P,U),de=!0,Ae="hsl"),b.hasOwnProperty("a")&&(S=b.a)),S=G(S),{ok:de,format:b.format||Ae,r:o(255,a(C.r,0)),g:o(255,a(C.g,0)),b:o(255,a(C.b,0)),a:S}}function h(b,C,S){return{r:F(b,255)*255,g:F(C,255)*255,b:F(S,255)*255}}function d(b,C,S){b=F(b,255),C=F(C,255),S=F(S,255);var P=a(b,C,S),j=o(b,C,S),U,de,Ae=(P+j)/2;if(P==j)U=de=0;else{var Me=P-j;switch(de=Ae>.5?Me/(2-P-j):Me/(P+j),P){case b:U=(C-S)/Me+(C<S?6:0);break;case C:U=(S-b)/Me+2;break;case S:U=(b-C)/Me+4;break}U/=6}return{h:U,s:de,l:Ae}}function f(b,C,S){var P,j,U;b=F(b,360),C=F(C,100),S=F(S,100);function de(nn,Uo,vn){return vn<0&&(vn+=1),vn>1&&(vn-=1),vn<1/6?nn+(Uo-nn)*6*vn:vn<1/2?Uo:vn<2/3?nn+(Uo-nn)*(2/3-vn)*6:nn}if(C===0)P=j=U=S;else{var Ae=S<.5?S*(1+C):S+C-S*C,Me=2*S-Ae;P=de(Me,Ae,b+1/3),j=de(Me,Ae,b),U=de(Me,Ae,b-1/3)}return{r:P*255,g:j*255,b:U*255}}function v(b,C,S){b=F(b,255),C=F(C,255),S=F(S,255);var P=a(b,C,S),j=o(b,C,S),U,de,Ae=P,Me=P-j;if(de=P===0?0:Me/P,P==j)U=0;else{switch(P){case b:U=(C-S)/Me+(C<S?6:0);break;case C:U=(S-b)/Me+2;break;case S:U=(b-C)/Me+4;break}U/=6}return{h:U,s:de,v:Ae}}function w(b,C,S){b=F(b,360)*6,C=F(C,100),S=F(S,100);var P=e.floor(b),j=b-P,U=S*(1-C),de=S*(1-j*C),Ae=S*(1-(1-j)*C),Me=P%6,nn=[S,de,U,U,Ae,S][Me],Uo=[Ae,S,S,de,U,U][Me],vn=[U,U,Ae,S,S,de][Me];return{r:nn*255,g:Uo*255,b:vn*255}}function E(b,C,S,P){var j=[Tt(s(b).toString(16)),Tt(s(C).toString(16)),Tt(s(S).toString(16))];return P&&j[0].charAt(0)==j[0].charAt(1)&&j[1].charAt(0)==j[1].charAt(1)&&j[2].charAt(0)==j[2].charAt(1)?j[0].charAt(0)+j[1].charAt(0)+j[2].charAt(0):j.join("")}function m(b,C,S,P,j){var U=[Tt(s(b).toString(16)),Tt(s(C).toString(16)),Tt(s(S).toString(16)),Tt(ci(P))];return j&&U[0].charAt(0)==U[0].charAt(1)&&U[1].charAt(0)==U[1].charAt(1)&&U[2].charAt(0)==U[2].charAt(1)&&U[3].charAt(0)==U[3].charAt(1)?U[0].charAt(0)+U[1].charAt(0)+U[2].charAt(0)+U[3].charAt(0):U.join("")}function g(b,C,S,P){var j=[Tt(ci(P)),Tt(s(b).toString(16)),Tt(s(C).toString(16)),Tt(s(S).toString(16))];return j.join("")}u.equals=function(b,C){return!b||!C?!1:u(b).toRgbString()==u(C).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function y(b,C){C=C===0?0:C||10;var S=u(b).toHsl();return S.s-=C/100,S.s=ve(S.s),u(S)}function _(b,C){C=C===0?0:C||10;var S=u(b).toHsl();return S.s+=C/100,S.s=ve(S.s),u(S)}function I(b){return u(b).desaturate(100)}function T(b,C){C=C===0?0:C||10;var S=u(b).toHsl();return S.l+=C/100,S.l=ve(S.l),u(S)}function k(b,C){C=C===0?0:C||10;var S=u(b).toRgb();return S.r=a(0,o(255,S.r-s(255*-(C/100)))),S.g=a(0,o(255,S.g-s(255*-(C/100)))),S.b=a(0,o(255,S.b-s(255*-(C/100)))),u(S)}function A(b,C){C=C===0?0:C||10;var S=u(b).toHsl();return S.l-=C/100,S.l=ve(S.l),u(S)}function H(b,C){var S=u(b).toHsl(),P=(S.h+C)%360;return S.h=P<0?360+P:P,u(S)}function z(b){var C=u(b).toHsl();return C.h=(C.h+180)%360,u(C)}function L(b){var C=u(b).toHsl(),S=C.h;return[u(b),u({h:(S+120)%360,s:C.s,l:C.l}),u({h:(S+240)%360,s:C.s,l:C.l})]}function te(b){var C=u(b).toHsl(),S=C.h;return[u(b),u({h:(S+90)%360,s:C.s,l:C.l}),u({h:(S+180)%360,s:C.s,l:C.l}),u({h:(S+270)%360,s:C.s,l:C.l})]}function he(b){var C=u(b).toHsl(),S=C.h;return[u(b),u({h:(S+72)%360,s:C.s,l:C.l}),u({h:(S+216)%360,s:C.s,l:C.l})]}function rt(b,C,S){C=C||6,S=S||30;var P=u(b).toHsl(),j=360/S,U=[u(b)];for(P.h=(P.h-(j*C>>1)+720)%360;--C;)P.h=(P.h+j)%360,U.push(u(P));return U}function ct(b,C){C=C||6;for(var S=u(b).toHsv(),P=S.h,j=S.s,U=S.v,de=[],Ae=1/C;C--;)de.push(u({h:P,s:j,v:U})),U=(U+Ae)%1;return de}u.mix=function(b,C,S){S=S===0?0:S||50;var P=u(b).toRgb(),j=u(C).toRgb(),U=S/100,de={r:(j.r-P.r)*U+P.r,g:(j.g-P.g)*U+P.g,b:(j.b-P.b)*U+P.b,a:(j.a-P.a)*U+P.a};return u(de)},u.readability=function(b,C){var S=u(b),P=u(C);return(e.max(S.getLuminance(),P.getLuminance())+.05)/(e.min(S.getLuminance(),P.getLuminance())+.05)},u.isReadable=function(b,C,S){var P=u.readability(b,C),j,U;switch(U=!1,j=lk(S),j.level+j.size){case"AAsmall":case"AAAlarge":U=P>=4.5;break;case"AAlarge":U=P>=3;break;case"AAAsmall":U=P>=7;break}return U},u.mostReadable=function(b,C,S){var P=null,j=0,U,de,Ae,Me;S=S||{},de=S.includeFallbackColors,Ae=S.level,Me=S.size;for(var nn=0;nn<C.length;nn++)U=u.readability(b,C[nn]),U>j&&(j=U,P=u(C[nn]));return u.isReadable(b,P,{level:Ae,size:Me})||!de?P:(S.includeFallbackColors=!1,u.mostReadable(b,["#fff","#000"],S))};var ht=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},me=u.hexNames=M(ht);function M(b){var C={};for(var S in b)b.hasOwnProperty(S)&&(C[b[S]]=S);return C}function G(b){return b=parseFloat(b),(isNaN(b)||b<0||b>1)&&(b=1),b}function F(b,C){ts(b)&&(b="100%");var S=qn(b);return b=o(C,a(0,parseFloat(b))),S&&(b=parseInt(b*C,10)/100),e.abs(b-C)<1e-6?1:b%C/parseFloat(C)}function ve(b){return o(1,a(0,b))}function ce(b){return parseInt(b,16)}function ts(b){return typeof b=="string"&&b.indexOf(".")!=-1&&parseFloat(b)===1}function qn(b){return typeof b=="string"&&b.indexOf("%")!=-1}function Tt(b){return b.length==1?"0"+b:""+b}function Gt(b){return b<=1&&(b=b*100+"%"),b}function ci(b){return e.round(parseFloat(b)*255).toString(16)}function O0(b){return ce(b)/255}var mn=function(){var b="[-\\+]?\\d+%?",C="[-\\+]?\\d*\\.\\d+%?",S="(?:"+C+")|(?:"+b+")",P="[\\s|\\(]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")\\s*\\)?",j="[\\s|\\(]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")\\s*\\)?";return{CSS_UNIT:new RegExp(S),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Kn(b){return!!mn.CSS_UNIT.exec(b)}function ak(b){b=b.replace(n,"").replace(r,"").toLowerCase();var C=!1;if(ht[b])b=ht[b],C=!0;else if(b=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var S;return(S=mn.rgb.exec(b))?{r:S[1],g:S[2],b:S[3]}:(S=mn.rgba.exec(b))?{r:S[1],g:S[2],b:S[3],a:S[4]}:(S=mn.hsl.exec(b))?{h:S[1],s:S[2],l:S[3]}:(S=mn.hsla.exec(b))?{h:S[1],s:S[2],l:S[3],a:S[4]}:(S=mn.hsv.exec(b))?{h:S[1],s:S[2],v:S[3]}:(S=mn.hsva.exec(b))?{h:S[1],s:S[2],v:S[3],a:S[4]}:(S=mn.hex8.exec(b))?{r:ce(S[1]),g:ce(S[2]),b:ce(S[3]),a:O0(S[4]),format:C?"name":"hex8"}:(S=mn.hex6.exec(b))?{r:ce(S[1]),g:ce(S[2]),b:ce(S[3]),format:C?"name":"hex"}:(S=mn.hex4.exec(b))?{r:ce(S[1]+""+S[1]),g:ce(S[2]+""+S[2]),b:ce(S[3]+""+S[3]),a:O0(S[4]+""+S[4]),format:C?"name":"hex8"}:(S=mn.hex3.exec(b))?{r:ce(S[1]+""+S[1]),g:ce(S[2]+""+S[2]),b:ce(S[3]+""+S[3]),format:C?"name":"hex"}:!1}function lk(b){var C,S;return b=b||{level:"AA",size:"small"},C=(b.level||"AA").toUpperCase(),S=(b.size||"small").toLowerCase(),C!=="AA"&&C!=="AAA"&&(C="AA"),S!=="small"&&S!=="large"&&(S="small"),{level:C,size:S}}t.exports?t.exports=u:window.tinycolor=u})(Math)})(KI);const eh=KI.exports;var xb=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return fY(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},ca=function(e,n){var r=e.hex?eh(e.hex):eh(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},ui=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&eh(e).isValid()},p0=function(e){if(!e)return"#fff";var n=ca(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Rf=function(e,n){var r=e.replace("\xB0","");return eh(n+" ("+r+")")._ok},Cu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function gY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zt=function(e){var n=function(r){vY(i,r);function i(s){gY(this,i);var o=mY(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=xb(a);if(u){var c=ca(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=xb(a);if(u){var c=ca(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Cu({},ca(s.color,0)),o.debounce=GI(function(a,l,u){a(l,u)},100),o}return pY(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),p(e,{...this.props,...this.state,onChange:this.handleChange,...o})}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Cu({},ca(o.color,a.oldHue))}}]),i}(x.exports.PureComponent||x.exports.Component);return n.propTypes=Cu({},e.propTypes),n.defaultProps=Cu({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},yY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function wY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var SY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){bY(i,r);function i(){var s,o,a,l;wY(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=_b(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),_b(a,l)}return yY(i,[{key:"render",value:function(){return p(n,{onFocus:this.handleFocus,onBlur:this.handleBlur,children:p(e,{...this.props,...this.state})})}}]),i}(le.Component)},EY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xY=13,_Y=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,h=e.focusStyle,d=h===void 0?{}:h,f=n==="transparent",v=X({default:{swatch:EY({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?d:{})}}),w=function(_){return s(n,_)},E=function(_){return _.keyCode===xY&&s(n,_)},m=function(_){return o(n,_)},g={};return o&&(g.onMouseOver=m),$("div",{style:v.swatch,onClick:w,title:l,tabIndex:0,onKeyDown:E,...g,children:[u,f&&p(Lo,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"})]})};const Zi=SY(_Y);var CY=function(e){var n=e.direction,r=X({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return p("div",{style:r.picker})},WI=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,h=e.className,d=h===void 0?"":h,f=X({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return p("div",{style:f.picker,className:"alpha-picker "+d,children:p(o0,{...f.alpha,rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})})};WI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:CY};zt(WI);function QI(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var TY="__lodash_hash_undefined__";function IY(t){return this.__data__.set(t,TY),this}function kY(t){return this.__data__.has(t)}function th(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new br;++e<n;)this.add(t[e])}th.prototype.add=th.prototype.push=IY;th.prototype.has=kY;function AY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function $Y(t,e){return t.has(e)}var RY=1,OY=2;function YI(t,e,n,r,i,s){var o=n&RY,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&OY?new th:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var v=t[h],w=e[h];if(r)var E=o?r(w,v,h,e,t,s):r(v,w,h,t,e,s);if(E!==void 0){if(E)continue;d=!1;break}if(f){if(!AY(e,function(m,g){if(!$Y(f,g)&&(v===m||i(v,m,n,r,s)))return f.push(g)})){d=!1;break}}else if(!(v===w||i(v,w,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function NY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function PY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var DY=1,LY=2,MY="[object Boolean]",FY="[object Date]",UY="[object Error]",BY="[object Map]",jY="[object Number]",HY="[object RegExp]",VY="[object Set]",zY="[object String]",GY="[object Symbol]",qY="[object ArrayBuffer]",KY="[object DataView]",Cb=ei?ei.prototype:void 0,Of=Cb?Cb.valueOf:void 0;function WY(t,e,n,r,i,s,o){switch(n){case KY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qY:return!(t.byteLength!=e.byteLength||!s(new Xc(t),new Xc(e)));case MY:case FY:case jY:return Yl(+t,+e);case UY:return t.name==e.name&&t.message==e.message;case HY:case zY:return t==e+"";case BY:var a=NY;case VY:var l=r&DY;if(a||(a=PY),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=LY,o.set(t,e);var c=YI(a(t),a(e),r,i,s,o);return o.delete(t),c;case GY:if(Of)return Of.call(t)==Of.call(e)}return!1}function QY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function YY(t,e,n){var r=e(t);return Zt(t)?r:QY(r,n(t))}function XY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function JY(){return[]}var ZY=Object.prototype,eX=ZY.propertyIsEnumerable,Tb=Object.getOwnPropertySymbols,tX=Tb?function(t){return t==null?[]:(t=Object(t),XY(Tb(t),function(e){return eX.call(t,e)}))}:JY;const nX=tX;function Ib(t){return YY(t,f0,nX)}var rX=1,iX=Object.prototype,sX=iX.hasOwnProperty;function oX(t,e,n,r,i,s){var o=n&rX,a=Ib(t),l=a.length,u=Ib(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:sX.call(e,d)))return!1}var f=s.get(t),v=s.get(e);if(f&&v)return f==e&&v==t;var w=!0;s.set(t,e),s.set(e,t);for(var E=o;++h<l;){d=a[h];var m=t[d],g=e[d];if(r)var y=o?r(g,m,d,e,t,s):r(m,g,d,t,e,s);if(!(y===void 0?m===g||i(m,g,n,r,s):y)){w=!1;break}E||(E=d=="constructor")}if(w&&!E){var _=t.constructor,I=e.constructor;_!=I&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof I=="function"&&I instanceof I)&&(w=!1)}return s.delete(t),s.delete(e),w}var aX=Ji(An,"DataView");const bg=aX;var lX=Ji(An,"Promise");const Sg=lX;var uX=Ji(An,"Set");const Eg=uX;var cX=Ji(An,"WeakMap");const xg=cX;var kb="[object Map]",hX="[object Object]",Ab="[object Promise]",$b="[object Set]",Rb="[object WeakMap]",Ob="[object DataView]",dX=Xi(bg),fX=Xi(ul),pX=Xi(Sg),gX=Xi(Eg),mX=Xi(xg),gi=Yi;(bg&&gi(new bg(new ArrayBuffer(1)))!=Ob||ul&&gi(new ul)!=kb||Sg&&gi(Sg.resolve())!=Ab||Eg&&gi(new Eg)!=$b||xg&&gi(new xg)!=Rb)&&(gi=function(t){var e=Yi(t),n=e==hX?t.constructor:void 0,r=n?Xi(n):"";if(r)switch(r){case dX:return Ob;case fX:return kb;case pX:return Ab;case gX:return $b;case mX:return Rb}return e});const Nb=gi;var vX=1,Pb="[object Arguments]",Db="[object Array]",Tu="[object Object]",yX=Object.prototype,Lb=yX.hasOwnProperty;function wX(t,e,n,r,i,s){var o=Zt(t),a=Zt(e),l=o?Db:Nb(t),u=a?Db:Nb(e);l=l==Pb?Tu:l,u=u==Pb?Tu:u;var c=l==Tu,h=u==Tu,d=l==u;if(d&&Zc(t)){if(!Zc(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Bn),o||h0(t)?YI(t,e,n,r,i,s):WY(t,e,l,n,r,i,s);if(!(n&vX)){var f=c&&Lb.call(t,"__wrapped__"),v=h&&Lb.call(e,"__wrapped__");if(f||v){var w=f?t.value():t,E=v?e.value():e;return s||(s=new Bn),i(w,E,n,r,s)}}return d?(s||(s=new Bn),oX(t,e,n,r,i,s)):!1}function g0(t,e,n,r,i){return t===e?!0:t==null||e==null||!ti(t)&&!ti(e)?t!==t&&e!==e:wX(t,e,n,r,g0,i)}var bX=1,SX=2;function EX(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new Bn;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?g0(c,u,bX|SX,r,h):d))return!1}}return!0}function XI(t){return t===t&&!gn(t)}function xX(t){for(var e=f0(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,XI(i)]}return e}function JI(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function _X(t){var e=xX(t);return e.length==1&&e[0][2]?JI(e[0][0],e[0][1]):function(n){return n===t||EX(n,t,e)}}var CX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TX=/^\w*$/;function m0(t,e){if(Zt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||xd(t)?!0:TX.test(t)||!CX.test(t)||e!=null&&t in Object(e)}var IX="Expected a function";function v0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(IX);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(v0.Cache||br),n}v0.Cache=br;var kX=500;function AX(t){var e=v0(t,function(r){return n.size===kX&&n.clear(),r}),n=e.cache;return e}var $X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RX=/\\(\\)?/g,OX=AX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($X,function(n,r,i,s){e.push(i?s.replace(RX,"$1"):r||n)}),e});const NX=OX;var PX=1/0,Mb=ei?ei.prototype:void 0,Fb=Mb?Mb.toString:void 0;function ZI(t){if(typeof t=="string")return t;if(Zt(t))return QI(t,ZI)+"";if(xd(t))return Fb?Fb.call(t):"";var e=t+"";return e=="0"&&1/t==-PX?"-0":e}function DX(t){return t==null?"":ZI(t)}function ek(t,e){return Zt(t)?t:m0(t,e)?[t]:NX(DX(t))}var LX=1/0;function Cd(t){if(typeof t=="string"||xd(t))return t;var e=t+"";return e=="0"&&1/t==-LX?"-0":e}function tk(t,e){e=ek(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Cd(e[n++])];return n&&n==r?t:void 0}function MX(t,e,n){var r=t==null?void 0:tk(t,e);return r===void 0?n:r}function FX(t,e){return t!=null&&e in Object(t)}function UX(t,e,n){e=ek(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Cd(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&c0(i)&&d0(o,i)&&(Zt(t)||Jc(t)))}function BX(t,e){return t!=null&&UX(t,e,FX)}var jX=1,HX=2;function VX(t,e){return m0(t)&&XI(e)?JI(Cd(t),e):function(n){var r=MX(n,t);return r===void 0&&r===e?BX(n,t):g0(e,r,jX|HX)}}function zX(t){return function(e){return e==null?void 0:e[t]}}function GX(t){return function(e){return tk(e,t)}}function qX(t){return m0(t)?zX(Cd(t)):GX(t)}function KX(t){return typeof t=="function"?t:t==null?Ed:typeof t=="object"?Zt(t)?VX(t[0],t[1]):_X(t):qX(t)}function WX(t,e){var n=-1,r=Fo(t)?Array(t.length):[];return qI(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function es(t,e){var n=Zt(t)?QI:WX;return n(t,KX(e))}var QX=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=X({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return $("div",{style:s.swatches,children:[es(n,function(o){return p(Zi,{color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}},o)}),p("div",{style:s.clear})]})},y0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=i==="transparent",f=function(E,m){ui(E)&&n({hex:E,source:"hex"},m)},v=X(Vt({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:p0(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return $("div",{style:v.card,className:"block-picker "+h,children:[p("div",{style:v.triangle}),$("div",{style:v.head,children:[d&&p(Lo,{borderRadius:"6px 6px 0 0"}),p("div",{style:v.label,children:i})]}),$("div",{style:v.body,children:[p(QX,{colors:s,onClick:f,onSwatchHover:r}),p(oe,{style:{input:v.input},value:i,onChange:f})]})]})};y0.propTypes={width:D.exports.oneOfType([D.exports.string,D.exports.number]),colors:D.exports.arrayOf(D.exports.string),triangle:D.exports.oneOf(["top","hide"]),styles:D.exports.object};y0.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};zt(y0);var as={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},ls={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},us={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},cs={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},hs={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},ds={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},fs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},ps={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},gs={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},ha={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},ms={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},vs={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},ys={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ws={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},bs={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ss={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Es={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},xs={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},nk=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=X({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return p("div",{style:u.swatch,children:p(Zi,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}})})};nk.defaultProps={circleSize:28,circleSpacing:14};const YX=s0(nk);var w0=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,h=e.className,d=h===void 0?"":h,f=X(Vt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),v=function(E,m){return r({hex:E,source:"hex"},m)};return p("div",{style:f.card,className:"circle-picker "+d,children:es(s,function(w){return p(YX,{color:w,onClick:v,onSwatchHover:i,active:o===w.toLowerCase(),circleSize:a,circleSpacing:c},w)})})};w0.propTypes={width:D.exports.oneOfType([D.exports.string,D.exports.number]),circleSize:D.exports.number,circleSpacing:D.exports.number,styles:D.exports.object};w0.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[as[500],ls[500],us[500],cs[500],hs[500],ds[500],fs[500],ps[500],gs[500],ha[500],ms[500],vs[500],ys[500],ws[500],bs[500],Ss[500],Es[500],xs[500]],styles:{}};zt(w0);function Ub(t){return t===void 0}var rk={};Object.defineProperty(rk,"__esModule",{value:!0});var Bb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XX=x.exports,jb=JX(XX);function JX(t){return t&&t.__esModule?t:{default:t}}function ZX(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var Iu=24,eJ=rk.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Iu:r,s=t.height,o=s===void 0?Iu:s,a=t.style,l=a===void 0?{}:a,u=ZX(t,["fill","width","height","style"]);return jb.default.createElement("svg",Bb({viewBox:"0 0 "+Iu+" "+Iu,style:Bb({fill:n,width:i,height:o},l)},u),jb.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},tJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function nJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ik=function(t){iJ(e,t);function e(n){nJ(this,e);var r=rJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?ui(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Ub(i.s)?r.props.hsl.s:i.s),l:Number(Ub(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return tJ(e,[{key:"render",value:function(){var r=this,i=X({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=p("div",{style:i.fields,className:"flexbox-fix",children:p("div",{style:i.field,children:p(oe,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange})})}):this.state.view==="rgb"?s=$("div",{style:i.fields,className:"flexbox-fix",children:[p("div",{style:i.field,children:p(oe,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})}),p("div",{style:i.field,children:p(oe,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})}),p("div",{style:i.field,children:p(oe,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})}),p("div",{style:i.alpha,children:p(oe,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange})})]}):this.state.view==="hsl"&&(s=$("div",{style:i.fields,className:"flexbox-fix",children:[p("div",{style:i.field,children:p(oe,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})}),p("div",{style:i.field,children:p(oe,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})}),p("div",{style:i.field,children:p(oe,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})}),p("div",{style:i.alpha,children:p(oe,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})})]})),$("div",{style:i.wrap,className:"flexbox-fix",children:[s,p("div",{style:i.toggle,children:p("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a},children:p(eJ,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight})})})]})}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(le.Component);ik.defaultProps={view:"hex"};var Hb=function(){var e=X({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return p("div",{style:e.picker})},sJ=function(){var e=X({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return p("div",{style:e.picker})},b0=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,h=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,v=e.defaultView,w=X(Vt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return $("div",{style:w.picker,className:"chrome-picker "+f,children:[p("div",{style:w.saturation,children:p(_d,{style:w.Saturation,hsl:o,hsv:a,pointer:sJ,onChange:r})}),$("div",{style:w.body,children:[$("div",{style:w.controls,className:"flexbox-fix",children:[p("div",{style:w.color,children:$("div",{style:w.swatch,children:[p("div",{style:w.active}),p(Lo,{renderers:u})]})}),$("div",{style:w.toggles,children:[p("div",{style:w.hue,children:p(Mo,{style:w.Hue,hsl:o,pointer:Hb,onChange:r})}),p("div",{style:w.alpha,children:p(o0,{style:w.Alpha,rgb:s,hsl:o,pointer:Hb,renderers:u,onChange:r})})]})]}),p(ik,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})]})]})};b0.propTypes={width:D.exports.oneOfType([D.exports.string,D.exports.number]),disableAlpha:D.exports.bool,styles:D.exports.object,defaultView:D.exports.oneOf(["hex","rgb","hsl"])};b0.defaultProps={width:225,disableAlpha:!1,styles:{}};const oJ=zt(b0);var aJ=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=X({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:p0(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return p(Zi,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n},children:p("div",{style:a.dot})})},lJ=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=X({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return $("div",{style:s.fields,className:"flexbox-fix",children:[p("div",{style:s.active}),p(oe,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),p(oe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),p(oe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),p(oe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o})]})},S0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=X(Vt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(v,w){v.hex?ui(v.hex)&&n({hex:v.hex,source:"hex"},w):n(v,w)};return p(Xl,{style:h.Compact,styles:l,children:$("div",{style:h.compact,className:"compact-picker "+c,children:[$("div",{children:[es(i,function(f){return p(aJ,{color:f,active:f.toLowerCase()===s,onClick:d,onSwatchHover:r},f)}),p("div",{style:h.clear})]}),p(lJ,{hex:s,rgb:o,onChange:d})]})})};S0.propTypes={colors:D.exports.arrayOf(D.exports.string),styles:D.exports.object};S0.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};zt(S0);var uJ=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=X({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return p("div",{style:a.swatch,children:p(Zi,{color:r,onClick:i,onHover:s,focusStyle:o})})};const cJ=s0(uJ);var E0=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=X(Vt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(v,w){return i({hex:v,source:"hex"},w)};return $("div",{style:h.card,className:"github-picker "+c,children:[p("div",{style:h.triangleShadow}),p("div",{style:h.triangle}),es(r,function(f){return p(cJ,{color:f,onClick:d,onSwatchHover:s},f)})]})};E0.propTypes={width:D.exports.oneOfType([D.exports.string,D.exports.number]),colors:D.exports.arrayOf(D.exports.string),triangle:D.exports.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:D.exports.object};E0.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};zt(E0);var hJ=function(e){var n=e.direction,r=X({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return p("div",{style:r.picker})},x0=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=X(Vt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),f=function(w){return i({a:1,h:w.h,l:.5,s:1})};return p("div",{style:d.picker,className:"hue-picker "+h,children:p(Mo,{...d.hue,hsl:s,pointer:a,onChange:f,direction:o})})};x0.propTypes={styles:D.exports.object};x0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:hJ,styles:{}};zt(x0);var dJ=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=X(Vt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,f){d.hex?ui(d.hex)&&n({hex:d.hex,source:"hex"},f):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f)};return p(Xl,{styles:o,children:$("div",{style:u.material,className:"material-picker "+l,children:[p(oe,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),$("div",{style:u.split,className:"flexbox-fix",children:[p("div",{style:u.third,children:p(oe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})}),p("div",{style:u.third,children:p(oe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})}),p("div",{style:u.third,children:p(oe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})})]})]})})};zt(dJ);var fJ=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=X({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?ui(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return $("div",{style:o.fields,children:[p(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),p(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),p(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),p("div",{style:o.divider}),p(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),p(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),p(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),p("div",{style:o.divider}),p(oe,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),$("div",{style:o.fieldSymbols,children:[p("div",{style:o.symbol,children:"\xB0"}),p("div",{style:o.symbol,children:"%"}),p("div",{style:o.symbol,children:"%"})]})]})},pJ=function(e){var n=e.hsl,r=X({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return p("div",{style:r.picker})},gJ=function(){var e=X({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return $("div",{style:e.pointer,children:[p("div",{style:e.left,children:p("div",{style:e.leftInside})}),p("div",{style:e.right,children:p("div",{style:e.rightInside})})]})},Vb=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=X({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return p("div",{style:o.button,onClick:n,children:r||i})},mJ=function(e){var n=e.rgb,r=e.currentColor,i=X({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return $("div",{children:[p("div",{style:i.label,children:"new"}),$("div",{style:i.swatches,children:[p("div",{style:i.new}),p("div",{style:i.current})]}),p("div",{style:i.label,children:"current"})]})},vJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function yJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _0=function(t){bJ(e,t);function e(n){yJ(this,e);var r=wJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return vJ(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=X(Vt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return $("div",{style:l.picker,className:"photoshop-picker "+a,children:[p("div",{style:l.head,children:this.props.header}),$("div",{style:l.body,className:"flexbox-fix",children:[p("div",{style:l.saturation,children:p(_d,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:pJ,onChange:this.props.onChange})}),p("div",{style:l.hue,children:p(Mo,{direction:"vertical",hsl:this.props.hsl,pointer:gJ,onChange:this.props.onChange})}),p("div",{style:l.controls,children:$("div",{style:l.top,className:"flexbox-fix",children:[p("div",{style:l.previews,children:p(mJ,{rgb:this.props.rgb,currentColor:this.state.currentColor})}),$("div",{style:l.actions,children:[p(Vb,{label:"OK",onClick:this.props.onAccept,active:!0}),p(Vb,{label:"Cancel",onClick:this.props.onCancel}),p(fJ,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex})]})]})})]})]})}}]),e}(le.Component);_0.propTypes={header:D.exports.string,styles:D.exports.object};_0.defaultProps={header:"Color Picker",styles:{}};zt(_0);var SJ=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=X({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,h){c.hex?ui(c.hex)&&n({hex:c.hex,source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},h):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},h))};return $("div",{style:a.fields,className:"flexbox-fix",children:[p("div",{style:a.double,children:p(oe,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})}),p("div",{style:a.single,children:p(oe,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})}),p("div",{style:a.single,children:p(oe,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})}),p("div",{style:a.single,children:p(oe,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})}),p("div",{style:a.alpha,children:p(oe,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})})]})},sk=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=X({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return p("div",{style:o.colors,className:"flexbox-fix",children:n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return p("div",{style:o.swatchWrap,children:p(Zi,{...u,style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})},c)})})};sk.propTypes={colors:D.exports.arrayOf(D.exports.oneOfType([D.exports.string,D.exports.shape({color:D.exports.string,title:D.exports.string})])).isRequired};var EJ=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,h=e.renderers,d=e.styles,f=d===void 0?{}:d,v=e.className,w=v===void 0?"":v,E=X(Vt({default:EJ({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return $("div",{style:E.picker,className:"sketch-picker "+w,children:[p("div",{style:E.saturation,children:p(_d,{style:E.Saturation,hsl:o,hsv:s,onChange:a})}),$("div",{style:E.controls,className:"flexbox-fix",children:[$("div",{style:E.sliders,children:[p("div",{style:E.hue,children:p(Mo,{style:E.Hue,hsl:o,onChange:a})}),p("div",{style:E.alpha,children:p(o0,{style:E.Alpha,rgb:r,hsl:o,renderers:h,onChange:a})})]}),$("div",{style:E.color,children:[p(Lo,{}),p("div",{style:E.activeColor})]})]}),p(SJ,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),p(sk,{colors:c,onClick:a,onSwatchHover:l})]})};C0.propTypes={disableAlpha:D.exports.bool,width:D.exports.oneOfType([D.exports.string,D.exports.number]),styles:D.exports.object};C0.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};zt(C0);var Jo=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=X({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(d){return s({h:n.h,s:.5,l:r,source:"hsl"},d)};return p("div",{style:u.swatch,onClick:c})},xJ=function(e){var n=e.onClick,r=e.hsl,i=X({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return $("div",{style:i.swatches,children:[p("div",{style:i.swatch,children:p(Jo,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})}),p("div",{style:i.swatch,children:p(Jo,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})}),p("div",{style:i.swatch,children:p(Jo,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})}),p("div",{style:i.swatch,children:p(Jo,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})}),p("div",{style:i.swatch,children:p(Jo,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})}),p("div",{style:i.clear})]})},_J=function(){var e=X({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return p("div",{style:e.picker})},T0=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=X(Vt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return $("div",{style:u.wrap||{},className:"slider-picker "+l,children:[p("div",{style:u.hue,children:p(Mo,{style:u.Hue,hsl:n,pointer:i,onChange:r})}),p("div",{style:u.swatches,children:p(xJ,{hsl:n,onClick:r})})]})};T0.propTypes={styles:D.exports.object};T0.defaultProps={pointer:_J,styles:{}};zt(T0);var ok={};Object.defineProperty(ok,"__esModule",{value:!0});var zb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CJ=x.exports,Gb=TJ(CJ);function TJ(t){return t&&t.__esModule?t:{default:t}}function IJ(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var ku=24,kJ=ok.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?ku:r,s=t.height,o=s===void 0?ku:s,a=t.style,l=a===void 0?{}:a,u=IJ(t,["fill","width","height","style"]);return Gb.default.createElement("svg",zb({viewBox:"0 0 "+ku+" "+ku,style:zb({fill:n,width:i,height:o},l)},u),Gb.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},AJ=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=X({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:p0(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return p(Zi,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n},children:p("div",{style:u.check,children:p(kJ,{})})})},$J=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=X({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return p("div",{style:o.group,children:es(i,function(a,l){return p(AJ,{color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r},a)})})},I0=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=X(Vt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(w,E){return i({hex:w,source:"hex"},E)};return p("div",{style:d.picker,className:"swatches-picker "+h,children:p(Xl,{children:p("div",{style:d.overflow,children:$("div",{style:d.body,children:[es(o,function(v){return p($J,{group:v,active:a,onClick:f,onSwatchHover:s},v.toString())}),p("div",{style:d.clear})]})})})})};I0.propTypes={width:D.exports.oneOfType([D.exports.string,D.exports.number]),height:D.exports.oneOfType([D.exports.string,D.exports.number]),colors:D.exports.arrayOf(D.exports.arrayOf(D.exports.string)),styles:D.exports.object};I0.defaultProps={width:320,height:240,colors:[[as[900],as[700],as[500],as[300],as[100]],[ls[900],ls[700],ls[500],ls[300],ls[100]],[us[900],us[700],us[500],us[300],us[100]],[cs[900],cs[700],cs[500],cs[300],cs[100]],[hs[900],hs[700],hs[500],hs[300],hs[100]],[ds[900],ds[700],ds[500],ds[300],ds[100]],[fs[900],fs[700],fs[500],fs[300],fs[100]],[ps[900],ps[700],ps[500],ps[300],ps[100]],[gs[900],gs[700],gs[500],gs[300],gs[100]],["#194D33",ha[700],ha[500],ha[300],ha[100]],[ms[900],ms[700],ms[500],ms[300],ms[100]],[vs[900],vs[700],vs[500],vs[300],vs[100]],[ys[900],ys[700],ys[500],ys[300],ys[100]],[ws[900],ws[700],ws[500],ws[300],ws[100]],[bs[900],bs[700],bs[500],bs[300],bs[100]],[Ss[900],Ss[700],Ss[500],Ss[300],Ss[100]],[Es[900],Es[700],Es[500],Es[300],Es[100]],[xs[900],xs[700],xs[500],xs[300],xs[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};zt(I0);var k0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=X(Vt({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(w,E){ui(w)&&n({hex:w,source:"hex"},E)};return $("div",{style:d.card,className:"twitter-picker "+h,children:[p("div",{style:d.triangleShadow}),p("div",{style:d.triangle}),$("div",{style:d.body,children:[es(s,function(v,w){return p(Zi,{color:v,hex:v,style:d.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}},w)}),p("div",{style:d.hash,children:"#"}),p(oe,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:f}),p("div",{style:d.clear})]})]})};k0.propTypes={width:D.exports.oneOfType([D.exports.string,D.exports.number]),triangle:D.exports.oneOf(["hide","top-left","top-right"]),colors:D.exports.arrayOf(D.exports.string),styles:D.exports.object};k0.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};zt(k0);var A0=function(e){var n=X({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return p("div",{style:n.picker})};A0.propTypes={hsl:D.exports.shape({h:D.exports.number,s:D.exports.number,l:D.exports.number,a:D.exports.number})};A0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var $0=function(e){var n=X({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return p("div",{style:n.picker})};$0.propTypes={hsl:D.exports.shape({h:D.exports.number,s:D.exports.number,l:D.exports.number,a:D.exports.number})};$0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var RJ=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(f,v){if(f.hex)ui(f.hex)&&n({hex:f.hex,source:"hex"},v);else if(f.rgb){var w=f.rgb.split(",");Rf(f.rgb,"rgb")&&n({r:w[0],g:w[1],b:w[2],a:1,source:"rgb"},v)}else if(f.hsv){var E=f.hsv.split(",");Rf(f.hsv,"hsv")&&(E[2]=E[2].replace("%",""),E[1]=E[1].replace("%",""),E[0]=E[0].replace("\xB0",""),E[1]==1?E[1]=.01:E[2]==1&&(E[2]=.01),n({h:Number(E[0]),s:Number(E[1]),v:Number(E[2]),source:"hsv"},v))}else if(f.hsl){var m=f.hsl.split(",");Rf(f.hsl,"hsl")&&(m[2]=m[2].replace("%",""),m[1]=m[1].replace("%",""),m[0]=m[0].replace("\xB0",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(m[0]),s:Number(m[1]),v:Number(m[2]),source:"hsl"},v))}},l=X({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"\xB0, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(o.h)+"\xB0, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return p("div",{style:l.wrap,className:"flexbox-fix",children:$("div",{style:l.fields,children:[p("div",{style:l.double,children:p(oe,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})}),$("div",{style:l.column,children:[p("div",{style:l.single,children:p(oe,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})}),p("div",{style:l.single,children:p(oe,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})}),p("div",{style:l.single,children:p(oe,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})})]})]})})},R0=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,h=e.className,d=h===void 0?"":h,f=X(Vt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return $("div",{style:f.picker,className:"google-picker "+d,children:[p("div",{style:f.head,children:l}),p("div",{style:f.swatch}),p("div",{style:f.saturation,children:p(_d,{hsl:s,hsv:o,pointer:A0,onChange:r})}),$("div",{style:f.body,children:[p("div",{style:f.controls,className:"flexbox-fix",children:p("div",{style:f.hue,children:p(Mo,{style:f.Hue,hsl:s,radius:"4px",pointer:$0,onChange:r})})}),p(RJ,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})]})]})};R0.propTypes={width:D.exports.oneOfType([D.exports.string,D.exports.number]),styles:D.exports.object,header:D.exports.string};R0.defaultProps={width:652,styles:{},header:"Color picker"};zt(R0);const OJ=({index:t,color:e,name:n,onUpdate:r,onRename:i,onDelete:s})=>{const[o,a]=x.exports.useState(e),[l,u]=x.exports.useState(!1),[c,h]=x.exports.useState(!1),[d,f]=x.exports.useState(!1);x.exports.useEffect(()=>{c&&(async()=>setTimeout(()=>{h(!1)},"500"))()},[c]);function v(){u(!0),r(t,o)}function w(){navigator.clipboard.writeText(o),h(!0)}return $("div",{className:"m-2 w-16 sm:w-24 ",children:[p(is,{className:"relative",children:({open:E})=>$(vl,{children:[!E&&!l&&a(e),p(is.Overlay,{className:"fixed inset-0 z-10 bg-gray-900/80"}),p(is.Button,{children:p("div",{className:"h-16 w-16 rounded-full hover:cursor-pointer sm:h-24 sm:w-24",style:{backgroundColor:o}})}),$(is.Panel,{className:"absolute z-10 shadow-lg",children:[p(oJ,{color:o,onChange:m=>a(m.hex)}),$("div",{className:"flex",children:[p(is.Button,{onClick:v,className:"btn btn-create w-full bg-gray-100",children:"Confirm"}),p(is.Button,{onClick:()=>a(e),className:"btn btn-delete w-full bg-gray-100",children:"Cancel"})]})]})]})}),$("div",{className:"flex items-center text-sm font-light",children:[p(Bv,{onClick:()=>f(!0),className:"transform-jump mr-1 h-6 w-6 text-gray-500 hover:cursor-pointer hover:text-blue-500"}),p("p",{children:n||"color name"})]}),$("div",{className:"flex items-center text-sm font-light",children:[p(N3,{onClick:w,className:"transform-jump mr-1 h-6 w-6 text-gray-500 hover:cursor-pointer hover:text-gray-900"}),c?p("div",{className:"m-1 w-full rounded-lg bg-gray-900 text-center text-gray-100",children:"Copied"}):p("div",{className:"p-1",children:o})]}),p("button",{onClick:()=>s(t),className:"btn btn-delete p-[1px] text-xs font-light",children:p(Hv,{className:" inline-block h-4"})}),d&&p(Wc,{onConfirm:E=>i(t,E),dialogTitle:"Rename Color Block",originalName:n||"anon",isOpen:d,setIsOpen:f})]})};async function NJ(t){const e=jt(Ue,ne.BASE_COLLECTION,Ne.currentUser.uid,ne.SCHEMES,t.currentSchemeId,t.paletteGroup,t.paletteId);await Ki(e,{colorNames:t.updatedColorNames})}function PJ(t){const e=Ht(),{data:n}=vr();return zn(NJ,{onSuccess:()=>{e.invalidateQueries([n,t])}})}const DJ=({paletteType:t,docId:e,name:n,colors:r,colorNames:i})=>{const s=vr(),o=d5(t),a=m5(t),l=p5(t),u=PJ(t),[c,h]=x.exports.useState(!1);function d(g){h(!1);const y={schemeId:s.data,paletteType:t,paletteId:e,paletteName:g||`random: ${Math.random()*100}`};a.mutate(y)}function f(){const g={schemeId:s.data,paletteTypeId:t,paletteId:e};o.mutate(g)}function v(){if(!s.isLoading){const g={currentSchemeId:s.data,paletteGroup:t,paletteId:e,updatedColors:r.concat("#000")},y={currentSchemeId:s.data,paletteGroup:t,paletteId:e,updatedColorNames:i.concat("nucolo")};l.mutate(g),u.mutate(y)}}function w(g,y){if(!s.isLoading){r[g]=y;const _={currentSchemeId:s.data,paletteGroup:t,paletteId:e,updatedColors:r};l.mutate(_)}}function E(g,y){if(!s.isLoading){i[g]=y;const _={currentSchemeId:s.data,paletteGroup:t,paletteId:e,updatedColorNames:i};u.mutate(_)}}function m(g){if(!s.isLoading){r.splice(g,1),i.splice(g,1);const y={currentSchemeId:s.data,paletteGroup:t,paletteId:e,updatedColors:r},_={currentSchemeId:s.data,paletteGroup:t,paletteId:e,updatedColorNames:i};l.mutate(y),u.mutate(_)}}return $("article",{className:"mt-4 w-max max-w-full rounded-md border border-gray-300 p-1 ",children:[$("header",{className:"flex flex-wrap items-center gap-1 border-b border-gray-300 p-1",children:[p("h3",{children:n}),$("button",{onClick:v,className:"btn btn-create flex items-center p-[2px] text-sm",children:[p(jv,{className:"inline-block h-5"}),p("span",{children:"New Color"})]}),$("button",{onClick:()=>h(!0),className:"btn btn-update flex items-center p-[2px] text-sm",children:[p(Bv,{className:"inline-block h-5"}),p("span",{children:"Rename Palette"})]}),$("button",{className:"btn btn-delete flex items-center p-[2px] text-sm",onClick:f,children:[p(Hv,{className:" inline-block h-5"}),p("span",{children:"Delete Palette"})]})]}),p("main",{className:"flex  flex-wrap ",children:r.map((g,y)=>p(OJ,{index:y,color:g,name:i[y],onUpdate:w,onRename:E,onDelete:m},`${e}${g}${y}`))}),c&&p(Wc,{onConfirm:d,dialogTitle:"Rename Palette",originalName:n,isOpen:c,setIsOpen:h})]})},Nf=({groupName:t})=>{const e=c5(t),n=vr(),r=l5(t);function i(){const o="new paletteo",a={schemeId:n.data,paletteType:t,paletteName:o};r.mutate(a)}function s(){const o=[];for(const[a,l]of e.data){const u=p(DJ,{paletteType:t,docId:a,name:l.name,colors:l.colors,colorNames:l.colorNames},a);o.push(u)}return o}return $("div",{className:"mt-4",children:[$("header",{className:"flex items-end ",children:[p("h1",{className:" uppercase",children:t}),$("button",{onClick:i,className:"btn btn-create ml-4 flex items-center p-[2px]",children:[p(jv,{className:" inline-block h-6 "}),p("span",{className:"",children:"New Palette"})]})]}),!e.isLoading&&s()]})},LJ=()=>{const t=GT();return p(vl,{children:t.isLoading||t.isStale?null:$("div",{className:"max-w-screen-2xl px-1 sm:mx-6 lg:mx-9 2xl:mx-auto",children:[p(Nf,{groupName:Qs.PRIMARY_PALETTES}),p(Nf,{groupName:Qs.NEUTRAL_PALETTES}),p(Nf,{groupName:Qs.ACCENT_PALETTES})]})})};function MJ(){const t=Ht(),e=IT(),n=TT();return x.exports.useEffect(()=>{Kx(Ne,async r=>{if(r)if(r.isAnonymous){const i=jt(Ue,ne.BASE_COLLECTION,r.uid),s=await qc(i);if(s.exists())n.mutate(s.data().currentSchemeId);else{const o={uid:r.uid};e.mutate(o)}}else t.invalidateQueries([...Ve.GET_CURRENT_SCHEME_ID]),t.invalidateQueries([...Ve.GET_CURRENT_SCHEME]),t.invalidateQueries([...Ve.GET_ALL_SCHEMES]);else R2(Ne)})},[]),$("div",{children:[p("div",{className:"sticky top-0 z-50 w-screen max-w-full border-b border-gray-50 backdrop-blur-3xl",children:p(o5,{})}),p("div",{children:p(LJ,{})})]})}const FJ=new H$;Pf.createRoot(document.getElementById("root")).render($(aR,{client:FJ,children:[p(MJ,{}),p(SR,{})]}))});export default UJ();
